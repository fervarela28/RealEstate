!function(t){function e(e){for(var n,r,o=e[0],s=e[1],a=0,u=[];a<o.length;a++)r=o[a],i[r]&&u.push(i[r][0]),i[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);for(c&&c(e);u.length;)u.shift()()}var n={},r={71:0},i={71:0};function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(t){var e=[];r[t]?e.push(r[t]):0!==r[t]&&{9:1,20:1,33:1}[t]&&e.push(r[t]=new Promise(function(e,n){for(var r="css/"+({2:"core~phase1~phase2~phase3~phase5~sdkBindings~webvr~ws-gui",3:"core~phase3~sc-gui~ws-gui",6:"sc-gui~sdkBindings~ws-gui",7:"vendors~core~webvr",9:"vendors~sc-gui~ws-gui",10:"phase6~tourhelper",13:"core~phase2~webvr",14:"vendors~sc-gui",15:"vendors~phase1",16:"vendors~phase6",17:"vendors~gui",18:"vendors~control-kit",19:"vendors~core",20:"sc-gui",21:"phase6",22:"webvr",23:"360s",24:"vr",25:"phase4",26:"phase3",27:"phase5",29:"phase2",30:"quickstart",31:"gui",32:"phase1",33:"core",34:"sdkBindings"}[t]||t)+".css",i=o.p+r,s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var u=(l=s[a]).getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===r||u===i))return e()}var c=document.getElementsByTagName("style");for(a=0;a<c.length;a++){var l;if((u=(l=c[a]).getAttribute("data-href"))===r||u===i)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var r=e&&e.target&&e.target.src||i,o=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");o.request=r,n(o)},h.href=i,document.getElementsByTagName("head")[0].appendChild(h)}).then(function(){r[t]=0}));var n=i[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise(function(e,r){n=i[t]=[e,r]});e.push(n[2]=s);var a=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=function(t){return o.p+"js/"+t+".js"}(t);var c=setTimeout(function(){l({type:"timeout",target:u})},12e4);function l(e){u.onerror=u.onload=null,clearTimeout(c);var n=i[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+r+": "+o+")");s.type=r,s.request=o,n[1](s)}i[t]=void 0}}u.onerror=u.onload=l,a.appendChild(u)}return Promise.all(e)},o.m=t,o.c=n,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},o.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var s=window.webpackJsonp=window.webpackJsonp||[],a=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=a;o(o.s=292)}([function(t,e,n){"use strict";n.d(e,"X",function(){return a}),n.d(e,"b",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"z",function(){return l}),n.d(e,"a",function(){return h}),n.d(e,"G",function(){return f}),n.d(e,"p",function(){return p}),n.d(e,"q",function(){return i}),n.d(e,"U",function(){return y}),n.d(e,"d",function(){return m}),n.d(e,"Ua",function(){return v}),n.d(e,"H",function(){return b}),n.d(e,"Oa",function(){return g}),n.d(e,"c",function(){return _}),n.d(e,"wb",function(){return w}),n.d(e,"hb",function(){return O}),n.d(e,"Wa",function(){return x}),n.d(e,"qb",function(){return E}),n.d(e,"Xa",function(){return S}),n.d(e,"Za",function(){return P}),n.d(e,"o",function(){return d}),n.d(e,"Ya",function(){return I}),n.d(e,"Sa",function(){return T}),n.d(e,"Ha",function(){return M}),n.d(e,"V",function(){return A}),n.d(e,"jb",function(){return R}),n.d(e,"pb",function(){return L}),n.d(e,"m",function(){return k}),n.d(e,"v",function(){return C}),n.d(e,"y",function(){return j}),n.d(e,"f",function(){return D}),n.d(e,"Z",function(){return N}),n.d(e,"xb",function(){return z}),n.d(e,"A",function(){return B}),n.d(e,"fb",function(){return H}),n.d(e,"n",function(){return U}),n.d(e,"t",function(){return V}),n.d(e,"vb",function(){return F}),n.d(e,"j",function(){return q}),n.d(e,"k",function(){return G}),n.d(e,"i",function(){return K}),n.d(e,"B",function(){return W}),n.d(e,"C",function(){return Y}),n.d(e,"O",function(){return X}),n.d(e,"Q",function(){return Q}),n.d(e,"K",function(){return Z}),n.d(e,"ib",function(){return $}),n.d(e,"M",function(){return J}),n.d(e,"J",function(){return tt}),n.d(e,"Ra",function(){return et}),n.d(e,"Qa",function(){return nt}),n.d(e,"Y",function(){return rt}),n.d(e,"bb",function(){return it}),n.d(e,"mb",function(){return ot}),n.d(e,"lb",function(){return st}),n.d(e,"r",function(){return at}),n.d(e,"Ja",function(){return ut}),n.d(e,"Fa",function(){return ct}),n.d(e,"sb",function(){return lt}),n.d(e,"Ga",function(){return ht}),n.d(e,"eb",function(){return ft}),n.d(e,"Ea",function(){return pt}),n.d(e,"db",function(){return dt}),n.d(e,"cb",function(){return yt}),n.d(e,"Ia",function(){return mt}),n.d(e,"w",function(){return vt}),n.d(e,"rb",function(){return bt}),n.d(e,"gb",function(){return gt}),n.d(e,"I",function(){return _t}),n.d(e,"l",function(){return wt}),n.d(e,"nb",function(){return Ot}),n.d(e,"g",function(){return xt}),n.d(e,"T",function(){return Et}),n.d(e,"Pa",function(){return St}),n.d(e,"W",function(){return Pt}),n.d(e,"ob",function(){return Rt}),n.d(e,"h",function(){return It}),n.d(e,"F",function(){return Tt}),n.d(e,"P",function(){return Mt}),n.d(e,"Na",function(){return At}),n.d(e,"tb",function(){return Lt}),n.d(e,"Va",function(){return kt}),n.d(e,"x",function(){return Ct}),n.d(e,"Ba",function(){return jt}),n.d(e,"Ca",function(){return Dt}),n.d(e,"Aa",function(){return Nt}),n.d(e,"Ma",function(){return zt}),n.d(e,"Ta",function(){return Bt}),n.d(e,"D",function(){return Ht}),n.d(e,"La",function(){return Ut}),n.d(e,"Ka",function(){return Vt}),n.d(e,"R",function(){return Ft}),n.d(e,"u",function(){return qt}),n.d(e,"N",function(){return Gt}),n.d(e,"L",function(){return Kt}),n.d(e,"s",function(){return Wt}),n.d(e,"ab",function(){return Yt}),n.d(e,"E",function(){return Xt}),n.d(e,"kb",function(){return Qt}),n.d(e,"Da",function(){return Zt}),n.d(e,"S",function(){return $t}),n.d(e,"ub",function(){return Jt});var r,i,o=n(2),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a);!function(t){t[t.UNSUPPORTED=1]="UNSUPPORTED",t[t.WEBGL=2]="WEBGL",t[t.GENERIC=3]="GENERIC"}(i||(i={}));var d,y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),w="Transition time",O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(S);!function(t){t[t.CurrentView=0]="CurrentView",t[t.FullPanorama=1]="FullPanorama"}(d||(d={}));var R,I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(S),T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a);!function(t){t[t.NONE=0]="NONE",t[t.PIXEL=1]="PIXEL",t[t.RAYCAST=2]="RAYCAST"}(R||(R={}));var L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),k=1e3,C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),z="Rotation speed",B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),G=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),$=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),J=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),at=5,ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Ot=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),St=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),It=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),At=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),$t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a),Jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r,i,o,s,a,u=n(17),c=n(11),l=n(10);function h(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}Object.assign(h.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:(a=new l.a,function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(a.setFromEuler(t))}),applyAxisAngle:function(){var t=new l.a;return function(e,n){return this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements,o=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,s=t.z,a=t.w,u=a*e+o*r-s*n,c=a*n+s*e-i*r,l=a*r+i*n-o*e,h=-i*e-o*n-s*r;return this.x=u*a+h*-i+c*-s-l*-o,this.y=c*a+h*-o+l*-i-u*-s,this.z=l*a+h*-s+u*-o-c*-i,this},project:(s=new c.a,function(t){return s.multiplyMatrices(t.projectionMatrix,s.getInverse(t.matrixWorld)),this.applyMatrix4(s)}),unproject:function(){var t=new c.a;return function(e){return t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:(i=new h,o=new h,function(t,e){return i.set(t,t,t),o.set(e,e,e),this.clamp(i,o)}),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,o=e.x,s=e.y,a=e.z;return this.x=r*a-i*s,this.y=i*o-n*a,this.z=n*s-r*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:(r=new h,function(t){return r.copy(this).projectOnVector(t),this.sub(r)}),reflect:function(){var t=new h;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(u.a.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(3),i=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},o=function(){function t(){this.bindings=[],this.log=new r.a("module")}return t.prototype.init=function(t,e){return Promise.resolve()},t.prototype.onUpdate=function(t){},t.prototype.dispose=function(t){var e,n;try{for(var r=i(this.bindings),o=r.next();!o.done;o=r.next()){o.value.cancel()}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}this.bindings=[]},t}()},function(t,e,n){"use strict";var r,i=window.navigationStart||Date.now();!function(t){t[t.ERROR=0]="ERROR",t[t.WARN=1]="WARN",t[t.INFO=2]="INFO",t[t.DEBUG=3]="DEBUG"}(r||(r={}));var o=function(){function t(t){var e;this.timers={},this.handlers=((e={})[r.DEBUG]=console.log,e[r.INFO]=console.info,e[r.WARN]=console.warn,e[r.ERROR]=console.error,e);var n=t.split(new RegExp("/|\\\\"));this.prefix="["+n[n.length-1].replace(".js","")+"]"}return t.prototype.message=function(e,n){t.level>=e&&console&&(this.handlers[e]?this.handlers[e]:console.log).apply(console,this.addPrefix(n))},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.message(r.DEBUG,t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.message(r.INFO,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.message(r.WARN,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.message(r.ERROR,t)},t.prototype.time=function(e){t.level>=r.DEBUG&&(this.timers[e]=Date.now())},t.prototype.timeEnd=function(e){if(t.level>=r.DEBUG){var n=this.timers[e];if(!n)return;var i=(Date.now()-n)/1e3;this.debug(e,i+"s")}},t.prototype.addPrefix=function(t){var e=(Date.now()-i)/1e3+"s";return[this.prefix,e].concat(Array.prototype.slice.call(t))},t.level=r.INFO,t}();e.a=o},function(t,e,n){"use strict";var r,i,o=n(44),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.mode=n,r}return s(e,t),e}(o.a);n.d(e,"a",function(){return i}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return c}),function(t){t[t.Panorama=1]="Panorama",t[t.Dollhouse=2]="Dollhouse",t[t.Floorplan=3]="Floorplan",t[t.Outdoor=4]="Outdoor",t[t.Transition=-1]="Transition"}(i||(i={}));var u=function(t){switch(t){case"0":case 0:return i.Panorama;case"1":case 1:return i.Floorplan;case"2":case 2:return i.Dollhouse;case"3":case 3:return i.Transition}throw new a("No known conversion for Workshop int to viewmode for int: "+t,t)};function c(t){switch(t){case i.Panorama:return 0;case i.Floorplan:return 1;case i.Dollhouse:return 2;case i.Transition:return 3}throw new a("No known conversion for Viewmode to Workshop int",t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return u});var r,i,o,s=n(21),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.WAITING=1]="WAITING",t[t.LOADING=2]="LOADING",t[t.STARTING=3]="STARTING",t[t.PLAYING=4]="PLAYING",t[t.ERROR=5]="ERROR"}(i||(i={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBVR=1]="WEBVR",t[t.SHOWCASE=2]="SHOWCASE",t[t.WORKSHOP=3]="WORKSHOP"}(o||(o={}));var u=function(t){function e(e,n){void 0===n&&(n=o.SHOWCASE);var r=t.call(this)||this;return r.phaseTimes={},r.phase=e,r.application=n,r}return a(e,t),e.prototype.update=function(t){this.phase=t.phase,this.phaseTimes=t.phaseTimes,this.application=t.application,this.error=t.error},e}(s.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return u});var r=function(t){return"propertyObservers"===t||"changeObservers"===t||"isObservable"===t||"childChangeFunctions"===t||"isObservableProxy"===t||"diffRoot"===t||"elementChangedHandlers"===t||"knownKeysMap"===t||"knownKeysList"===t||"isVector3"===t||"onPropertyChanged"===t||"removeOnPropertyChanged"===t||"onChanged"===t||"target"===t},i=function(t,e){if(void 0===e&&(e=[]),t in e)return{};if(t instanceof Date)return new Date(t);if(null===t)return null;if(t.deepCopy)return t.deepCopy();if("object"==typeof t){var n=Array.isArray(t)||ArrayBuffer.isView(t)?[]:{};for(var o in t)if(!r(o)){var s=t[o];s instanceof Date?n[o]=new Date(s):"function"!=typeof s&&(n[o]="object"==typeof s?i(s,e.concat(t)):s)}return n}return t},o=function(t,e){for(var n in e)if("function"!=typeof e[n]&&(!r(n)||t.hasOwnProperty(n))){var s=e[n];if(t.hasOwnProperty(n)){var a=t[n];(null===a?null:typeof a)!==(null===s?null:typeof s)?t[n]=i(s):"object"==typeof a?a instanceof Date?t[n]=new Date(s):o(a,s):t[n]=s}else t[n]=i(s)}},s=function(t,e){var n={};for(var r in t){var i=t[r],o=e[r];a(i,o)&&(void 0===i||void 0===o?n[r]=o:typeof i!=typeof o?n[r]=o:"object"!=typeof i?n[r]=o:Array.isArray(o)?a(i,o)&&(n[r]=o):n[r]=s(i,o))}for(var r in e)r in t||(n[r]=e[r]);return n},a=function(t,e){if("object"!=typeof t)return t!==e;if(!e)return!0;for(var n in e)if(!(n in t))return!0;for(var n in t)if(a(t[n],e[n]))return!0};function u(t){return"number"==typeof t}},function(t,e,n){"use strict";n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"a",function(){return r}),n.d(e,"j",function(){return g}),n.d(e,"i",function(){return _}),n.d(e,"h",function(){return w}),n.d(e,"e",function(){return O}),n.d(e,"g",function(){return x}),n.d(e,"l",function(){return E}),n.d(e,"f",function(){return S}),n.d(e,"d",function(){return P}),n.d(e,"n",function(){return R}),n.d(e,"k",function(){return I}),n.d(e,"o",function(){return T}),n.d(e,"p",function(){return M}),n.d(e,"m",function(){return A});var r,i=n(1),o=n(10),s=n(91),a=n(166),u=n(72),c=n(17),l=n(51),h=n(11),f=n(144),p=n(48),d=new a.a,y=new f.a,m=new l.a,v=Math.PI/180,b=180/Math.PI;!function(t){t.fromVisionVector=function(t){return new i.a(t.x,t.z,-t.y)},t.toVisionVector=function(t){return new i.a(t.x,-t.z,t.y)},t.fromVisionQuaternion=function(t){return new o.a(t.x,t.z,-t.y,t.w).multiply((new o.a).setFromAxisAngle(new i.a(0,1,0),c.a.degToRad(90)))},t.toVisionQuaternion=function(t){var e=new o.a(t.x,t.y,t.z,t.w).multiply((new o.a).setFromAxisAngle(new i.a(0,1,0),c.a.degToRad(-90)));return e.set(e.x,-e.z,e.y,e.w),e}}(r||(r={}));var g=function(t){return new i.a(-t.x,t.y,t.z)},_=function(t){return new o.a(-t.z,-t.w,-t.x,-t.y)},w=function(t){return new o.a(t.x,-t.y,-t.z,t.w).normalize().multiply((new o.a).setFromAxisAngle(new i.a(0,1,0),c.a.degToRad(270)))},O=function(t,e,n){return Math.abs(t-e)<=n},x=function(t,e,n,r){return(r=r||new s.a).x=t/n.width*2-1,r.y=-e/n.height*2+1,r},E=function(t){return Math.cos(c.a.degToRad(t/2))},S=function(t,e,n){return Math.max(e,Math.min(t,n))},P=function(t,e){var n=new i.a(0,0,-1);return n.clone().applyQuaternion(t).angleTo(n.clone().applyQuaternion(e))},R=function(t,e,n,r){return y.identity().makeRotationFromQuaternion(n).setPosition(e),y.getInverse(y),y.premultiply(r.asThreeMatrix4()),d.setFromMatrix(y.asThreeMatrix4()),m.set(t,.01),d.intersectsSphere(m)},I=function(t,e,n,r){return y.identity().makeRotationFromQuaternion(e).setPosition(t),y.getInverse(y),y.premultiply(n),d.setFromMatrix(y.asThreeMatrix4()),d.intersectsBox(r)},T=function(t){var e=t.getSize(new i.a),n=Math.max(e.x,e.y,e.z);return(new u.a).setFromCenterAndSize(t.getCenter(new i.a),new i.a(n,n,n))},M=function(t,e,n,r,i){return(i-r)*((t-e)/(n-e))+r};function A(t){if(0===(e=t).x&&0===e.y&&0===e.z)return t.clone();var e,n=p.a.FORWARD.clone().applyQuaternion(t),r=new h.a;return r.lookAt(p.a.ZERO,n,p.a.UP),(new o.a).setFromRotationMatrix(r)}},function(t,e,n){"use strict";n.d(e,"s",function(){return o}),n.d(e,"r",function(){return s}),n.d(e,"k",function(){return a}),n.d(e,"i",function(){return c}),n.d(e,"l",function(){return l}),n.d(e,"m",function(){return h}),n.d(e,"h",function(){return f}),n.d(e,"f",function(){return p}),n.d(e,"e",function(){return d}),n.d(e,"a",function(){return y}),n.d(e,"d",function(){return m}),n.d(e,"q",function(){return v}),n.d(e,"n",function(){return b}),n.d(e,"b",function(){return g}),n.d(e,"p",function(){return _}),n.d(e,"j",function(){return w}),n.d(e,"g",function(){return O}),n.d(e,"o",function(){return x}),n.d(e,"c",function(){return E});var r,i,o=function(){return window.location},s=function(){var t=window.innerWidth/window.innerHeight;return isFinite(t)?t:1},a=function(){var t=navigator.userAgent||navigator.vendor,e=new RegExp("(android|bbd+|meego).+mobile|android|avantgo|bada/|blackberry|blazer|compal|elaine|fennec|\n    hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|\n    palm( os)?|phone|p(ixi|re)/|plucker|pocket|psp|series(4|6)0|symbian|treo|up.(browser|link)|vodafone|\n    wap|windows ce|xda|xiino","i"),n=new RegExp("1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|\n    amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|\n    br(e|v)w|bumb|bw-(n|u)|c55/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|\n    devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|\n    g560|gene|gf-5|g-mo|go(.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|\n    a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|\n    jemu|jigs|kddi|keji|kgt( |/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|/(k|l|u)|50|54|-[a-w])|libw|lynx|\n    m1-w|m3ga|m50/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|\n    zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|\n    nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|\n    po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55/|\n    sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|\n    sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|\n    tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|\n    vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|\n    zeto|zte-","i");return e.test(t)||n.test(t.substr(0,4))},u=function(t,e){var n=window.navigator.userAgent.match(t);return n=n?n[1].split(e):[],{major:parseInt(n[0],10)||0,minor:parseInt(n[1],10)||0,patch:parseInt(n[2],10)||0}},c=function(){var t=window.navigator.userAgent;return/iPod|iPhone|iPad/.test(t)},l=function(){var t=window.navigator.platform;return/MAC/.test(t.toUpperCase())},h=function(){var t=window.navigator.platform;return/WIN/.test(t.toUpperCase())},f=function(){var t=window.navigator.userAgent;return/Trident\//.test(t)},p=function(){return-1!==window.navigator.userAgent.indexOf("Android")},d=function(){if(!c())throw new Error("Not an iOS device");return u(/((?:\d+\_?){1,3}) like Mac OS/,"_")},y=function(){if(!p())throw new Error("Not an Android device");return u(/Android ((?:\d+\.?){1,3})/,".")},m=function(){return window.parent!==window},v=function(t,e){var n=new RegExp("[#&?]"+t+"=([^#&?]*)").exec(window.location.href);if(!n)return e;var r=n[1];return"boolean"==typeof e?"true"===r||"1"===r:"number"==typeof e?parseFloat(r):decodeURIComponent(r)},b=function(){for(var t,e=/[#&?]([^=]+)=([^#&?]+)/g,n=window.location.href,r={};null!==(t=e.exec(n));)r[t[1]]=t[2];return r},g=function(){return window.location.search.substr(1).split("&")},_=(r=window.URL||window.webkitURL,i=document.createElement("a"),document.body.appendChild(i),i.style.display="none",function(t,e){var n=r.createObjectURL(t);i.href=n,i.download=e,i.click(),r.revokeObjectURL(n)}),w=function(){return s()>1},O=function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},x=function(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},E=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}},,function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r,i,o=n(1);function s(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}Object.assign(s,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,o,s){var a=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],h=i[o+0],f=i[o+1],p=i[o+2],d=i[o+3];if(l!==d||a!==h||u!==f||c!==p){var y=1-s,m=a*h+u*f+c*p+l*d,v=m>=0?1:-1,b=1-m*m;if(b>Number.EPSILON){var g=Math.sqrt(b),_=Math.atan2(g,m*v);y=Math.sin(y*_)/g,s=Math.sin(s*_)/g}var w=s*v;if(a=a*y+h*w,u=u*y+f*w,c=c*y+p*w,l=l*y+d*w,y===1-s){var O=1/Math.sqrt(a*a+u*u+c*c+l*l);a*=O,u*=O,c*=O,l*=O}}t[e]=a,t[e+1]=u,t[e+2]=c,t[e+3]=l}}),Object.defineProperties(s.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(s.prototype,{set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,r=t._y,i=t._z,o=t.order,s=Math.cos,a=Math.sin,u=s(n/2),c=s(r/2),l=s(i/2),h=a(n/2),f=a(r/2),p=a(i/2);return"XYZ"===o?(this._x=h*c*l+u*f*p,this._y=u*f*l-h*c*p,this._z=u*c*p+h*f*l,this._w=u*c*l-h*f*p):"YXZ"===o?(this._x=h*c*l+u*f*p,this._y=u*f*l-h*c*p,this._z=u*c*p-h*f*l,this._w=u*c*l+h*f*p):"ZXY"===o?(this._x=h*c*l-u*f*p,this._y=u*f*l+h*c*p,this._z=u*c*p+h*f*l,this._w=u*c*l-h*f*p):"ZYX"===o?(this._x=h*c*l-u*f*p,this._y=u*f*l+h*c*p,this._z=u*c*p-h*f*l,this._w=u*c*l+h*f*p):"YZX"===o?(this._x=h*c*l+u*f*p,this._y=u*f*l+h*c*p,this._z=u*c*p-h*f*l,this._w=u*c*l-h*f*p):"XZY"===o&&(this._x=h*c*l-u*f*p,this._y=u*f*l-h*c*p,this._z=u*c*p+h*f*l,this._w=u*c*l+h*f*p),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],o=n[8],s=n[1],a=n[5],u=n[9],c=n[2],l=n[6],h=n[10],f=r+a+h;return f>0?(e=.5/Math.sqrt(f+1),this._w=.25/e,this._x=(l-u)*e,this._y=(o-c)*e,this._z=(s-i)*e):r>a&&r>h?(e=2*Math.sqrt(1+r-a-h),this._w=(l-u)/e,this._x=.25*e,this._y=(i+s)/e,this._z=(o+c)/e):a>h?(e=2*Math.sqrt(1+a-r-h),this._w=(o-c)/e,this._x=(i+s)/e,this._y=.25*e,this._z=(u+l)/e):(e=2*Math.sqrt(1+h-r-a),this._w=(s-i)/e,this._x=(o+c)/e,this._y=(u+l)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:(i=new o.a,function(t,e){return void 0===i&&(i=new o.a),(r=t.dot(e)+1)<1e-6?(r=0,Math.abs(t.x)>Math.abs(t.z)?i.set(-t.y,t.x,0):i.set(0,-t.z,t.y)):i.crossVectors(t,e),this._x=i.x,this._y=i.y,this._z=i.z,this._w=r,this.normalize()}),inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,o=t._w,s=e._x,a=e._y,u=e._z,c=e._w;return this._x=n*c+o*s+r*u-i*a,this._y=r*c+o*a+i*s-n*u,this._z=i*c+o*u+n*a-r*s,this._w=o*c-n*s-r*a-i*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,o=this._w,s=o*t._w+n*t._x+r*t._y+i*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var a=Math.sqrt(1-s*s);if(Math.abs(a)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var u=Math.atan2(a,s),c=Math.sin((1-e)*u)/a,l=Math.sin(e*u)/a;return this._w=o*c+this._w*l,this._x=n*c+this._x*l,this._y=r*c+this._y*l,this._z=i*c+this._z*l,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}})},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i,o,s,a,u,c=n(1);function l(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(l.prototype,{isMatrix4:!0,set:function(t,e,n,r,i,o,s,a,u,c,l,h,f,p,d,y){var m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=r,m[1]=i,m[5]=o,m[9]=s,m[13]=a,m[2]=u,m[6]=c,m[10]=l,m[14]=h,m[3]=f,m[7]=p,m[11]=d,m[15]=y,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new l).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:(u=new c.a,function(t){var e=this.elements,n=t.elements,r=1/u.setFromMatrixColumn(t,0).length(),i=1/u.setFromMatrixColumn(t,1).length(),o=1/u.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[4]=n[4]*i,e[5]=n[5]*i,e[6]=n[6]*i,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,this}),makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(r),u=Math.sin(r),c=Math.cos(i),l=Math.sin(i);if("XYZ"===t.order){var h=o*c,f=o*l,p=s*c,d=s*l;e[0]=a*c,e[4]=-a*l,e[8]=u,e[1]=f+p*u,e[5]=h-d*u,e[9]=-s*a,e[2]=d-h*u,e[6]=p+f*u,e[10]=o*a}else if("YXZ"===t.order){var y=a*c,m=a*l,v=u*c,b=u*l;e[0]=y+b*s,e[4]=v*s-m,e[8]=o*u,e[1]=o*l,e[5]=o*c,e[9]=-s,e[2]=m*s-v,e[6]=b+y*s,e[10]=o*a}else if("ZXY"===t.order){y=a*c,m=a*l,v=u*c,b=u*l;e[0]=y-b*s,e[4]=-o*l,e[8]=v+m*s,e[1]=m+v*s,e[5]=o*c,e[9]=b-y*s,e[2]=-o*u,e[6]=s,e[10]=o*a}else if("ZYX"===t.order){h=o*c,f=o*l,p=s*c,d=s*l;e[0]=a*c,e[4]=p*u-f,e[8]=h*u+d,e[1]=a*l,e[5]=d*u+h,e[9]=f*u-p,e[2]=-u,e[6]=s*a,e[10]=o*a}else if("YZX"===t.order){var g=o*a,_=o*u,w=s*a,O=s*u;e[0]=a*c,e[4]=O-g*l,e[8]=w*l+_,e[1]=l,e[5]=o*c,e[9]=-s*c,e[2]=-u*c,e[6]=_*l+w,e[10]=g-O*l}else if("XZY"===t.order){g=o*a,_=o*u,w=s*a,O=s*u;e[0]=a*c,e[4]=-l,e[8]=u*c,e[1]=g*l+O,e[5]=o*c,e[9]=_*l-w,e[2]=w*l-_,e[6]=s*c,e[10]=O*l+g}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t._x,r=t._y,i=t._z,o=t._w,s=n+n,a=r+r,u=i+i,c=n*s,l=n*a,h=n*u,f=r*a,p=r*u,d=i*u,y=o*s,m=o*a,v=o*u;return e[0]=1-(f+d),e[4]=l-v,e[8]=h+m,e[1]=l+v,e[5]=1-(c+d),e[9]=p-y,e[2]=h-m,e[6]=p+y,e[10]=1-(c+f),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:(o=new c.a,s=new c.a,a=new c.a,function(t,e,n){var r=this.elements;return a.subVectors(t,e),0===a.lengthSq()&&(a.z=1),a.normalize(),o.crossVectors(n,a),0===o.lengthSq()&&(1===Math.abs(n.z)?a.x+=1e-4:a.z+=1e-4,a.normalize(),o.crossVectors(n,a)),o.normalize(),s.crossVectors(a,o),r[0]=o.x,r[4]=s.x,r[8]=a.x,r[1]=o.y,r[5]=s.y,r[9]=a.y,r[2]=o.z,r[6]=s.z,r[10]=a.z,this}),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],s=n[4],a=n[8],u=n[12],c=n[1],l=n[5],h=n[9],f=n[13],p=n[2],d=n[6],y=n[10],m=n[14],v=n[3],b=n[7],g=n[11],_=n[15],w=r[0],O=r[4],x=r[8],E=r[12],S=r[1],P=r[5],R=r[9],I=r[13],T=r[2],M=r[6],A=r[10],L=r[14],k=r[3],C=r[7],j=r[11],D=r[15];return i[0]=o*w+s*S+a*T+u*k,i[4]=o*O+s*P+a*M+u*C,i[8]=o*x+s*R+a*A+u*j,i[12]=o*E+s*I+a*L+u*D,i[1]=c*w+l*S+h*T+f*k,i[5]=c*O+l*P+h*M+f*C,i[9]=c*x+l*R+h*A+f*j,i[13]=c*E+l*I+h*L+f*D,i[2]=p*w+d*S+y*T+m*k,i[6]=p*O+d*P+y*M+m*C,i[10]=p*x+d*R+y*A+m*j,i[14]=p*E+d*I+y*L+m*D,i[3]=v*w+b*S+g*T+_*k,i[7]=v*O+b*P+g*M+_*C,i[11]=v*x+b*R+g*A+_*j,i[15]=v*E+b*I+g*L+_*D,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new c.a;return function(e){for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],s=t[5],a=t[9],u=t[13],c=t[2],l=t[6],h=t[10],f=t[14];return t[3]*(+i*a*l-r*u*l-i*s*h+n*u*h+r*s*f-n*a*f)+t[7]*(+e*a*f-e*u*h+i*o*h-r*o*f+r*u*c-i*a*c)+t[11]*(+e*u*l-e*s*f-i*o*l+n*o*f+i*s*c-n*u*c)+t[15]*(-r*s*c-e*a*l+e*s*h+r*o*l-n*o*h+n*a*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],o=r[1],s=r[2],a=r[3],u=r[4],c=r[5],l=r[6],h=r[7],f=r[8],p=r[9],d=r[10],y=r[11],m=r[12],v=r[13],b=r[14],g=r[15],_=p*b*h-v*d*h+v*l*y-c*b*y-p*l*g+c*d*g,w=m*d*h-f*b*h-m*l*y+u*b*y+f*l*g-u*d*g,O=f*v*h-m*p*h+m*c*y-u*v*y-f*c*g+u*p*g,x=m*p*l-f*v*l-m*c*d+u*v*d+f*c*b-u*p*b,E=i*_+o*w+s*O+a*x;if(0===E){var S="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(S);return console.warn(S),this.identity()}var P=1/E;return n[0]=_*P,n[1]=(v*d*a-p*b*a-v*s*y+o*b*y+p*s*g-o*d*g)*P,n[2]=(c*b*a-v*l*a+v*s*h-o*b*h-c*s*g+o*l*g)*P,n[3]=(p*l*a-c*d*a-p*s*h+o*d*h+c*s*y-o*l*y)*P,n[4]=w*P,n[5]=(f*b*a-m*d*a+m*s*y-i*b*y-f*s*g+i*d*g)*P,n[6]=(m*l*a-u*b*a-m*s*h+i*b*h+u*s*g-i*l*g)*P,n[7]=(u*d*a-f*l*a+f*s*h-i*d*h-u*s*y+i*l*y)*P,n[8]=O*P,n[9]=(m*p*a-f*v*a-m*o*y+i*v*y+f*o*g-i*p*g)*P,n[10]=(u*v*a-m*c*a+m*o*h-i*v*h-u*o*g+i*c*g)*P,n[11]=(f*c*a-u*p*a-f*o*h+i*p*h+u*o*y-i*c*y)*P,n[12]=x*P,n[13]=(f*v*s-m*p*s+m*o*d-i*v*d-f*o*b+i*p*b)*P,n[14]=(m*c*s-u*v*s-m*o*l+i*v*l+u*o*b-i*c*b)*P,n[15]=(u*p*s-f*c*s+f*o*l-i*p*l-u*o*d+i*c*d)*P,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,s=t.y,a=t.z,u=i*o,c=i*s;return this.set(u*o+n,u*s-r*a,u*a+r*s,0,u*s+r*a,c*s+n,c*a-r*o,0,u*a-r*s,c*a+r*o,i*a*a+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:(r=new c.a,i=new l,function(t,e,n){var o=this.elements,s=r.set(o[0],o[1],o[2]).length(),a=r.set(o[4],o[5],o[6]).length(),u=r.set(o[8],o[9],o[10]).length();this.determinant()<0&&(s=-s),t.x=o[12],t.y=o[13],t.z=o[14],i.copy(this);var c=1/s,l=1/a,h=1/u;return i.elements[0]*=c,i.elements[1]*=c,i.elements[2]*=c,i.elements[4]*=l,i.elements[5]*=l,i.elements[6]*=l,i.elements[8]*=h,i.elements[9]*=h,i.elements[10]*=h,e.setFromRotationMatrix(i),n.x=s,n.y=a,n.z=u,this}),makePerspective:function(t,e,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var s=this.elements,a=2*i/(e-t),u=2*i/(n-r),c=(e+t)/(e-t),l=(n+r)/(n-r),h=-(o+i)/(o-i),f=-2*o*i/(o-i);return s[0]=a,s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=u,s[9]=l,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=f,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this},makeOrthographic:function(t,e,n,r,i,o){var s=this.elements,a=1/(e-t),u=1/(n-r),c=1/(o-i),l=(e+t)*a,h=(n+r)*u,f=(o+i)*c;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-l,s[1]=0,s[5]=2*u,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=-2*c,s[14]=-f,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}})},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=function(t){if(t){var e=t.getTime();if(!isNaN(e))return t.toISOString()}return(new Date).toISOString()},i=function(t){if(t){var e=new Date(t);if(!isNaN(e.getTime()))return e}return new Date}},function(t,e,n){"use strict";n.d(e,"d",function(){return m}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"a",function(){return g});var r,i,o=n(47),s=n(6),a=n(45),u=n(3),c=n(34),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},f=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},p=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},d=new u.a("datasync");!function(t){t[t.NONE=0]="NONE",t[t.LEGACY_SYNC=1]="LEGACY_SYNC",t[t.IGNORE_LEGACY_SAVE=2]="IGNORE_LEGACY_SAVE"}(i||(i={}));var y,m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(c.a);!function(t){t[t.IDLE=0]="IDLE",t[t.LOADING=1]="LOADING",t[t.CLEAN=2]="CLEAN",t[t.DIRTY=3]="DIRTY"}(y||(y={}));var v=function(){function t(e,n){this.state=y.IDLE,this.diff={},this.deletedKeys=[],this.config=e,this.collectionData=n,this.config.extras||(this.config.extras=0),this.config.extras&i.LEGACY_SYNC||t.configuredSyncs.push(this)}return t.setGlobalStore=function(t){var e=this;if(this.sharedStore)throw Error("Attempting to overwrite sync's internal store");this.sharedStore=t,this.sharedStore.read().then(function(t){e.sharedState.lastPublished=t.lastPublished})},t.setMessageBus=function(t){this.msgBus=t},t.setAfterPublish=function(e){t.afterPublishCallback=e},t.publishAll=function(){return h(this,void 0,void 0,function(){var t;return f(this,function(e){switch(e.label){case 0:return t=this.configuredSyncs.map(function(t){return t.publish()}),[4,Promise.all(t)];case 1:return e.sent(),d.debug("sharedState.dirty = false"),this.sharedState.dirty=!1,this.sharedState.lastPublished=new Date,this.sharedStore.update(this.sharedState),this.afterPublishCallback?[4,this.afterPublishCallback()]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2,this.sharedState.lastPublished]}})})},Object.defineProperty(t,"globalSession",{get:function(){return this.sharedState},enumerable:!0,configurable:!0}),t.prototype.load=function(){return h(this,void 0,Promise,function(){var t,e,n,r,i,o,s,a,u,c,l,h,p,d=this;return f(this,function(f){switch(f.label){case 0:if(this.state!==y.IDLE)throw Error("Data already loaded");return this.setState(y.LOADING),t=this.config.publishStores&&this.config.publishStores.length>0,e=t?this.config.publishStores.map(function(t){return d.loadStore(t)}):[],this.config.editStore&&e.push(this.loadStore(this.config.editStore)),this.config.legacyEditStore&&e.push(this.loadStore(this.config.legacyEditStore,!0)),[4,Promise.all(e)];case 1:if(n=f.sent(),r=function(t,e,n){return e&&e.modified&&n.modified&&e.modified>n.modified?e:(t&&d.setState(y.DIRTY),n)},i=function(t,e,n,r,i){if(!e)return t&&d.setState(y.DIRTY),n;if(r&&i&&i<r)return e;for(var o in n)n.hasOwnProperty(o)&&(t&&d.setState(y.DIRTY),e[o]=n[o]);return e},this.data=n[0].data||{},this.setState(y.CLEAN),this.collectionData){for(s=1;s<n.length;s++)if(a=s>this.publish.length,(o=n[s]).data){for(p in o.data)o.data.hasOwnProperty(p)&&(this.data[p]?this.config.partialData?this.data[p]=i(a,this.data[p],o.data[p]):this.data[p]=r(a,this.data[p],o.data[p]):this.data[p]=o.data[p]);if(o.isLegacy)for(p in this.data)o.data[p]||(a&&this.setState(y.DIRTY),this.data[p]=null,this.diff[p]=null);o.isLegacy||(this.diff=o.data)}}else for(s=1;s<n.length;s++)a=s>this.publish.length,(u=n[s].data)&&(c=u,this.config.partialData?(l=this.data.modified instanceof Date?this.data.modified:void 0,h=c.modified instanceof Date?c.modified:void 0,this.data=i(a,this.data,c,l,h)):this.data=r(a,this.data,c));for(p in this.data)this.data[p]||(this.deletedKeys.push(p),delete this.data[p]);return[2,this.data]}})})},t.prototype.loadStore=function(t,e){return void 0===e&&(e=!1),t.read().then(function(t){return{data:t,isLegacy:e}})},Object.defineProperty(t.prototype,"monitorNeeded",{get:function(){return void 0!==this.config.editStore||void 0!==this.config.legacyEditStore||this.config.publishStores.length>0},enumerable:!0,configurable:!0}),t.prototype.addMonitor=function(t){var e=this;if(!this.monitorNeeded)throw Error("Adding a monitor unnecessarily!");this._monitor=t;this._monitor.onChanged(function(){return h(e,void 0,void 0,function(){var t,e,n;return f(this,function(r){switch(r.label){case 0:if(this.onDataChanged(),this.config.safeKeys){if(t=!1,this.collectionData)for(e in this.diff)for(n in this.diff[e])-1!==this.config.safeKeys.indexOf(n)&&(t=!0);else for(n in this.diff)-1!==this.config.safeKeys.indexOf(n)&&(t=!0);if(!t)return[2]}return this.setState(y.DIRTY),[4,this.saveSession()];case 1:return r.sent(),[2]}})})})},Object.defineProperty(t.prototype,"monitor",{get:function(){return this._monitor},enumerable:!0,configurable:!0}),t.prototype.setState=function(e){this.config.extras&i.LEGACY_SYNC?e!==y.DIRTY||t.sharedState.dirtyWS2||(d.debug("sharedState.dirtyWS2 = true"),t.sharedState.dirtyWS2=!0):(this.state=e,this.state!==y.DIRTY||t.sharedState.dirty||(d.debug("sharedState.dirty = true"),t.sharedState.dirty=!0))},t.prototype.saveSession=function(){return h(this,void 0,Promise,function(){return f(this,function(e){switch(e.label){case 0:d.info("Saving session..."),t.sharedState.sessionsSaving++,e.label=1;case 1:return e.trys.push([1,4,,5]),this.config.editStore?[4,this.config.editStore.update(this.data,this.diff)]:[3,3];case 2:e.sent(),e.label=3;case 3:return!this.config.legacyEditStore||this.config.extras&i.IGNORE_LEGACY_SAVE||this.config.legacyEditStore.update(this.data,this.diff),[3,5];case 4:return e.sent(),t.msgBus.broadcast(new m),[3,5];case 5:return t.sharedState.sessionsSaving--,[2]}})})},t.prototype.publish=function(){return h(this,void 0,Promise,function(){var t,e,n,r,o,s,a,u;return f(this,function(c){switch(c.label){case 0:if(this.state!==y.DIRTY)return[2];c.label=1;case 1:c.trys.push([1,10,11,12]),n=p(this.config.publishStores),r=n.next(),c.label=2;case 2:if(r.done)return[3,9];if(o=r.value,!this.isWritable(o))return[3,7];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,o.update(this.data,this.diff)];case 4:return c.sent(),[3,6];case 5:throw s=c.sent(),d.error("Failed to publish data: ",o.config,this.data,this.diff),s;case 6:return[3,8];case 7:throw Error("Trying to publish with readonly store");case 8:return r=n.next(),[3,2];case 9:return[3,12];case 10:return a=c.sent(),t={error:a},[3,12];case 11:try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}return[7];case 12:return c.trys.push([12,17,,18]),this.config.editStore?[4,this.config.editStore.delete()]:[3,14];case 13:c.sent(),c.label=14;case 14:return!this.config.legacyEditStore||this.config.extras&i.IGNORE_LEGACY_SAVE?[3,16]:[4,this.config.legacyEditStore.delete()];case 15:c.sent(),c.label=16;case 16:return this.setState(y.CLEAN),[3,18];case 17:throw u=c.sent(),Error("Failed to clear session data after publishing: "+u);case 18:return[2]}})})},t.prototype.isWritable=function(t){return void 0!==t.update},t.sharedState=Object(o.a)({lastPublished:void 0,dirty:!1,dirtyWS2:!1,sessionsSaving:0}),t.configuredSyncs=[],t}(),b=function(t){function e(e){return t.call(this,e,!1)||this}return l(e,t),e.prototype.onDataChanged=function(){var t=this.monitor.getDiffRecord();this.diff=t,this.diff.modified=new Date},e}(v),g=function(t){function e(e){return t.call(this,e,!0)||this}return l(e,t),e.prototype.onDataChanged=function(){var t,e,n=this.monitor.getDiffRecord();try{for(var r=p(n),i=r.next();!i.done;i=r.next()){var o=i.value;switch(o.action){case a.a.added:this.diff[o.index]=o.diff;break;case a.a.updated:this.diff[o.index]||(this.diff[o.index]={}),Object(s.e)(this.diff[o.index],o.diff);break;case a.a.removed:delete this.diff[o.index],this.data[o.index]=null}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.monitor.clearDiffRecord()},e}(v);!function(t){function e(e){return t.call(this,e,!0)||this}l(e,t),e.prototype.load=function(){return h(this,void 0,Promise,function(){var e;return f(this,function(n){switch(n.label){case 0:return[4,t.prototype.load.call(this)];case 1:return(e=n.sent())&&0!==Object.keys(e).length?[2,e]:[2,[]]}})})},e.prototype.addMonitor=function(t){throw Error("ArraySync is deprecated. Convert to CollectionSync to add save support")},e.prototype.onDataChanged=function(){}}(v)},function(t,e,n){"use strict";n.d(e,"p",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"c",function(){return a}),n.d(e,"o",function(){return u}),n.d(e,"a",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return h}),n.d(e,"k",function(){return f}),n.d(e,"g",function(){return p}),n.d(e,"h",function(){return d}),n.d(e,"j",function(){return y}),n.d(e,"l",function(){return m}),n.d(e,"n",function(){return v}),n.d(e,"b",function(){return b}),n.d(e,"i",function(){return g}),n.d(e,"m",function(){return _});n(91),n(1),n(49);var r=n(160),i=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},o=function(t){return t?(t^16*Math.random()>>t/4).toString(16):(""+[1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,o)},s=function(t){return new Promise(function(e,n){setTimeout(e,t)})},a=function(t){var e,n=-1;return{promise:new Promise(function(r,i){e=r,n=window.setTimeout(r,t)}).then(function(){n=-1}),cancel:function(){-1!==n&&(window.clearTimeout(n),e())}}},u=function(t){var e,n,r={};try{for(var o=i(t),s=o.next();!s.done;s=o.next()){var a=s.value;r[a]=a}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},c=function(t,e){var n,r;if(e.setLength(0),0===t.length)return e;var o=0;try{for(var s=i(t),a=s.next();!a.done;a=s.next()){var u=a.value;e.add(u),o++}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return e.divideScalar(o),e},l=function(t){return!t.replace(/\n/g,"").trim().length},h=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0},f=function(t,e,n){if(void 0===n&&(n=!0),0===t.length)return null;n&&t.sort(function(t,e){return t-e});var r=e/100;return t[Math.floor(t.length*r)]},p=function(t,e){var n,r;try{for(var o=i(e),s=o.next();!s.done;s=o.next()){if(!(0,s.value)(t))return!1}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!0},d=function(t){return[y(t.getMonth()+1),".",y(t.getDate()),".",t.getFullYear(),"_",y(t.getHours()),".",y(t.getMinutes()),".",y(t.getSeconds())].join("")},y=function(t,e,n,r){void 0===e&&(e=2),void 0===n&&(n="0"),void 0===r&&(r=10);var i=t.toString(r),o=e-i.length+1;return o>0?new Array(o).join(n)+i:i},m=function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*n.length));return e},v=function(t){for(var e=[],n=0;n<t.length;n+=8192)e.push(String.fromCharCode.apply(null,t.subarray(n,n+8192)));return btoa(e.join(""))},b=function(t){var e,n;void 0===t&&(t=[]);var r={};try{for(var o=i(t),s=o.next();!s.done;s=o.next()){r[s.value]=!0}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r};function g(t,e){return t.hasOwnProperty(e)}var _=function(t,e,n){if(!(Math.abs(t)<4294967295)||!(e<32)||!(n<32))throw new r.a("argument out of range");var i=1&(t>>>e^t>>>n);return(t^=i<<e|i<<n)>>>0}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return p}),n.d(e,"b",function(){return d});var r,i,o=n(95),s=n(14),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},c=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},l=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},h=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};!function(t){t.POST="POST",t.PATCH="PATCH",t.PUT="PUT"}(i||(i={}));var f=function(t){function e(e){var n=t.call(this)||this;return n.config=e,n}return a(e,t),e.prototype.read=function(){return c(this,void 0,Promise,function(){var t;return l(this,function(e){switch(e.label){case 0:return t=null,this.config.cachedData&&this.config.cachedData.data?(t=this.config.cachedData.data,[3,3]):[3,1];case 1:return[4,this.config.queue.get(this.config.path,this.options)];case 2:t=e.sent(),this.config.cachedData&&(this.config.cachedData.data=t),e.label=3;case 3:return[2,this.config.deserialize(t)]}})})},e.prototype.clearCache=function(){this.config.cachedData&&(this.config.cachedData.data=null)},e}(function(){return function(){this.options={responseType:"json"};var t=Object(o.a)();t&&(this.options=u({},this.options,{auth:t}))}}()),p=function(t){function e(e){var n=t.call(this,e)||this;return n.config=e,n}return a(e,t),e.prototype.create=function(t){return c(this,void 0,Promise,function(){var e,n;return l(this,function(r){switch(r.label){case 0:return this.clearCache(),e=this.config.serialize?this.config.serialize(t):t,n=u({},this.options,{body:e}),[4,this.config.queue.put(this.config.path,n)];case 1:return[2,r.sent()]}})})},e.prototype.update=function(t,e){return c(this,void 0,Promise,function(){var n,r;return l(this,function(o){switch(o.label){case 0:return this.clearCache(),n=this.config.serialize?this.config.serialize(t,e):t,r=u({},this.options,{body:n}),[4,this.config.queue.request(this.config.httpMethod||i.POST,this.config.path,r)];case 1:return[2,o.sent()]}})})},e.prototype.delete=function(t){return c(this,void 0,Promise,function(){var e,n,r,i,o,s;return l(this,function(a){switch(a.label){case 0:if(this.clearCache(),!(t instanceof Array))return[3,9];a.label=1;case 1:a.trys.push([1,6,7,8]),r=h(t),i=r.next(),a.label=2;case 2:return i.done?[3,5]:(o=i.value,[4,this.config.queue.delete(this.config.path+"/"+o.sid,this.options)]);case 3:a.sent(),a.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return s=a.sent(),e={error:s},[3,8];case 7:try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}return[7];case 8:return[2];case 9:return[4,this.config.queue.delete(this.config.path,this.options)];case 10:return[2,a.sent()]}})})},Object.defineProperty(e.prototype,"acceptsPartial",{get:function(){return this.config.httpMethod===i.PATCH},enumerable:!0,configurable:!0}),e}(f),d=function(t){function e(e){var n=t.call(this,e)||this;return n.config=e,n.acceptsPartial=!1,n}return a(e,t),e.prototype.create=function(t){return c(this,void 0,Promise,function(){return l(this,function(t){throw Error("Not implemented")})})},e.prototype.updateInternal=function(t,e,n){var r=u({},this.options),o=Object.keys(t),a=Object.keys(e),c=Object(s.o)(o.concat(a));for(var l in c){var h=c[l],f=t[h]||e[h];if(f){var p={};p[h]=f;var d={},y=e[h];y&&(d[h]=y);var m=this.config.serialize?this.config.serialize(p,d):p;r.body=m,n.push(this.config.queue.request(this.config.httpMethod||i.POST,this.config.path,r))}else n.push(this.config.queue.delete(this.config.path+"/"+h,this.options))}},e.prototype.update=function(t,e){return c(this,void 0,Promise,function(){var n;return l(this,function(r){switch(r.label){case 0:return this.clearCache(),n=[],this.updateInternal(t,e||{},n),[4,Promise.all(n)];case 1:return r.sent(),[2]}})})},e.prototype.delete=function(t){return c(this,void 0,Promise,function(){return l(this,function(t){throw Error("Not implemented")})})},e}(f)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(){}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&n]+t[n>>8&255]+"-"+t[n>>16&15|64]+t[n>>24&255]+"-"+t[63&r|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[255&i]+t[i>>8&255]+t[i>>16&255]+t[i>>24&255]).toUpperCase()}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*r.DEG2RAD},radToDeg:function(t){return t*r.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}}},function(t,e,n){"use strict";var r;n.d(e,"a",function(){return r}),function(t){t[t.Begin=0]="Begin",t[t.Logic=1]="Logic",t[t.Render=2]="Render",t[t.End=3]="End"}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},i=function(){function t(){var t=this;this.base=new Promise(function(e,n){t.resolver=e,t.rejecter=n}),this._promise=new o(this.base,this),this.progressCallbacks=[]}return t.prototype.then=function(t,e){return this.base.then(t,e)},t.prototype.catch=function(t){return this.base.catch(t)},t.prototype.resolve=function(t){return this.resolver(t),this},t.prototype.reject=function(t){return this.rejecter(t),this},t.prototype.notify=function(t){var e,n;try{for(var i=r(this.progressCallbacks),o=i.next();!o.done;o=i.next()){(0,o.value)(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.progress=function(t){return this.progressCallbacks.push(t),this},t.prototype.promise=function(){return this._promise},t.prototype.nativePromise=function(){return this.base},t.resolve=function(){var e=new t;return e.resolve(),e.promise()},t.reject=function(e){var n=new t;return n.reject(e),n.promise()},t.all=function(e){var n,i,o=[];try{for(var s=r(e),a=s.next();!a.done;a=s.next()){var u=a.value;u.nativePromise?o.push(u.nativePromise()):o.push(u)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}var c=new t;return Promise.all(o).then(function(t){return c.resolve(t)},function(t){return c.reject(t)}),c.promise()},t}(),o=function(){function t(t,e){this.basePromise=t,this.baseDeferred=e}return t.prototype.then=function(t,e){return this.baseDeferred.then(t,e),this},t.prototype.catch=function(t){return this.baseDeferred.catch(t),this},t.prototype.progress=function(t){return this.baseDeferred.progress(t),this},t.prototype.nativePromise=function(){return this.basePromise},t}()},function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return h});var r,i,o,s,a=n(16),u=n(4),c=n(39),l=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){t.INSIDE="mode.inside",t.OUTSIDE="mode.outside",t.DOLLHOUSE="mode.dollhouse",t.FLOORPLAN="mode.floorplan",t.TRANSITIONING="mode.transitioning"}(s||(s={}));(i={})[s.INSIDE]=u.a.Panorama,i[s.DOLLHOUSE]=u.a.Dollhouse,i[s.FLOORPLAN]=u.a.Floorplan,i[s.TRANSITIONING]=u.a.Transition,(o={})[u.a.Panorama]=s.INSIDE,o[u.a.Dollhouse]=s.DOLLHOUSE,o[u.a.Floorplan]=s.FLOORPLAN,o[u.a.Transition]=s.TRANSITIONING;var h=function(t){function e(e,n,r){void 0===n&&(n=c.a.Interpolate),void 0===r&&(r={});var i=t.call(this)||this;return i.payload={mode:e,transitionType:n,pose:r},i}return l(e,t),e.id="CHANGE_VIEWMODE",e}(a.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return function(){}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r,i,o=n(1),s=n(10);!function(t){t.ALIGNED="aligned",t.UNALIGNED="unaligned"}(r||(r={})),function(t){t.UNPLACED="unplaced",t.AUTO="auto",t.MANUAL="manual"}(i||(i={}));var a=function(){function t(t){if(t){this.id=t.id,this.index=t.index,this.name=t.name||"",this.position=t.position||new o.a,this.floorPosition=t.floorPosition||new o.a;var e=Number.parseInt(t.floor,10);this.floor=isNaN(e)?-1:e;var n=Number.parseInt(t.room,10);this.room=isNaN(n)?-1:n,this.rotation=t.rotation||new s.a,this.enabled=t.enabled||!1,this.vrenabled=t.vrenabled||!1,this.neighbours=t.neighbours||[],this.alignmentType=t.alignmentType||r.ALIGNED,this.placementType=t.placementType||i.UNPLACED}}return t.prototype.equals=function(t){return this.id===t.id&&this.index===t.index&&this.name===t.name&&this.position.equals(t.position)&&this.floor===t.floor&&this.room===t.room&&this.rotation.equals(t.rotation)&&this.enabled===t.enabled&&this.vrenabled===t.vrenabled&&this.alignmentType===t.alignmentType&&this.placementType===t.placementType},t.prototype.copy=function(t){return this.id=t.id,this.index=t.index,this.name=t.name,this.position=(new o.a).copy(t.position),this.floorPosition=(new o.a).copy(t.floorPosition),this.floor=t.floor,this.room=t.room,this.rotation=(new s.a).copy(t.rotation),this.enabled=t.enabled,this.vrenabled=t.vrenabled,this.neighbours=t.neighbours.slice(),this.alignmentType=t.alignmentType,this.placementType=t.placementType,this},t}();e.c=a},function(t,e,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,e,n){"use strict";var r=n(38);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a});var r,i=n(34),o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){var n=t.call(this)||this;return n.phase=e,n}return o(e,t),e}(i.a),a=function(t){function e(e){var n=t.call(this)||this;return n.application=e,n}return o(e,t),e}(i.a)},function(t,e,n){"use strict";var r,i,o,s;n.d(e,"d",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u}),function(t){t[t.BASE=1]="BASE",t[t.STANDARD=2]="STANDARD",t[t.HIGH=3]="HIGH",t[t.ULTRAHIGH=4]="ULTRAHIGH"}(o||(o={})),function(t){t[t.BASE=512]="BASE",t[t.STANDARD=1024]="STANDARD",t[t.HIGH=2048]="HIGH",t[t.ULTRAHIGH=4096]="ULTRAHIGH"}(s||(s={}));var a=((r={})[o.BASE]=512,r[o.STANDARD]=1024,r[o.HIGH]=2048,r[o.ULTRAHIGH]=4096,r),u=((i={})[s.BASE]=o.BASE,i[s.STANDARD]=o.STANDARD,i[s.HIGH]=o.HIGH,i[s.ULTRAHIGH]=o.ULTRAHIGH,i)},function(t,e,n){"use strict";n.r(e);var r,i=n(2),o=n(5),s=n(25),a=n(3),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},l=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},h=new a.a("app-phase"),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="app-phase",e.appState=new o.c(o.a.UNINITIALIZED),e}return u(e,t),e.prototype.init=function(t,e){return c(this,void 0,void 0,function(){return l(this,function(t){return this.market=e.market,this.broadcast=e.broadcast.bind(e),this.market.register(this,o.c),this.market.update(this,this.appState),[2]})})},e.prototype.updateAppPhase=function(t,e){this.appState.phase=t,this.appState.error=e,this.appState.phaseTimes[t]=Date.now(),h.info(""+JSON.stringify(this.appState)),this.market.update(this,this.appState),this.broadcast(new s.a(t))},e.prototype.updateActiveApp=function(t){this.appState.application=t,this.market.update(this,this.appState),this.broadcast(new s.b(t))},e.prototype.getData=function(){return this.appState},e}(i.a);e.default=f},function(t,e,n){"use strict";t.exports=n(125)()?Symbol:n(123)},function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"a",function(){return s});var r=n(14);function i(t){return{x:t.x,y:t.y,z:t.z}}function o(t){return{x:t.x||t._x,y:t.y||t._y,z:t.z||t._z,w:t.w||t._w}}function s(t){return"#"+Object(r.j)(255*t.r,2,"0",16)+Object(r.j)(255*t.g,2,"0",16)+Object(r.j)(255*t.b,2,"0",16)}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r,i=n(17),o={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function s(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}Object.assign(s.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(e,n,r){if(e=i.a.euclideanModulo(e,1),n=i.a.clamp(n,0,1),r=i.a.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var o=r<=.5?r*(1+n):r+n-r*n,s=2*r-o;this.r=t(s,o,e+1/3),this.g=t(s,o,e),this.b=t(s,o,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,i=n[1],s=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s)){var a=parseFloat(r[1])/360,u=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(a,u,c)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var l,h=(l=n[1]).length;if(3===h)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}t&&t.length>0&&(void 0!==(l=o[t])?this.setHex(l):console.warn("THREE.Color: Unknown color "+t));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,n,r=this.r,i=this.g,o=this.b,s=Math.max(r,i,o),a=Math.min(r,i,o),u=(a+s)/2;if(a===s)e=0,n=0;else{var c=s-a;switch(n=u<=.5?c/(s+a):c/(2-s-a),s){case r:e=(i-o)/c+(i<o?6:0);break;case i:e=(o-r)/c+2;break;case o:e=(r-i)/c+4}e/=6}return t.h=e,t.s=n,t.l=u,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(r={},function(t,e,n){return this.getHSL(r),r.h+=t,r.s+=e,r.l+=n,this.setHSL(r.h,r.s,r.l),this}),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}})},function(t,e,n){"use strict";var r=n(75),i=n(111),o=n(202),s=n(74);(t.exports=function(t,e){var n,o,a,u,c;return arguments.length<2||"string"!=typeof t?(u=e,e=t,t=null):u=arguments[2],null==t?(n=a=!0,o=!1):(n=s.call(t,"c"),o=s.call(t,"e"),a=s.call(t,"w")),c={value:e,configurable:n,enumerable:o,writable:a},u?r(i(u),c):c}).gs=function(t,e,n){var a,u,c,l;return"string"!=typeof t?(c=n,n=e,e=t,t=null):c=arguments[3],null==e?e=void 0:o(e)?null==n?n=void 0:o(n)||(c=n,n=void 0):(c=e,e=n=void 0),null==t?(a=!0,u=!1):(a=s.call(t,"c"),u=s.call(t,"e")),l={get:e,set:n,configurable:a,enumerable:u},c?r(i(c),l):l}},function(t,e,n){(function(e){var n="object",r=function(t){return t&&t.Math==Math&&t};t.exports=r(typeof globalThis==n&&globalThis)||r(typeof window==n&&window)||r(typeof self==n&&self)||r(typeof e==n&&e)||Function("return this")()}).call(this,n(97))},function(t,e,n){"use strict";var r,i;n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i}),function(t){t[t.Desktop=0]="Desktop",t[t.Mobile=1]="Mobile",t[t.VrOrientOnly=2]="VrOrientOnly",t[t.VrWithController=3]="VrWithController",t[t.VrWithTrackedController=4]="VrWithTrackedController"}(r||(r={})),function(t){t.None="interaction.none",t.Direct="interaction.direct",t.Key="interaction.key",t.Gui="interaction.gui"}(i||(i={}))},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this.msgId=-1}return t.prototype.setID=function(t){if(-1!==this.msgId)throw Error("Message.msgId can only be set once.");this.msgId=t},t}()},function(t,e,n){"use strict";var r;n.d(e,"a",function(){return r}),function(t){t[t.Immediate=0]="Immediate",t[t.NextFrame=1]="NextFrame",t[t.Duration=2]="Duration",t[t.Manual=3]="Manual"}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=function(t){return t.prototype.constructor.name},i=function(t){return t.constructor},o=function(){function t(t){void 0===t&&(t=!1),this.typeLookup=[],this.funcProto=Function.__proto__,this.allowInheritance=t}return t.prototype.addIndexByType=function(t){if(!t)throw Error("Cannot index undefined type");if(-1!==this.typeLookup.indexOf(t))throw Error("Type already registered");return this.typeLookup.push(t)-1},t.prototype.getIndexByType=function(t,e){if(!t)throw Error("Cannot index undefined type");var n=-1;if(this.allowInheritance)for(var r=0;r<this.typeLookup.length;r++){for(var i=this.typeLookup[r];i!==t&&i!==this.funcProto;)i=i.__proto__;if(i===t)return r}else n=this.typeLookup.indexOf(t);return-1===n&&e&&(n=this.typeLookup.push(t)-1),n},t.prototype.getIndicesByType=function(t){if(!t)throw Error("Cannot index undefined type");if(!this.allowInheritance)return[this.getIndexByType(t)];for(var e=[],n=0;n<this.typeLookup.length;n++){for(var r=this.typeLookup[n];r!==t&&r!==this.funcProto;)r=r.__proto__;r===t&&e.push(n)}return e},t.prototype.getIndexByInstance=function(t,e){if(!t)throw Error("Cannot index undefined data");var n=this.typeLookup.indexOf(t.constructor);return-1===n&&e&&(n=this.typeLookup.push(t.constructor)-1),n},t.prototype.getTypeByIndex=function(t){if(!(t in this.typeLookup))throw Error("Index not found");return this.typeLookup[t]},t.prototype.getKnownTypes=function(){return this.typeLookup.concat()},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},i=function(){function t(){this.isObservable=!0,this._dirtyObservable=!1,this._activeObservable=!0,this._changeObservers=new Set,this._parentObservables=new Set,this._childObservables=new Set}return t.prototype.onChanged=function(t){var e=this;if(this._changeObservers.has(t))throw new Error("This observer function is already observing this Observable, and double subscriptions are not supported.");var n=function(){return e._changeObservers.add(t)};return n(),{renew:n,cancel:function(){return e.removeOnChanged(t)}}},t.prototype.removeOnChanged=function(t){this._changeObservers.delete(t)},t.prototype.notifyObservers=function(){var t,e,n,i;if(this._activeObservable&&this._dirtyObservable){try{for(var o=r(this._changeObservers),s=o.next();!s.done;s=o.next()){var a=s.value;this.notifyObserver(a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}try{for(var u=r(this._parentObservables),c=u.next();!c.done;c=u.next()){c.value.notifyObservers()}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}this._dirtyObservable=!1}},t.prototype.notifyObserver=function(t){t(void 0)},t.prototype.setDirty=function(){this.setDirtyRecursive(),this.notifyObservers()},t.prototype.setDirtyRecursive=function(){var t,e;this._dirtyObservable=!0;try{for(var n=r(this._parentObservables),i=n.next();!i.done;i=n.next()){i.value.setDirtyRecursive()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.addChildObservable=function(e){t.isObservable(e)&&(this._childObservables.add(e),e._parentObservables.add(this))},t.prototype.removeChildObservables=function(e){t.isObservable(e)&&(this._childObservables.delete(e),e._parentObservables.delete(this))},t.prototype.atomic=function(t){if(!this._activeObservable)return t();try{this.setActive(!1),t()}finally{this.setActive(!0)}},t.prototype.setActive=function(t){var e,n,i=this._activeObservable;this._activeObservable=t,!i&&t&&this.notifyObservers();try{for(var o=r(this._childObservables),s=o.next();!s.done;s=o.next()){s.value.setActive(t)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.deepCopy=function(){throw Error("deepCopy is only implemented in subclasses of Observable")},t.isObservable=function(t){return t&&t.isObservable},t}()},function(t,e,n){"use strict";var r=n(112)();t.exports=function(t){return t!==r&&null!==t}},function(t,e,n){"use strict";var r;n.d(e,"a",function(){return r}),function(t){t[t.Instant=0]="Instant",t[t.FadeToBlack=1]="FadeToBlack",t[t.Interpolate=2]="Interpolate"}(r||(r={}))},function(t,e,n){"use strict";var r;n.d(e,"a",function(){return r}),function(t){t.text="text",t.link="link",t.photo="photo",t.video="video",t.rich="rich",t.none="none",t.error="error"}(r||(r={})),function(t){t.parse=function(e){return null!==e&&e in t?t[e]:t.none}}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"f",function(){return O}),n.d(e,"b",function(){return E}),n.d(e,"d",function(){return S}),n.d(e,"c",function(){return P}),n.d(e,"a",function(){return R});var r,i=n(16),o=n(0),s=n(98),a=n(20),u=n(80),c=n(52),l=n(62),h=n(3),f=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},d=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},y=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},m=new h.a("tours"),v=function(t,e){e.addBinding(x,function(){return p(void 0,void 0,void 0,function(){return d(this,function(e){return[2,Promise.all([t.market.waitForData(c.b)]).then(function(t){var e=y(t,1)[0],n=[];if(e.iterateSnapshots(function(t){n.push(O(t))}),0===n.length)throw Error("No tour data found");return n})]})})})},b=function(t,e,n){t.addBinding(E,function(t){return p(void 0,void 0,void 0,function(){var r;return d(this,function(i){if(0===n.getSnapshotCount())throw Error("No tour data found");try{e.canChangeTourLocation()?(r=t?t.index:void 0,e.startTour(r)):m.warn("TourStart ignored, cannot change location at this time, another transition is active")}catch(t){throw m.warn(t),Error("Error occurred while starting tour - "+t)}return[2]})})})},g=function(t,e){t.addBinding(S,function(){return p(void 0,void 0,void 0,function(){var t;return d(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e.stopTour()];case 1:return n.sent(),[3,3];case 2:throw t=n.sent(),m.warn(t),Error("Error occurred while stopping tour - "+t);case 3:return[2]}})})})},_=function(t,e){t.addBinding(P,function(t){return p(void 0,void 0,void 0,function(){var n;return d(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),e.canChangeTourLocation()?[4,e.tourGoTo(t.index)]:[3,2];case 1:return[2,r.sent()];case 2:m.warn("TourStep ignored, cannot change location at this time, another transition is active"),r.label=3;case 3:return[3,5];case 4:throw n=r.sent(),m.warn(n),Error("Error occurred while jumping to new tour location - "+n);case 5:return[2]}})})})},w=function(t,e){t.addBinding(R,function(t){return p(void 0,void 0,void 0,function(){var n;return d(this,function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),e.canChangeTourLocation()?[4,t.forward]:[3,2];case 1:return r.sent()?e.tourGoNext():e.tourGoPrevious(),[3,3];case 2:m.warn("TourNext ignored, cannot change location at this time, another transition is active"),r.label=3;case 3:return[3,5];case 4:throw n=r.sent(),m.warn(n),Error("Error while trying to travel to the next tour snapshot - "+n);case 5:return[2]}})})})},O=function(t){var e=Object(s.d)(t.metadata.camera_mode,t.is360);if(!e||e===a.b.TRANSITIONING)throw Error("Failed to convert snapshot, invalid viewmode");return{sid:t.sid,thumbnailUrl:t.thumbnailUrl,imageUrl:t.imageUrl,is360:t.is360,name:t.name,mode:e,zoom:t.metadata.ss_zoom,position:t.metadata.camera_position,rotation:Object(u.b)(t.metadata.camera_quaternion)}},x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="GET_TOUR_DATA",e}return f(e,t),e}(i.a),E=function(t){function e(e){var n=t.call(this)||this;return n.id="TOUR_START",n.payload={index:e},n}return f(e,t),e}(i.a),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="TOUR_STOP",e}return f(e,t),e}(i.a),P=function(t){function e(e){var n=t.call(this)||this;return n.id="TOUR_STEP",n.payload={index:e},n}return f(e,t),e}(i.a),R=function(t){function e(e){var n=t.call(this)||this;return n.id="TOUR_STEP",n.payload={forward:e},n}return f(e,t),e}(i.a);e.e=function(t,e,n){Promise.all([t.waitForModule(o.lb),t.market.waitForData(c.b)]).then(function(t){var n=y(t,2),r=n[0],i=n[1];b(e,r,i),g(e,r),_(e,r),w(e,r)}),v(t,e),n.addCommandToInterface(l.tourStartInterface,function(t){return new E(t.index)}),n.addCommandToInterface(l.tourStepInterface,function(t){return new P(t.index)}),n.addCommandToInterface({version:"3.x",namespace:"Tour",name:"start",args:["index"]},function(t){return new E(t.index)}),n.addCommandToInterface({version:"3.x",namespace:"Tour",name:"stop",args:[]},function(){return new S}),n.addCommandToInterface({version:"3.x",namespace:"Tour",name:"step",args:["index"]},function(t){return new P(t.index)}),n.addCommandToInterface({version:"3.x",namespace:"Tour",name:"getData",args:[]},function(){return new x}),n.addCommandToInterface({version:"3.x",namespace:"Tour",name:"next",args:[]},function(){return new R(!0)}),n.addCommandToInterface({version:"3.x",namespace:"Tour",name:"prev",args:[]},function(){return new R(!1)})}},function(t,e,n){"use strict";n.d(e,"a",function(){return h}),n.d(e,"b",function(){return f});var r,i=n(37),o=n(6),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},u=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},c=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},l=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t},h=function(t){function e(){var e=t.call(this)||this;return e.isObservableArray=!0,e.elements=[],e}return s(e,t),e.prototype.push=function(t){return this.elements.push(t),this.addChildObservable(t),this.setDirty(),this.length},e.prototype.concat=function(t){var e=this.elements.length;this.elements=this.elements.concat(t);for(var n=e;n<this.elements.length;n++)this.addChildObservable(this.elements[n]);return this.setDirty(),this.length},e.prototype.replace=function(t){var e,n;try{for(var r=u(this.elements),i=r.next();!i.done;i=r.next()){var o=i.value;this.removeChildObservables(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return this.elements=[],this.concat(t)},e.prototype.remove=function(t){if(t<0||t>=this.length)throw new Error("Index "+t+" not in range of ObservableArray");var e=c(this.elements.splice(t,1),1)[0];this.removeChildObservables(e),this.setDirty()},e.prototype.update=function(t,e){var n=this.elements[t];n!==e&&(this.elements[t]=e,this.removeChildObservables(n),this.addChildObservable(e),this.setDirty())},Object.defineProperty(e.prototype,"length",{get:function(){return this.elements.length},set:function(t){if(t<this.elements.length){for(var e=this.elements.length-1;e>=t;e--){var n=this.elements[e];this.removeChildObservables(n)}this.elements.length=t,this.setDirty()}},enumerable:!0,configurable:!0}),e.prototype.values=function(){return l(this.elements)},e.prototype.filter=function(t){return this.elements.filter(t)},e.prototype[Symbol.iterator]=function(){var t,e,n,r,i;return a(this,function(o){switch(o.label){case 0:o.trys.push([0,5,6,7]),n=u(this.elements),r=n.next(),o.label=1;case 1:return r.done?[3,4]:[4,r.value];case 2:o.sent(),o.label=3;case 3:return r=n.next(),[3,1];case 4:return[3,7];case 5:return i=o.sent(),t={error:i},[3,7];case 6:try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}return[7];case 7:return[2]}})},e.prototype.map=function(t){return this.elements.map(t)},e.prototype.forEach=function(t){this.elements.forEach(t)},e.prototype.get=function(t){return this.elements[t]},e.prototype.findIndex=function(t){return this.elements.findIndex(t)},e.prototype.indexOf=function(t){return this.elements.indexOf(t)},e.prototype.splice=function(t,e){for(var n,r,i,o,s,a,c=[],h=2;h<arguments.length;h++)c[h-2]=arguments[h];if(c.length){a=(n=this.elements).splice.apply(n,l([t,e],c));try{for(var f=u(c),p=f.next();!p.done;p=f.next()){var d=p.value;this.addChildObservable(d)}}catch(t){r={error:t}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}else a=this.elements.splice(t,e);try{for(var y=u(a),m=y.next();!m.done;m=y.next()){d=m.value;this.removeChildObservables(d)}}catch(t){o={error:t}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}return this.setDirty(),a},e.prototype.insert=function(t,e){if(t>this.elements.length)throw new Error("Tried to insert at index "+t+" in an array that's only "+this.elements.length+" long");t!==this.elements.length?(this.elements.splice(t,0,e),this.addChildObservable(e),this.setDirty()):this.push(e)},e.prototype.shift=function(){var t=this.elements.shift();return t&&(this.removeChildObservables(t),this.setDirty()),t},e.prototype.move=function(t,e){if(e>this.elements.length-1)throw Error("Index to move to is out of bounds");var n=this.elements[t];this.elements.splice(t,1),this.elements.splice(e,0,n),this.setDirty()},e.prototype.onElementChanged=function(t){var e=this,n=this.elements.slice();return this.onChanged(function(){for(var r in n){var o=parseInt(r,10);t.onRemoved&&void 0===e.get(o)&&t.onRemoved(n[o],o)}for(var r in e.elements){o=parseInt(r,10);var s=e.get(o);void 0===n[o]?t.onAdded&&t.onAdded(s,o):(i.a.isObservable(s)&&s._dirtyObservable||s!==n[o])&&(t.onUpdated?t.onUpdated(s,o):t.onRemoved&&null===s&&t.onRemoved(n[o],o))}n=e.elements.slice()})},e.prototype.deepCopy=function(){return this.map(function(t){return Object(o.a)(t)})},e}(i.a),f=function(t){var e=new h;return t&&e.concat(t),e}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";var r=function(){return function(t){this.message=t}}();e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return c});var r,i=n(93),o=n(35),s=n(18),a=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};!function(t){t.added="added",t.removed="removed",t.updated="updated"}(r||(r={}));var u=function(){return function(t,e,n){this.index=t,this.action=e,this.diff=n}}(),c=function(){function t(t,e){if(this.changedHandlers=[],this.awaitingInvoke=!1,this.diffRecord=[],this.targetMonitors={},this.triggerChangeHandlers=this.invokeChangeHandlers.bind(this),this.config=t,this.updatePhaseSync=e,this.config.aggregationType===o.a.NextFrame){if(!e)throw Error("UpdatePhaseSync required for NextFrame aggregation")}else if(this.config.aggregationType===o.a.Duration)throw Error("Aggregation Type not implemented")}return t.prototype.hasDiffRecord=function(){return this.diffRecord.length>0},t.prototype.clearDiffRecord=function(){for(var t in this.diffRecord=[],this.targetMonitors){var e=this.targetMonitors[t];e.hasDiffRecord()&&e.clearDiffRecord()}},t.prototype.onChanged=function(t){this.changedHandlers.push(t)},t.prototype.removeOnChanged=function(t){Object(i.a)(this.changedHandlers,t)},t.prototype.invokeCallbacks=function(t){var e,n;if(this.changedHandlers.length>0)try{for(var r=a(this.changedHandlers),i=r.next();!i.done;i=r.next()){(0,i.value)(t)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.invokeChangeHandlers=function(t){var e=this;switch(this.config.aggregationType){case o.a.Immediate:this.invokeCallbacks(t);break;case o.a.NextFrame:this.awaitingInvoke||(this.awaitingInvoke=!0,this.updatePhaseSync.after(s.a.End).then(function(){e.awaitingInvoke=!1,e.invokeCallbacks(t)}));break;case o.a.Manual:}},t}()},,function(t,e,n){"use strict";var r=n(37),i=n(60),o=n(6),s=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};n.d(e,"a",function(){return a});var a=function(t){if(!t||0===Object.keys(t).length)throw new Error("createObservableProxy() only works on objects that has predefined keys. Did you mean createObservableMap or createObservableArray?");if(t.isObservableProxy)return t;var e={},n=new r.a,a=Object.create(t);Object.defineProperties(a,{isObservableProxy:{value:!0},onPropertyChanged:{value:function(t,n){return e[t].onChanged(n)}},removeOnPropertyChanged:{value:function(t,n){return e[t].removeOnChanged(n)}},deepCopy:{value:function(){return Object(o.a)(t)}}}),function t(e,n){var r,i,o=Object.getOwnPropertyNames(n);try{for(var a=s(o),u=a.next();!u.done;u=a.next()){var c=u.value;void 0===e[c]&&("function"==typeof n[c]?Object.defineProperty(e,c,{value:n[c].bind(e)}):Object.defineProperty(e,c,{value:n[c],writable:!0}))}}catch(t){r={error:t}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}null!==Object.getPrototypeOf(Object.getPrototypeOf(n))&&t(e,Object.getPrototypeOf(n))}(a,n);var u=function(n){if(t.hasOwnProperty(n)){var r=Object(i.b)(t[n]);e[n]=r,a.addChildObservable(r),Object.defineProperty(a,n,{get:function(){return t[n]},set:function(r){t[n]=r,e[n].value=r},enumerable:!0})}};for(var c in t)u(c);return Object.seal(a),a}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(1),i=function(){function t(){}return t.UP=new r.a(0,1,0),t.DOWN=new r.a(0,-1,0),t.LEFT=new r.a(-1,0,0),t.RIGHT=new r.a(1,0,0),t.FORWARD=new r.a(0,0,-1),t.BACK=new r.a(0,0,1),t.ZERO=new r.a(0,0,0),t}()},function(t,e,n){"use strict";function r(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}var i,o;n.d(e,"a",function(){return r}),Object.assign(r.prototype,{isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,o=t.elements,s=o[0],a=o[4],u=o[8],c=o[1],l=o[5],h=o[9],f=o[2],p=o[6],d=o[10];if(Math.abs(a-c)<.01&&Math.abs(u-f)<.01&&Math.abs(h-p)<.01){if(Math.abs(a+c)<.1&&Math.abs(u+f)<.1&&Math.abs(h+p)<.1&&Math.abs(s+l+d-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var y=(s+1)/2,m=(l+1)/2,v=(d+1)/2,b=(a+c)/4,g=(u+f)/4,_=(h+p)/4;return y>m&&y>v?y<.01?(n=0,r=.707106781,i=.707106781):(r=b/(n=Math.sqrt(y)),i=g/n):m>v?m<.01?(n=.707106781,r=0,i=.707106781):(n=b/(r=Math.sqrt(m)),i=_/r):v<.01?(n=.707106781,r=.707106781,i=0):(n=g/(i=Math.sqrt(v)),r=_/i),this.set(n,r,i,e),this}var w=Math.sqrt((p-h)*(p-h)+(u-f)*(u-f)+(c-a)*(c-a));return Math.abs(w)<.001&&(w=1),this.x=(p-h)/w,this.y=(u-f)/w,this.z=(c-a)/w,this.w=Math.acos((s+l+d-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(t,e){return void 0===i&&(i=new r,o=new r),i.set(t,t,t,t),o.set(e,e,e,e),this.clamp(i,o)},clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}})},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r,i,o=n(148),s=n(1);function a(t,e){this.normal=void 0!==t?t:new s.a(1,0,0),this.constant=void 0!==e?e:0}Object.assign(a.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:(r=new s.a,i=new s.a,function(t,e,n){var o=r.subVectors(n,e).cross(i.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(o,t),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new s.a),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new s.a;return function(e,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new s.a);var r=e.delta(t),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(e.start)?n.copy(e.start):void 0;var o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?void 0:n.copy(r).multiplyScalar(o).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new s.a),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new s.a,e=new o.a;return function(n,r){var i=r||e.getNormalMatrix(n),o=this.coplanarPoint(t).applyMatrix4(n),s=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(s),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}})},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r,i=n(72),o=n(1);function s(t,e){this.center=void 0!==t?t:new o.a,this.radius=void 0!==e?e:0}Object.assign(s.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:(r=new i.a,function(t,e){var n=this.center;void 0!==e?n.copy(e):r.setFromPoints(t).getCenter(n);for(var i=0,o=0,s=t.length;o<s;o++)i=Math.max(i,n.distanceToSquared(t[o]));return this.radius=Math.sqrt(i),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new o.a),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new i.a),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}})},function(t,e,n){"use strict";n.d(e,"d",function(){return m}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return v});var r,i,o,s=n(21),a=n(47),u=n(42),c=n(153),l=n(41),h=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(){return(f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},p=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},d=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},y=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},m=function(t){return t=t||{reel:Object(u.b)([])},Object(a.a)(t)};!function(t){t[t.Inactive=0]="Inactive",t[t.Active=1]="Active",t[t.StopScheduled=2]="StopScheduled"}(i||(i={})),function(t){t[t.Beginning=0]="Beginning",t[t.Current=1]="Current",t[t.End=2]="End"}(o||(o={}));var v=function(t){function e(e,n,r,o,s){void 0===e&&(e={});var a=t.call(this)||this;return a.snapshots=e,a.activeReel=n,a.allowedModes=r,a.modelSweeps=o,a.looping=s,a.enabledTourStops=[],a.tourPlaying=!1,a.tourEnded=!1,a.updateEnabledStops=function(t){var e,n;if(a.enabledTourStops=[],a.activeReel&&a.activeReel.reel){var r=function(e){if(e&&e.sid in a.snapshots){var n=a.snapshots[e.sid],r=n.metadata.camera_mode,i=n.metadata.scan_id,o=-1!==t.indexOf(r),s=a.modelSweeps.findIndex(function(t){return t.id===i}),u=void 0!==i&&-1!==s&&a.modelSweeps[s].enabled;o&&(!i||u)&&a.enabledTourStops.push(e.sid)}};try{for(var i=y(a.activeReel.reel),o=i.next();!o.done;o=i.next()){r(o.value)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},a.updateEnabledStops(r),a.tourState=i.Inactive,a.tourCurrentSnapshot=-1,a.transition={active:!1,type:c.c.Move,promise:Promise.resolve(),stop:function(){return Promise.resolve()},toIndex:-1},a.looping=s,a}return h(e,t),e.prototype.addSnapshot=function(t,e){void 0===e&&(e=o.Current),this.snapshots[t.sid]=t,t.metadata.camera_mode in this.allowedModes&&this.enabledTourStops.push(t.sid);var n=this.tourCurrentSnapshotSid;switch(this.tourCurrentSnapshotSid=t.sid,e){case o.Beginning:this.tourCurrentSnapshot=0,this.activeReel.reel.insert(0,{sid:t.sid});break;case o.End:this.tourCurrentSnapshot=this.enabledTourStops.length-1,this.activeReel.reel.push({sid:t.sid});break;case o.Current:if(void 0===n)this.tourCurrentSnapshot=this.enabledTourStops.length-1,this.activeReel.reel.push({sid:t.sid});else{var r=this.activeReel.reel.findIndex(function(t){return!!t&&t.sid===n})+1;(r<=0||r>this.activeReel.reel.length)&&(r=this.activeReel.reel.length-1),this.tourCurrentSnapshot=this.tourCurrentSnapshot+1,this.activeReel.reel.insert(r,{sid:t.sid})}break;default:throw new Error("Tours.addSnapshot not implemented: "+e)}},e.prototype.setHighlightOverrides=function(t,e){var n=this.activeReel.reel.findIndex(function(e){return!!e&&e.sid===t}),r=this.activeReel.reel.get(n);if(!r)throw Error("Highlight not found for "+t);var i={sid:r.sid};r.overrides?(i.overrides=f({},r.overrides),e.hasOwnProperty("panDirection")&&(i.overrides.panDirection=e.panDirection),e.hasOwnProperty("transitionType")&&(i.overrides.transitionType=e.transitionType)):i.overrides={panDirection:e.panDirection,transitionType:e.transitionType},this.activeReel.reel.update(n,i)},e.prototype.moveSnapshot=function(t,e){var n=this.activeReel.reel.findIndex(function(e){return!!e&&e.sid===t}),r=this.activeReel.reel.findIndex(function(t){return!!t&&t.sid===e});this.activeReel.reel.move(n,r)},e.prototype.clear=function(){this.resetEmptyReel(),this.enabledTourStops.length=0,this.activeReel.reel.length=0},e.prototype.removeSnapshot=function(t){var e=this.enabledTourStops.indexOf(t),n=this.activeReel.reel.findIndex(function(e){return!!e&&e.sid===t}),r=this.getTourIndexBySid(t);if(-1!==e&&this.enabledTourStops.splice(e,1),this.enabledTourStops.length>0){var i=r<=this.tourCurrentSnapshot?this.tourCurrentSnapshot-1:this.tourCurrentSnapshot;this.setTourCurrentSnapshotByIndex(Math.max(i,0))}else this.resetEmptyReel();this.activeReel.reel.update(n,null)},e.prototype.getReel=function(){return this.activeReel},e.prototype.update=function(t){this.copy(t)},e.prototype.clone=function(){var t,n,r=new e({},this.activeReel,this.allowedModes,this.modelSweeps,this.looping);try{for(var i=y(Object.keys(this.snapshots)),o=i.next();!o.done;o=i.next()){var s=o.value,a=this.snapshots[s];r.snapshots[s]=a.clone()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.copy=function(t){for(var e in t.snapshots)this.snapshots[e]=t.snapshots[e];this.activeReel=t.activeReel,this.allowedModes=t.allowedModes,this.tourState=t.tourState,this.tourPlaying=t.tourPlaying,this.tourEnded=t.tourEnded,this.tourCurrentSnapshot=t.tourCurrentSnapshot,this.tourCurrentSnapshotSid=t.tourCurrentSnapshotSid,this.modelSweeps=t.modelSweeps,this.looping=t.looping,this.updateEnabledStops(this.allowedModes)},e.prototype.isLooping=function(){return this.looping},e.prototype.isTourActive=function(){return this.tourState!==i.Inactive},e.prototype.getCurrentTourState=function(){var t=[];return this.iterateSnapshots(function(e){return t.push(Object(l.f)(e))}),{active:this.tourState!==i.Inactive,currentStep:this.getTourCurrentSnapshotIndex(),tourPlaying:this.tourPlaying,totalSteps:this.getSnapshotCount(),tourEnded:this.tourEnded,activeStep:this.transition&&-1!==this.transition.toIndex?this.transition.toIndex:this.getTourCurrentSnapshotIndex(),snapshots:t,transition:this.transition}},e.prototype.isTourTransitionActive=function(){return this.transition.active},e.prototype.getTourTransitionType=function(){return this.transition.type},e.prototype.useTransition=function(t){this.transition=t},e.prototype.setTourTransitionToIndex=function(t){this.transition.toIndex=t},e.prototype.stopTourTransition=function(){return p(this,void 0,Promise,function(){return d(this,function(t){switch(t.label){case 0:return[4,this.transition.stop()];case 1:return t.sent(),[2]}})})},e.prototype.iterateSnapshots=function(t){var e=this,n=0;this.activeReel.reel.forEach(function(r){if(r&&e.isEnabled(r.sid)){var i=e.snapshots[r.sid];t(i,n++)}})},e.prototype.getEnabledSnapshots=function(){var t=[];return this.iterateSnapshots(function(e,n){t.push(e)}),t},e.prototype.updateSnapshots=function(t){this.snapshots=t,this.activeReel.setDirty()},e.prototype.getPhotosForTour=function(){var t=[],e=function(e){var r=n.snapshots[e];"tour"!==r.category&&"panorama"!==r.category&&t.push({name:r.name,sid:r.sid,thumbnailUrl:r.thumbnailUrl,inReel:-1!==n.activeReel.reel.findIndex(function(t){return!!t&&t.sid===e})})},n=this;for(var r in this.snapshots)e(r);return t},e.prototype.getSnapshot=function(t){return this.snapshots[t]},e.prototype.getHighlightDescription=function(t){var e=this.activeReel.reel.findIndex(function(e){return!!e&&e.sid===t}),n=this.activeReel.reel.get(e);return{snapshot:this.getSnapshot(t),reelEntry:n}},e.prototype.getSnapshotCount=function(){return this.enabledTourStops.length},e.prototype.getTourState=function(){return this.tourState},e.prototype.setTourState=function(t){this.tourState=t},e.prototype.getTourCurrentSnapshotIndex=function(){return this.tourCurrentSnapshot},e.prototype.getTourCurrentSnapshotSid=function(){return this.tourCurrentSnapshotSid},e.prototype.getTourSnapshotSid=function(t){var e,n,r=0;try{for(var i=y(this.activeReel.reel),o=i.next();!o.done;o=i.next()){var s=o.value;if(s&&this.isEnabled(s.sid)){if(r===t)return s.sid;r++}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}throw new Error("getTourSnapshotSid() -> Invalid snapshot index.")},e.prototype.getTourSnapshotsWithSweepId=function(t){var e,n,r=[];try{for(var i=y(this.activeReel.reel),o=i.next();!o.done;o=i.next()){var s=o.value;s&&s.sid in this.snapshots&&this.snapshots[s.sid].metadata.scan_id===t&&r.push(s.sid)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},e.prototype.setTourCurrentSnapshotByIndex=function(t){var e,n;if(t<0||t>this.getSnapshotCount())throw new Error("setTourCurrentSnapshotByIndex() -> Invalid tour index.");var r=-1;try{for(var i=y(this.activeReel.reel),o=i.next();!o.done;o=i.next()){var s=o.value;if(s&&this.isEnabled(s.sid)&&++r===t){this.tourCurrentSnapshot=t,this.tourCurrentSnapshotSid=s.sid;break}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}-1===r&&this.resetEmptyReel(),this.setTourTransitionToIndex(-1)},e.prototype.getTourIndexBySid=function(t){var e,n,r=-1;try{for(var i=y(this.activeReel.reel),o=i.next();!o.done;o=i.next()){var s=o.value;if(s&&this.isEnabled(s.sid)&&(r++,s.sid===t))return r}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return-1},e.prototype.isEnabled=function(t){return-1!==this.enabledTourStops.indexOf(t)},e.prototype.resetEmptyReel=function(){this.tourCurrentSnapshot=-1,this.tourCurrentSnapshotSid=void 0,this.setTourTransitionToIndex(-1)},e}(s.a)},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return s}),n.d(e,"e",function(){return a}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"h",function(){return l}),n.d(e,"f",function(){return h}),n.d(e,"g",function(){return f});var r=n(8),i=n(7),o="features/smoothertour",s="features/sc2pandirection",a="TourSpeed &wts",u="ToursMetersPerSecond",c=1.25,l=function(t){var e=c;if(!isNaN(t)){var n=Math.min(Math.max(.4,t),10);e=Object(i.p)(n,.4,10,.8,3)}return e},h=function(t){return Object(i.p)(t,.8,3,.4,10)},f=Object.freeze({panAtSnapshot:r.q("kb",1),snapshotPanDuration:r.q("st",3500),snapshotPanAngle:r.q("sspa",35),walkingTourIncludeExtraPanosDistance:.4,walkingStageMinimumDistance:.8,maxWalkingSweepsBetweenSnapshots:40,autoStartDelay:r.q("ts",-1)})},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return f});var r,i,o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};!function(t){t[t.None=0]="None",t[t.Duration=1]="Duration",t[t.Phase=2]="Phase",t[t.Promise=3]="Promise"}(i||(i={}));var a,u=function(){return function(t){this.type=t}}(),c=function(t){function e(){return t.call(this,i.None)||this}return o(e,t),e}(u),l=function(t){function e(e){var n=t.call(this,i.Duration)||this;return n.duration=e,n.startTime=Date.now(),n}return o(e,t),e}(u),h=function(t){function e(e){var n=t.call(this,i.Phase)||this;return n.phase=e,n}return o(e,t),e}(u);!function(t){t[t.Pending=0]="Pending",t[t.Fulfilled=1]="Fulfilled",t[t.Rejected=2]="Rejected"}(a||(a={}));var f=function(t){function e(e){var n=t.call(this,i.Promise)||this;return n.promise=e,n.promiseState=a.Pending,e.then(function(){n.promiseState=a.Fulfilled}).catch(function(){n.promiseState=a.Rejected}),n}return o(e,t),e}(u),p=function(){function t(t,e){void 0===e&&(e=!0),this.generator=t,e&&this.start()}return t.prototype.start=function(){this.started||(this.iterator=this.generator()),this.started=!0},t.prototype.iterate=function(){var t=this.iterator.next();this.currentResult=t.value,t.done&&(this.started=!1)},t}(),d=function(){function t(){this.generators=[]}return t.prototype.startGenerator=function(t){for(var e=this.generators.length,n=0;n<this.generators.length;n++){this.generators[n].generator===t&&(e=n)}this.generators[e]=new p(t)},t.prototype.stopGenerator=function(t){var e,n;try{for(var r=s(this.generators),i=r.next();!i.done;i=r.next()){var o=i.value;o.generator===t&&(o.started=!1)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.processGenerators=function(t,e){var n,r;try{for(var o=s(this.generators),u=o.next();!u.done;u=o.next()){var p=u.value;if(p.started)switch(t){case i.None:(!p.currentResult||p.currentResult instanceof c)&&p.iterate();break;case i.Phase:if(p.currentResult instanceof h){var d=p.currentResult;void 0!==e&&d.phase===e&&p.iterate()}break;case i.Promise:if(p.currentResult instanceof f)p.currentResult.promiseState===a.Fulfilled&&p.iterate();break;case i.Duration:if(p.currentResult instanceof l){var y=p.currentResult;Date.now()-y.startTime>=y.duration&&p.iterate()}}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t}();e.d=d},function(t,e,n){"use strict";n.r(e);var r,i,o=n(2),s=n(102),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};!function(t){t.CONNECT="postmessage.connect",t.HANDSHAKE="postmessage.handshake",t.ACCEPT="postmessage.accept",t.REJECT="postmessage.reject",t.ACTION="postmessage.action",t.RESPONSE="postmessage.response",t.EVENT="postmessage.event",t.SUBSCRIBE="postmessage.subscribe",t.UNSUBSCRIBE="postmessage.unsubscribe",t.OBSERVE="postmessage.observe",t.UNOBSERVE="postmessage.unobserve",t.OBSERVATION="postmessage.observation"}(i||(i={}));var c,l=function(t){function e(e){var n=t.call(this)||this;return n.clientWindow=null,n.clientOrigin=null,n.id=0,n.hostWindow=e,n.id=Math.floor(1e5*Math.random()),n.bindEvents(),n}return a(e,t),e.prototype.send=function(t){this.clientWindow&&this.clientOrigin&&this.clientWindow.postMessage(u({},t,{fromId:this.id}),this.clientOrigin)},e.prototype.setTarget=function(t,e){this.clientWindow=t,this.clientOrigin=e},e.prototype.clearTarget=function(){this.clientWindow=null,this.clientOrigin=null},e.prototype.bindEvents=function(){var t=this;this.hostWindow.addEventListener("message",function(e){t.onPostmessageReceived(e)})},e.prototype.onPostmessageReceived=function(t){var e=t.origin,n=t.source;if(n){switch(t.data.type){case i.CONNECT:break;case i.ACTION:case i.SUBSCRIBE:case i.UNSUBSCRIBE:case i.OBSERVE:case i.UNOBSERVE:if(!this.validateMessageOrigin(e,n))return;break;default:return}var r=u({},t.data,{source:n,origin:e,timestamp:Date.now()});this.emit(t.data.type,r)}},e.prototype.validateMessageOrigin=function(t,e){return"*"===this.clientOrigin||this.clientWindow===e&&this.clientOrigin===t},e}(s.EventEmitter);!function(t){t.CONNECTION="sdk.connection",t.MESSAGED="sdk.messaged",t.SUBSCRIBED="sdk.subscribed",t.UNSUBSCRIBED="sdk.unsubscribed",t.OBSERVE="sdk.observe",t.UNOBSERVE="sdk.unobserve"}(c||(c={}));var h=n(96),f=n(3),p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(){return(d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},y=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},m=new f.a("SdkHost"),v=function(t){function e(e){var n=t.call(this)||this;return n.requestQueue=new h.RequestQueue({retries:0}),n.clients={},n.connectionHandler=new l(e),n.bindEvents(e),n}return p(e,t),e.prototype.broadcastEventToClient=function(t,e,n){var r=this.clients[t];if(r){var o={type:i.EVENT,eventType:e,eventData:n,toId:t};r.messenger.send(o)}},e.prototype.broadcastObservationToClient=function(t,e,n){var r=this.clients[t];if(r){var o={type:i.OBSERVATION,observableKey:e,observableData:n,toId:t};r.messenger.send(o)}},e.prototype.broadcastEvent=function(t,e,n){var r,i;void 0===n&&(n=!0);try{for(var o=y(Object.keys(this.clients)),s=o.next();!s.done;s=o.next()){var a=s.value;(n||this.clients[parseInt(a,10)].subscriptions[t])&&this.broadcastEventToClient(parseInt(a,10),t,e)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype.bindEvents=function(t){var e=this;this.connectionHandler.on(i.CONNECT,function(n){var r=new l(t);e.onConnectionReceived(r,n)})},e.prototype.onConnectionReceived=function(t,e){var n=this,r=function(e){var n={type:i.REJECT,toId:o.fromId,reason:e};t.send(n),t.clearTarget()},o=d({},e,{handshake:function(){var r=n.clients[o.fromId];if(r&&r.connected)m.info("client already connected: "+o.fromId);else{n.clients[o.fromId]={key:e.applicationKey,messenger:t,subscriptions:{},connected:!1};var s={type:i.HANDSHAKE,toId:o.fromId};m.info("handshake "+o.fromId),t.send(s)}},accept:function(e,r){var s=n.clients[o.fromId];if(s&&s.connected)m.info("client already connected: "+o.fromId);else{var a={type:i.ACCEPT,toId:o.fromId,warning:r,interface:e};m.info("accept "+o.fromId),t.send(a),s.connected=!0,t.on(i.ACTION,function(t){return n.onMessageReceived(s,t)}),t.on(i.SUBSCRIBE,function(t){return n.onSubscription(s,t)}),t.on(i.UNSUBSCRIBE,function(t){return n.onUnsubscribe(s,t)}),t.on(i.OBSERVE,function(t){return n.emit(c.OBSERVE,t)}),t.on(i.UNOBSERVE,function(t){return n.emit(c.UNOBSERVE,t)})}},reject:r,requestedVersion:e.sdkVersion||e.requestedVersion});t.setTarget(o.source,o.origin),this.verifyConnection(o).then(function(){return n.emit(c.CONNECTION,o)}).catch(r)},e.prototype.verifyConnection=function(t){var n=this;return t.source===window?Promise.resolve():new Promise(function(r,i){var o={cache:!1,headers:{"X-Matterport-Application-Key":t.applicationKey,"X-Matterport-Referrer":t.origin}};n.requestQueue.get(e.apiValidationUrl,o).then(r,function(){return i("key/referrer mismatch")})})},e.prototype.onMessageReceived=function(t,e){if(this.validateClientApplicationKey(e.fromId,e.applicationKey)){var n={toId:e.fromId,uid:e.uid,message:null,success:!0,type:i.RESPONSE,timestamp:Date.now()},r=d({},e,{onSuccess:function(t){o(t)},onFail:function(t){n.success=!1,n.error=t,o(t)}});this.emit(c.MESSAGED,r)}function o(e){n.message=e,t.messenger.send(n)}},e.prototype.onSubscription=function(t,e){t.subscriptions[e.subscription]=!0,this.emit(c.SUBSCRIBED,e)},e.prototype.onUnsubscribe=function(t,e){t.subscriptions[e.subscription]=!1,this.emit(c.UNSUBSCRIBED,e)},e.prototype.validateClientApplicationKey=function(t,e){var n=this.clients[t];return!!n&&n.key===e},e.apiValidationUrl=window.location.origin+"/api/v1/user/",e}(s.EventEmitter),b=n(141),g=n(19),_=n(69),w=n(0),O=n(113),x=n(62),E=n(135),S=n(101),P=n(167);n.d(e,"setupSdk",function(){return C});var R=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(){return(I=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},T=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},M=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},A=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},L=new f.a("sdk"),k=function(t){function e(){var e=t.call(this)||this;return e.name="sdk",e.clientInterface={functions:{},enums:{},observables:{}},e.valueToClientInterface={},e.commandCreators={},e.observables={},e.registeredEventUsers={},e.registeredObservers={},e.sdkHost=new v(window),e}return R(e,t),e.prototype.init=function(t,e){return T(this,void 0,void 0,function(){var n;return M(this,function(r){switch(r.label){case 0:return this.engine=e,n=this,[4,e.getModule(_.default)];case 1:return n.analytics=r.sent(),this.clientFilter=t.clientFilter||function(){return!0},this.issueCommand=e.commandBinder.issueCommand.bind(e.commandBinder),this.interfacePromise=new g.a,this.addDeprecatedInterface(),[2]}})})},e.prototype.addDeprecatedInterface=function(){var t,e,n,r;try{for(var i=A(Object.keys(x)),o=i.next();!o.done;o=i.next()){var s=o.value,a=x[s];this.clientInterface.functions[a.name]=a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}try{for(var u=A(Object.keys(E)),c=u.next();!c.done;c=u.next()){var l=c.value;this.addEnumToInterface(E[l])}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}},e.prototype.enableHandshaking=function(){var t=this;this.sdkHost.on(c.CONNECTION,function(e){return t.onConnectionReceived(e)})},e.prototype.acceptConnections=function(){var t=this;this.sdkHost.on(c.MESSAGED,function(e){return t.onMessageReceived(e)}),this.sdkHost.on(c.SUBSCRIBED,function(e){return t.onSubscribeReceived(e)}),this.sdkHost.on(c.UNSUBSCRIBED,function(e){return t.onUnsubscribeReceived(e)}),this.sdkHost.on(c.OBSERVE,function(e){return t.onObserveReceived(e)}),this.sdkHost.on(c.UNOBSERVE,function(e){return t.onUnobserveReceived(e)}),this.interfacePromise.resolve()},e.prototype.clearInterface=function(){this.clientInterface.functions={},this.clientInterface.enums={},this.commandCreators={}},e.prototype.addCommandToInterface=function(t,e){var n=this.getInterfaceIndex(t);this.clientInterface.functions.hasOwnProperty(n)&&L.debug("Overwriting "+n+" function in sdk interface"),this.clientInterface.functions[n]=t,this.commandCreators[n]=e,t.namespace||(this.clientInterface.functions[t.name]=t,this.commandCreators[t.name]=e)},e.prototype.addEnumToInterface=function(t){var e=this.getInterfaceIndex(t);if(this.clientInterface.functions.hasOwnProperty(e)&&L.debug("Overwriting "+e+" enum in sdk interface"),this.clientInterface.enums[e]=I({},t,{values:I({},t.values)}),"Event"===t.name){var n=Object.keys(t.values);for(var r in n){var i=t.values[n[r]];this.valueToClientInterface.hasOwnProperty(i)?L.warn("Duplicate event detected for "+JSON.stringify(t)):this.valueToClientInterface[i]=t}}},e.prototype.addObservableToInterface=function(t,e){var n=this.getInterfaceIndex(t);this.clientInterface.functions.hasOwnProperty(n)&&L.debug("Overwriting "+n+" observable in sdk interface"),this.clientInterface.observables[n]=I({},t),this.observables[n]=e},e.prototype.getInterfaceIndex=function(t){var e=t.name+"."+t.version;return t.namespace&&(e=t.namespace+"."+e),e},e.prototype.broadcast=function(t,e,n,r){void 0===r&&(r=!0);var i=this.registeredEventUsers[t]>0;if(r||i){var o=n&&void 0!==e?n(e):void 0;n&&!o||this.sdkHost.broadcastEvent(t,o,r)}},e.prototype.notify=function(t,e,n){this.sdkHost.broadcastObservationToClient(t,e,n)},e.prototype.isVersionDeprecated=function(t){return-1!==e.deprecatedSdks.indexOf(t)},e.prototype.makeVersionedInterface=function(t){b.valid(t)||(t+=".0");var e=function(e){var n,r,i={};try{for(var o=A(Object.keys(e)),s=o.next();!s.done;s=o.next()){var a=s.value,u=e[a];b.satisfies(t,u.version)&&(i[a]=u)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i};return{enums:e(this.clientInterface.enums),functions:e(this.clientInterface.functions),observables:e(this.clientInterface.observables)}},e.prototype.onConnectionReceived=function(t){return T(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u=this;return M(this,function(c){switch(c.label){case 0:return this.clientFilter(t)?(e=t.requestedVersion,n=function(n){var r=u.makeVersionedInterface(e);if(0===Object.keys(r.enums).length&&0===Object.keys(r.functions).length)return t.reject("unsupported version: "+e);t.accept(r,n)},t.handshake(),this.isVersionDeprecated(e)?("This version of the SDK is being deprecated. Please see [PLACEHOLDER] for more info",n("This version of the SDK is being deprecated. Please see [PLACEHOLDER] for more info"),[4,this.engine.getModule(w.U)]):[3,4]):[2,t.reject("Connection refused")];case 1:return r=c.sent(),i=r.getModel(),o=r.getSignedUrls(),[4,this.engine.market.waitForData(O.a)];case 2:return s=c.sent().getSweepList(),[4,Object(P.a)(o,i.sid,i.vrSupported,s)];case 3:return a=c.sent(),this.sdkHost.broadcastEventToClient(t.fromId,S.a.MODEL_LOADED,{metadata:a}),[3,5];case 4:this.interfacePromise.then(function(){return n()}),c.label=5;case 5:return this.trackSdkConnect(t),[2]}})})},e.prototype.onMessageReceived=function(t){var e=this.commandCreators[t.targetFunction];if(!e)return t.onFail(t.targetFunction+" is not a valid command");this.trackSdkCall(t);try{return this.issueCommand(e(t.params)).then(t.onSuccess,function(e){return t.onFail(e.message)})}catch(e){return L.debug(e),t.onFail(e.message)}},e.prototype.onSubscribeReceived=function(t){this.registeredEventUsers.hasOwnProperty(t.subscription)||(this.registeredEventUsers[t.subscription]=0),this.registeredEventUsers[t.subscription]++,this.trackSdkEvent(t)},e.prototype.onUnsubscribeReceived=function(t){this.registeredEventUsers.hasOwnProperty(t.subscription)&&(this.trackSdkEvent(t),this.registeredEventUsers[t.subscription]--)},e.prototype.onObserveReceived=function(t){return T(this,void 0,void 0,function(){var e,n,r,i,o=this;return M(this,function(s){switch(s.label){case 0:return e=t.fromId,n=t.observableKey,(r=this.observables[n])?[4,r]:[3,2];case 1:i=s.sent(),this.notify(e,n,i.getData()),this.registeredObservers[e]=this.registeredObservers[e]||{},void 0===this.registeredObservers[e][n]&&(this.registeredObservers[e][n]=i.subscribe(function(){return o.notify(e,n,i.getData())}),this.trackClientSubscribe(c.OBSERVE,t)),s.label=2;case 2:return[2]}})})},e.prototype.onUnobserveReceived=function(t){var e=t.fromId,n=t.observableKey;this.registeredObservers[e]&&this.registeredObservers[e][n]&&(this.registeredObservers[e][n].cancel(),delete this.registeredObservers[e][n],this.trackClientSubscribe(c.OBSERVE,t))},e.prototype.trackSdkEvent=function(t){if(this.analytics&&!this.isInternalCall(t)){var e="unknown";switch(t.type){case i.SUBSCRIBE:e="on";break;case i.UNSUBSCRIBE:e="off"}var n=this.valueToClientInterface[t.subscription];if(n){var r=Object.keys(n.values),o=r.find(function(e,i){var o=r[i];return n.values[o]===t.subscription});o&&this.analytics.track("sdk_event",{origin:t.origin,applicationKey:t.applicationKey,version:n.version,name:e,namespace:n.namespace,eventType:o,count:this.registeredEventUsers[t.subscription]})}}},e.prototype.trackSdkConnect=function(t){this.analytics&&!this.isInternalCall(t)&&this.analytics.track("sdk_connect",{origin:t.origin,applicationKey:t.applicationKey,version:t.requestedVersion})},e.prototype.trackSdkCall=function(t){if(this.analytics&&!this.isInternalCall(t)){var e=this.clientInterface.functions[t.targetFunction],n=Object.keys(t.params).map(function(e){return t.params[e]});this.analytics.track("sdk_call",I({origin:t.origin,applicationKey:t.applicationKey},e,{args:n}))}},e.prototype.trackClientSubscribe=function(t,e){var n=t===c.OBSERVE;this.analytics.track("sdk_subscribe",{origin:e.origin,applicationKey:e.applicationKey,observableKey:e.observableKey,name:n?"subscribe":"cancel"})},e.prototype.isInternalCall=function(t){return t.source===window},e.deprecatedSdks=["1.0","1.1"],e}(o.a),C=(e.default=k,function(t,e){return T(void 0,void 0,void 0,function(){var n,r=this;return M(this,function(i){switch(i.label){case 0:return[4,t.waitForModule(k)];case 1:return(n=i.sent()).enableHandshaking(),[4,Promise.all(e.map(function(e){return T(r,void 0,void 0,function(){return M(this,function(r){switch(r.label){case 0:return[4,e(t,n)];case 1:return r.sent(),[2]}})})}))];case 2:return i.sent(),n.acceptConnections(),[2]}})})})},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=Object.prototype.toString,o=i.call("");t.exports=function(t){return"string"==typeof t||t&&"object"===r(t)&&(t instanceof String||i.call(t)===o)||!1}},function(t,e,n){"use strict";var r=Object.prototype.toString,i=r.call(function(){return arguments}());t.exports=function(t){return r.call(t)===i}},function(t,e,n){"use strict";t.exports=n(108)()?Object.setPrototypeOf:n(107)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r,i=n(21),o=n(114),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.properties=Object(o.a)(),e.listeners={},e}return s(e,t),e.prototype.update=function(t){this.copy(t)},e.prototype.clone=function(){var t=new e;return t.copy(this),t},e.prototype.copy=function(t){var e,n,r=t.properties;try{for(var i=a(r.keys),o=i.next();!o.done;o=i.next()){var s=o.value,u=r.get(s);u&&"function"==typeof u.clone?this.setProperty(s,u.clone()):this.setProperty(s,u)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},e.prototype.setProperty=function(t,e){var n=this.properties.get(t);null!=e&&n===e||(this.properties.set(t,e),this.triggerOnPropertyChanged(t,e))},e.prototype.hasProperty=function(t){return this.properties.has(t)},e.prototype.tryGetProperty=function(t,e){return this.hasProperty(t)?this.getProperty(t):e},e.prototype.getProperty=function(t){if(this.hasProperty(t))return this.properties.get(t);throw new Error("SettingsData: "+t+" not found")},e.prototype.onPropertyChanged=function(t,e){var n=this,r=function(){t in n.listeners||(n.listeners[t]=[]),n.listeners[t].push(e)};return r(),{renew:r,cancel:function(){return n.removeOnPropertyChanged(t,e)},active:!0}},e.prototype.removeOnPropertyChanged=function(t,e){for(var n=this.listeners[t]||[];-1!==n.indexOf(e);)n.splice(n.indexOf(e),1)},e.prototype.triggerOnPropertyChanged=function(t,e){var n,r,i=this.listeners[t]||[];try{for(var o=a(i),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.checkUrlParam=function(t,e,n){void 0===n&&(n=0);var r=this.tryGetProperty(t,n);return"number"==typeof r?r===e:parseInt(r,10)===e},e.prototype.iterate=function(t){var e,n;try{for(var r=a(this.properties.keys),i=r.next();!i.done;i=r.next()){var o=i.value;t(o,this.properties.get(o))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r,i=n(37),o=n(6),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e){var n=t.call(this)||this;return n.notifyObserver=function(t){t(n.value)},n.value=e,n}return s(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value!==t&&(this.removeChildObservables(this._value),this.addChildObservable(t),this._value=t,this.setDirty())},enumerable:!0,configurable:!0}),e.prototype.deepCopy=function(){return Object(o.a)(this._value)},e}(i.a),u=function(t){return new a(t)}},function(t,e,n){"use strict";n.r(e);var r,i=n(3),o=n(30),s=n(1),a=n(10),u=n(14),c=n(19),l=(n(250),function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})}),h=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},f=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};!function(t){t[t.Init=0]="Init",t[t.Loading=1]="Loading",t[t.Loaded=2]="Loaded"}(r||(r={}));var p,d=function(){function t(t){var e=this;this.onChange=t,this.settings={},this.helperObject={colors:{},vectors:{},quaternions:{}},this.initPromise=new c.a,this.loadState=r.Init,this.uninitError="ControlKit not yet initialized",this.lastKeys=[],this.lastKeysBufferLength=0,this.controlKit=void 0,this.updateRequired=!1,this.panels=[],this.onToggleCallbacks={},this.onKeyDown=function(t){e.lastKeys.unshift(t.keyCode),e.lastKeys.length>e.lastKeysBufferLength&&e.lastKeys.pop();for(var n=0;n<e.panels.length;n++){var r=e.panels[n].activationSequence;Object(u.f)(e.lastKeys,r)&&e.toggle(n)}},this.getSubGroup=function(t,n){var r=e.panels[t];if(!r.allowSubGroups)return r.guiPanel;var i=r.subGroups[n];return i||(i=r.guiPanel.addSubGroup({label:n,enable:!1}),r.subGroups[n]=i),i},this.addColor=function(t,n,r,i){e.updateHelperObject(r,i),t.addColor(e.helperObject.colors,n+r,{label:r,colorMode:"hex",onChange:function(t){e.settings[n+r].setHex(parseInt(t.substring(1),16));var i={};i[r]=e.settings[n+r],e.onChange(i)}})},this.addVector3=function(t,n,r,i){e.updateHelperObject(r,i);var o=t.addSubGroup({label:r}),a=["x","y","z"];for(var u in a)o.addNumberInput(e.helperObject.vectors[n+r],a[u],{label:a[u],onChange:function(){e.settings[n+r]=new s.a(e.helperObject.vectors[r].x,e.helperObject.vectors[r].y,e.helperObject.vectors[r].z);var t={};t[r]=e.settings[n+r],e.onChange(t)}})},this.addQuaternion=function(t,n,r,i){e.updateHelperObject(r,i);var o=t.addSubGroup({label:r}),s=["x","y","z","w"];for(var u in s){var c=r+s[u];o.addNumberInput(e.helperObject.quaternions[n+r],c,{label:s[u],onChange:function(){e.settings[n+r]=new a.a(e.helperObject.quaternions[n+r].x,e.helperObject.quaternions[n+r].y,e.helperObject.quaternions[n+r].z,e.helperObject.quaternions[n+r].w);var t={};t[r]=e.settings[n+r],e.onChange(t)}})}},this.boundOnKey=this.onKeyDown.bind(this)}return t.prototype.init=function(){},t.prototype.loadGuiPackage=function(){return l(this,void 0,Promise,function(){var t=this;return h(this,function(e){return this.loadState===r.Init&&(n.e(18).then(function(){var t=n(1181);return"object"==typeof t&&t&&t.__esModule?t:Object.assign({},"object"==typeof t&&t,{default:t})}).then(function(e){var n=document.createElement("div");n.id="controlKitElement",(document.getElementById("control-kit-wrapper")||document.body).appendChild(n),t.controlKit=new e.default({opacity:.9,enable:!1,parentDomElementId:"controlKitElement"}),t.controlKit.setShortcutEnable(""),t.controlKit.enable(),t.initPromise.resolve(),t.loadState=r.Loaded}),this.loadState=r.Loading),[2,this.loadPromise]})})},Object.defineProperty(t.prototype,"loadPromise",{get:function(){return this.initPromise.nativePromise()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoaded",{get:function(){return void 0!==this.controlKit},enumerable:!0,configurable:!0}),t.prototype.addPanel=function(t,e,n){if(void 0===n&&(n={}),!this.controlKit)throw new Error(this.uninitError);for(void 0===n.width&&(n.width=250),void 0===n.allowSubGroups&&(n.allowSubGroups=!0),void 0===n.ratio&&(n.ratio=60),this.lastKeysBufferLength=Math.max(this.lastKeysBufferLength,e.length);this.lastKeysBufferLength>this.lastKeys.length;)this.lastKeys.unshift(-1);var r=this.controlKit.addPanel({label:t,align:"right",ratio:n.ratio,width:n.width});return this.panels.push({guiPanel:r,subGroups:[],allowSubGroups:n.allowSubGroups,activationSequence:e.reverse()}),this.panels.length-1},t.prototype.isVisible=function(t){if(!this.controlKit)throw new Error(this.uninitError);return this.panels[t].guiPanel._enabled},t.prototype.toggle=function(t){var e=this;this.controlKit?this.toggleVisibility(t):this.loadGuiPackage().then(function(){e.toggleVisibility(t)})},t.prototype.onToggle=function(t,e){this.onToggleCallbacks[t]||(this.onToggleCallbacks[t]=[]),this.onToggleCallbacks[t].push(e)},t.prototype.toggleVisibility=function(t){var e,n,r=this.panels[t].guiPanel._enabled;if(r?this.panels[t].guiPanel.disable():this.panels[t].guiPanel.enable(),this.onToggleCallbacks[t])try{for(var i=f(this.onToggleCallbacks[t]),o=i.next();!o.done;o=i.next()){(0,o.value)(!r)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.dispose=function(){var t=document.getElementById("controlKit");t&&t.remove(),this.controlKit=void 0},t.prototype.activate=function(t){window.addEventListener("keydown",this.boundOnKey)},t.prototype.deactivate=function(t){this.controlKit&&this.controlKit.disable(),window.removeEventListener("keydown",this.boundOnKey)},t.prototype.render=function(){this.controlKit&&this.updateRequired&&this.controlKit.update()},t.prototype.updateSetting=function(t,e,n){if(!this.controlKit)throw new Error(this.uninitError);var r=this.settings[t+e];n&&"function"==typeof n.equals&&"function"==typeof n.copy&&r&&"function"==typeof r.equals&&"function"==typeof r.copy?n.equals(this.settings[t+e])||(this.settings[t+e].copy(n),this.updateHelperObject(name,n),this.updateRequired=!0):n!==this.settings[t+e]&&(this.settings[t+e]=n,this.updateRequired=!0)},t.prototype.isRegistered=function(t,e){return void 0!==this.settings[t+e]},t.prototype.addControl=function(t,e,n,r){var i=this;if(!this.controlKit)throw new Error(this.uninitError);var u=this.getSubGroup(t,e);this.settings[t+n]=r;var c=typeof r;if(("string"===c&&"true"===r||"false"===r)&&(c="boolean"),r instanceof o.a)this.addColor(u,t,n,r);else if(r instanceof s.a)this.addVector3(u,t,n,r);else if(r instanceof a.a)this.addQuaternion(u,t,n,r);else switch(c){case"string":u.addStringInput(this.settings,t+n,{label:n,onChange:function(e){var r={};i.settings[t+n]=e,r[n]=i.settings[t+n],i.onChange(r)}});break;case"number":u.addNumberInput(this.settings,t+n,{label:n,onChange:function(e){var r={};i.settings[t+n]=e,r[n]=i.settings[t+n],i.onChange(r)}});break;case"boolean":u.addCheckbox(this.settings,t+n,{label:n,ratio:10,onChange:function(){var e={};e[n]=i.settings[t+n],i.onChange(e)}});break;default:u.addStringOutput(this.settings,t+n,{label:n})}},t.prototype.addButton=function(t,e,n,r){if(!this.controlKit)throw new Error(this.uninitError);this.getSubGroup(t,e).addButton(n,r,{label:"none",ratio:100})},t.prototype.addSlider=function(t,e,n,r,i,o,s){var a=this;if(!this.controlKit)throw new Error(this.uninitError);var u=this.getSubGroup(t,e);this.settings[t+n]=r,this.settings[t+n+"_range"]=[i,o],u.addSlider(this.settings,t+n,t+n+"_range",{label:n,dp:s,onChange:function(){var e={};e[n]=a.settings[t+n],a.onChange(e)}})},t.prototype.updateHelperObject=function(t,e){e instanceof o.a?this.helperObject.colors[t]="#"+e.getHexString():e instanceof s.a?(this.helperObject.vectors[t]={},this.helperObject.vectors[t].x=e.x,this.helperObject.vectors[t].y=e.y,this.helperObject.vectors[t].z=e.z):e instanceof a.a&&(this.helperObject.quaternions[t]={},this.helperObject.quaternions[t].x=e.x,this.helperObject.quaternions[t].y=e.y,this.helperObject.quaternions[t].z=e.z,this.helperObject.quaternions[t].w=e.w)},t}(),y=n(2),m=n(59),v=n(25),b=n(5),g=n(8),_=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},O=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},x=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},E=new i.a("settings"),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="settings",e.queuedControls=[],e.queuedButtons=[],e.secretWord=[38,38,40,40,37,39,37,39,66,65,72],e.panelID=-1,e}return _(e,t),e.prototype.init=function(t,e){return w(this,void 0,void 0,function(){var n,r,i,o,s,a=this;return O(this,function(u){for(i in n=new m.a,this.engine=e,t.useGUI&&(this.settingsGUI=new d(function(t){a.updateSettings(t)}),e.addComponent(this,this.settingsGUI)),r=Object(g.n)())"string"==typeof(o=r[i])&&(s=Number.parseFloat(o),isNaN(s)||(o=s)),n.setProperty(i,o),t.useGUI&&this.queuedControls.push({group:"Engine Config",settingName:i,value:o});return this.engine.market.register(this,m.a,n),this.settings=e.market.tryGetData(m.a),t.useGUI&&(this.onPhaseChange=this.onPhaseChange.bind(this),this.bindings.push(e.subscribe(v.a,this.onPhaseChange)),this.settingsGUI.loadPromise.then(function(){var t,e,n,r;a.panelID=a.settingsGUI.addPanel("3.0.17.16-0-g4c07968ed",a.secretWord);try{for(var i=x(a.queuedControls),o=i.next();!o.done;o=i.next()){var s=o.value;a.settingsGUI.addControl(a.panelID,s.group,s.settingName,s.value)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}try{for(var u=x(a.queuedButtons),c=u.next();!c.done;c=u.next()){var l=c.value;a.settingsGUI.addButton(a.panelID,l.group,l.buttonName,l.callback)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}a.settingsGUI.toggle(a.panelID)})),[2]})})},e.prototype.onPhaseChange=function(t){t.phase!==b.a.STARTING&&t.phase!==b.a.PLAYING||this.settingsGUI.loadGuiPackage()},e.prototype.getSettingsGui=function(){return this.settingsGUI},e.prototype.getMainPanelId=function(){return this.panelID},e.prototype.updateSetting=function(t,e){e&&e.clone&&"function"==typeof e.clone?this.settings.setProperty(t,e.clone()):this.settings.setProperty(t,e),this.engine.market.update(this,this.settings),this.settingsGUI&&this.settingsGUI.isLoaded&&this.settingsGUI.updateSetting(this.panelID,t,e)},e.prototype.updateSettings=function(t){for(var e in t)this.updateSetting(e,t[e])},e.prototype.registerSetting=function(t,e,n,r){var i;(void 0===r&&(r=!0),this.settingsGUI&&this.settingsGUI.isRegistered(this.panelID,e))?E.warn("Duplicate setting "+e+" registered. Is a module being used twice?"):(i=n&&n.clone&&"function"==typeof n.clone?n.clone():n,this.settingsGUI&&r&&(this.settingsGUI.isLoaded?this.settingsGUI.addControl(this.panelID,t,e,i):this.queuedControls.push({group:t,settingName:e,value:n})),this.updateSetting(e,n))},e.prototype.registerButton=function(t,e,n){this.settingsGUI&&(this.settingsGUI.isLoaded?this.settingsGUI.addButton(this.panelID,t,e,n):this.queuedButtons.push({group:t,buttonName:e,callback:n}))},e.prototype.hasProperty=function(t){return this.settings.hasProperty(t)},e.prototype.getProperty=function(t){return this.settings.getProperty(t)},e.prototype.tryGetProperty=function(t,e){return this.settings.tryGetProperty(t,e)},e.prototype.toggleMenu=function(){this.settingsGUI&&this.settingsGUI.toggle(0)},e.prototype.disposeGui=function(){this.settingsGUI.dispose()},e}(y.a);e.default=S},function(t,e,n){"use strict";n.r(e),n.d(e,"moveInDirectionInterface",function(){return r}),n.d(e,"panInterface",function(){return i}),n.d(e,"rotateInterface",function(){return o}),n.d(e,"rotateInDirectionInterface",function(){return s}),n.d(e,"moveToModeInterface",function(){return a}),n.d(e,"moveToPanoInterface",function(){return u}),n.d(e,"getPoseInterface",function(){return c}),n.d(e,"screenShotInterface",function(){return l}),n.d(e,"tourStartInterface",function(){return h}),n.d(e,"tourStepInterface",function(){return f});var r={version:"1.x",name:"moveInDirection",args:["direction"]},i={version:"1.x",name:"panCamera",args:["position"]},o={version:"1.x",name:"rotate",args:["xAngle","yAngle"]},s={version:"1.x",name:"rotateDirection",args:["direction","angle"]},a={version:"1.x",name:"moveToMode",args:["mode"]},u={version:"1.x",name:"moveToPano",args:["sweep","options"]},c={version:"1.1",name:"getPose",args:[]},l={version:"1.1",name:"takeScreenShot",args:["resolution","visibleObjects"]},h={version:"1.1",name:"tourStart",args:["index"]},f={version:"1.1",name:"tourStep",args:["index"]}},function(t,e,n){"use strict";n.d(e,"f",function(){return i}),n.d(e,"e",function(){return s}),n.d(e,"a",function(){return a}),n.d(e,"d",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"g",function(){return h});var r,i,o=n(49);!function(t){t[t.LOW=1]="LOW",t[t.MEDIUM=2]="MEDIUM",t[t.HIGH=3]="HIGH",t[t.ULTRA=4]="ULTRA"}(i||(i={}));var s=((r={})[i.LOW]={debugColor:new o.a(1,0,0,.5),textureSize:256,tileSize:256,assetType:"low",assetSize:512,texelSize:.096},r[i.MEDIUM]={debugColor:new o.a(1,1,0,.5),textureSize:512,tileSize:512,assetType:"low",assetSize:512,texelSize:.048},r[i.HIGH]={debugColor:new o.a(0,1,0,.5),textureSize:1024,tileSize:512,assetType:"high",assetSize:2048,texelSize:.024},r[i.ULTRA]={debugColor:new o.a(0,1,1,.5),textureSize:2048,tileSize:512,assetType:"high",assetSize:2048,texelSize:.012},r),a=[i.LOW,i.MEDIUM,i.HIGH,i.ULTRA],u=a[0],c=a[a.length-1],l=30,h=function(t){for(var e in s)if(s[e].tileSize===t)return parseInt(e,10);throw new Error("Not a valid texture size: "+t)}},function(t,e,n){var r=n(67),i=n(223),o=n(77),s=n(132),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(66);t.exports=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r,i=n(4),o=n(21),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n,r){var i=t.call(this)||this;return i.icon=e,i.thumb=n,i.modified=new Date(0),i.pose=new u,r&&i.pose.copy(r),i}return s(e,t),e.prototype.update=function(t){this.copy(t)},e.prototype.copy=function(t){return this.icon=t.icon,this.thumb=t.thumb,this.modified=t.modified||new Date,this.pose.copy(t.pose),this},Object.defineProperty(e.prototype,"hasCameraPose",{get:function(){return this.pose&&this.pose.camera&&void 0!==this.pose.camera.position},enumerable:!0,configurable:!0}),e}(o.a),u=function(){function t(t,e,n,r,o,s){void 0===t&&(t=i.a.Panorama),this.mode=t,this.camera={position:e||void 0,rotation:n||void 0,zoom:r||void 0},this.pano=o||{position:void 0,rotation:void 0,uuid:void 0},this.floorVisibility=s||void 0}return t.prototype.copy=function(t){return this.camera.position=c(t.camera.position,this.camera.position),this.camera.rotation=c(t.camera.rotation,this.camera.rotation),this.camera.zoom=t.camera.zoom,this.pano.uuid=t.pano.uuid?t.pano.uuid.slice():void 0,this.pano.rotation=c(t.pano.rotation,this.pano.rotation),this.pano.position=c(t.pano.position,this.pano.position),this.mode=t.mode,this.floorVisibility=t.floorVisibility?t.floorVisibility.slice():void 0,this},t}(),c=function(t,e){return t&&e?e.copy(t):t&&!e?t.clone():void 0}},function(t,e,n){"use strict";n.r(e);var r,i=n(136),o=n(2),s=n(14),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},c=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},l=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="analytics",e.loaded=!1,e.bufferedData=[],e.track=function(t,n){return u(e,void 0,Promise,function(){var e=this;return c(this,function(r){return this.loaded?this.activeEndpoint?[2,Object(s.d)(0).then(function(){return e.activeEndpoint.track(t,n)})]:[2]:(this.bufferedData.push({event:t,data:n}),[2,Promise.resolve()])})})},e.trackAsync=function(t,n){e.loaded?e.activeEndpoint&&e.activeEndpoint.trackAsync(t,n):e.bufferedData.push({event:t,data:n})},e}return a(e,t),e.prototype.load=function(t,e,n,r,o){return u(this,void 0,void 0,function(){return c(this,function(s){switch(s.label){case 0:return i.b.hasOwnProperty(t)?(this.activeEndpoint=new i.b[t].class(e),[4,this.activeEndpoint.init(n,r)]):[2,!1];case 1:return s.sent(),o&&o.loggedIn&&this.activeEndpoint.identify(o),this.loaded=!0,this.flushBufferedData(),[2,!0]}})})},e.prototype.flushBufferedData=function(){var t,e;try{for(var n=l(this.bufferedData),r=n.next();!r.done;r=n.next()){var i=r.value;this.activeEndpoint.track(i.event,i.data)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.bufferedData.length=0},e}(o.a);e.default=h},,function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r="features/measurements",i="tools/measurements"},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r,i,o,s=n(1),a=n(51);function u(t,e){this.min=void 0!==t?t:new s.a(1/0,1/0,1/0),this.max=void 0!==e?e:new s.a(-1/0,-1/0,-1/0)}Object.assign(u.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,s=-1/0,a=0,u=t.length;a<u;a+=3){var c=t[a],l=t[a+1],h=t[a+2];c<e&&(e=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>s&&(s=h)}return this.min.set(e,n,r),this.max.set(i,o,s),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,s=-1/0,a=0,u=t.count;a<u;a++){var c=t.getX(a),l=t.getY(a),h=t.getZ(a);c<e&&(e=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>o&&(o=l),h>s&&(s=h)}return this.min.set(e,n,r),this.max.set(i,o,s),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:(o=new s.a,function(t,e){var n=o.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new s.a),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new s.a),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t,e,n,r=new s.a;function i(i){var o=i.geometry;if(void 0!==o)if(o.isGeometry){var s=o.vertices;for(e=0,n=s.length;e<n;e++)r.copy(s[e]),r.applyMatrix4(i.matrixWorld),t.expandByPoint(r)}else if(o.isBufferGeometry){var a=o.attributes.position;if(void 0!==a)for(e=0,n=a.count;e<n;e++)r.fromBufferAttribute(a,e).applyMatrix4(i.matrixWorld),t.expandByPoint(r)}}return function(e){return t=this,e.updateMatrixWorld(!0),e.traverse(i),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new s.a),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:(i=new s.a,function(t){return this.clampPoint(t.center,i),i.distanceToSquared(t.center)<=t.radius*t.radius}),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},intersectsTriangle:function(){var t=new s.a,e=new s.a,n=new s.a,r=new s.a,i=new s.a,o=new s.a,a=new s.a,u=new s.a,c=new s.a,l=new s.a;function h(r){var i,o;for(i=0,o=r.length-3;i<=o;i+=3){a.fromArray(r,i);var s=c.x*Math.abs(a.x)+c.y*Math.abs(a.y)+c.z*Math.abs(a.z),u=t.dot(a),l=e.dot(a),h=n.dot(a);if(Math.max(-Math.max(u,l,h),Math.min(u,l,h))>s)return!1}return!0}return function(s){if(this.isEmpty())return!1;this.getCenter(u),c.subVectors(this.max,u),t.subVectors(s.a,u),e.subVectors(s.b,u),n.subVectors(s.c,u),r.subVectors(e,t),i.subVectors(n,e),o.subVectors(t,n);var a=[0,-r.z,r.y,0,-i.z,i.y,0,-o.z,o.y,r.z,0,-r.x,i.z,0,-i.x,o.z,0,-o.x,-r.y,r.x,0,-i.y,i.x,0,-o.y,o.x,0];return!!h(a)&&(!!h(a=[1,0,0,0,1,0,0,0,1])&&(l.crossVectors(r,i),h(a=[l.x,l.y,l.z])))}}(),clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new s.a),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new s.a;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new s.a;return function(e){return void 0===e&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),e=new a.a),this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(r=[new s.a,new s.a,new s.a,new s.a,new s.a,new s.a,new s.a,new s.a],function(t){return this.isEmpty()?this:(r[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),r[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),r[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),r[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),r[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),r[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),r[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),r[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(r),this)}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}})},function(t,e,n){"use strict";var r,i=n(110),o=n(75),s=n(23),a=n(24),u=n(31),c=n(180),l=n(28),h=Object.defineProperty,f=Object.defineProperties;t.exports=r=function(t,e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");f(this,{__list__:u("w",a(t)),__context__:u("w",e),__nextIndex__:u("w",0)}),e&&(s(e.on),e.on("_add",this._onAdd),e.on("_delete",this._onDelete),e.on("_clear",this._onClear))},delete r.prototype.constructor,f(r.prototype,o({_next:u(function(){var t;if(this.__list__)return this.__redo__&&void 0!==(t=this.__redo__.shift())?t:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:u(function(){return this._createResult(this._next())}),_createResult:u(function(t){return void 0===t?{done:!0,value:void 0}:{done:!1,value:this._resolve(t)}}),_resolve:u(function(t){return this.__list__[t]}),_unBind:u(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:u(function(){return"[object "+(this[l.toStringTag]||"Object")+"]"})},c({_onAdd:u(function(t){t>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(e,n){e>=t&&(this.__redo__[n]=++e)},this),this.__redo__.push(t)):h(this,"__redo__",u("c",[t])))}),_onDelete:u(function(t){var e;t>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(e=this.__redo__.indexOf(t))&&this.__redo__.splice(e,1),this.__redo__.forEach(function(e,n){e>t&&(this.__redo__[n]=--e)},this)))}),_onClear:u(function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0})}))),h(r.prototype,l.iterator,u(function(){return this}))},function(t,e,n){"use strict";t.exports=n(201)()?String.prototype.contains:n(200)},function(t,e,n){"use strict";t.exports=n(207)()?Object.assign:n(206)},function(t,e,n){var r=n(32),i=n(131),o=n(220),s=r["__core-js_shared__"]||i("__core-js_shared__",{});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.2.1",mode:o?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(65);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(67),i=n(64),o=n(133);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(226),i=n(224);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var r=n(17),i=n(117),o=n(10),s=function(t){var e=(new i.a).setFromQuaternion(t,"YXZ");return{x:r.a.radToDeg(e.x),y:r.a.radToDeg(e.y),z:r.a.radToDeg(e.z)}},a=function(t){var e=new i.a;return e.x=r.a.degToRad(t.x),e.y=r.a.degToRad(t.y),e.z=r.a.degToRad(t.z),e.order="YXZ",(new o.a).setFromEuler(e)}},,function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return l}),n.d(e,"c",function(){return h});var r,i,o=n(16),s=n(3),a=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=new s.a("GuiErrorCommand"),c=function(t){function e(e){var n=t.call(this)||this;return n.id="DEFAULT_ERROR",n.payload={errorMessage:e},n}return a(e,t),e}(o.a),l=function(t){i=t},h=function(t,e){void 0===e&&(e="Error");var n=e+" - "+t;return u.warn(n),i?i.issueCommand(new c(n)).catch(function(t){u.warn("issueCommand is not working for displaying errors! - "+t)}):Promise.resolve()}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i});var r="analytics/name",i="analytics/config_key"},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n(150),i=function(t){return t&&t.player_options?("unit_type"in t.player_options||(t.player_options.unit_type=t.unit_type),new r.b(t.player_options)):null},o=function(t,e){var n=t.options;return e&&e.options&&(n=e.options),{player_options:n}}},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c});var r=n(3),i=n(6),o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},s=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},a=new r.a("floor-serialization"),u=function(t){if(!t||!t.floors)return null;var e={},n=t.floors;try{n.split(",").forEach(function(t,n){t=t||"Floor "+(n+1),e[n]={name:t.trim(),floorIndex:n}})}catch(t){return a.debug("Error parsing floors data or no data inputted - "+t),null}return e},c=function(t,e){var n,r,a=o({},t),u=[];Object(i.e)(a,e);try{for(var c=s(Object.keys(a)),l=c.next();!l.done;l=c.next()){var h=l.value;a[h]&&u.push(a[h].name)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return{floors:u.join(", ")}}},function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return p});var r=n(7),i=n(116),o=n(6),s=n(3),a=n(12),u=n(48),c=function(){return(c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},l=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},h=new s.a("label-serialization"),f=function(t){var e,n;if(!t)return null;var o={};try{if(t)try{for(var s=l(Object.keys(t)),c=s.next();!c.done;c=s.next()){var f=t[c.value];if(f&&f.version&&!isNaN(Number.parseFloat(f.version))&&!(Number.parseFloat(f.version)<3)){var p="type"in f?f.type:f.start_normal?i.b.ThreeD:i.b.TwoD;o[f.sid]={start_position:Object(r.j)(f.start_position),end_position:Object(r.j)(f.end_position),type:p,start_normal:f.start_normal&&Object(r.j)(f.start_normal)||u.a.UP.clone(),end_normal:f.end_normal&&Object(r.j)(f.end_normal)||u.a.UP.clone(),sid:f.sid,text:f.text,visible:f.visible,floor:void 0!==f.floor?f.floor:-1,created:Object(a.b)(f.created),created_by:f.created_by,modified:Object(a.b)(f.modified),version:f.version}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}}catch(t){return h.debug("Error parsing measurement data;",t),null}return o},p=function(t){return function(e,n){var r,i,s=c({},e);Object(o.e)(s,n);var a={};try{for(var u=l(Object.keys(s)),h=u.next();!h.done;h=u.next()){var f=h.value,p=s[f];void 0!==t&&p.type!==t||(a[f]=p)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return d(a,{})}},d=function(t,e){var n,i,s={},u=c({},t);Object(o.e)(u,e);try{for(var h=l(Object.keys(u)),f=h.next();!f.done;f=h.next()){var p=u[f.value];p&&(s[p.sid]={type:p.type,start_position:Object(r.j)(p.start_position),end_position:Object(r.j)(p.end_position),start_normal:Object(r.j)(p.start_normal),end_normal:Object(r.j)(p.end_normal),floor:p.floor,sid:p.sid,text:p.text,visible:p.visible,created:Object(a.a)(p.created),created_by:p.created_by,modified:Object(a.a)(p.modified),version:p.version})}}catch(t){n={error:t}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}return s}},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f});var r=n(7),i=n(6),o=n(3),s=n(12),a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},u=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},c=new o.a("label-serialization"),l=function(t){var e,n;if(!t)return null;var i={};if(t)try{for(var o=u(Object.keys(t)),a=o.next();!a.done;a=o.next()){var l=t[a.value];try{if(!l||!l.version||isNaN(Number.parseFloat(l.version))||Number.parseFloat(l.version)<3)continue;var h={floor:l.floorId,position:Object(r.j)(l.position),sid:l.sid,text:l.text,visible:l.visible,roomId:l.roomId,created:Object(s.b)(l.created),created_by:l.created_by,modified:Object(s.b)(l.modified),version:l.version};i[l.sid]=h}catch(t){c.warn("Error parsing label data; not adding label: ",l)}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},h=function(t,e){var n,o,c={},l=a({},t);Object(i.e)(l,e);try{for(var h=u(Object.keys(l)),f=h.next();!f.done;f=h.next()){var p=l[f.value];p&&(c[p.sid]={floorId:p.floor,position:p.position,sid:p.sid,text:p.text,visible:p.visible,roomId:p.roomId,created:Object(s.a)(p.created),created_by:p.created_by,modified:Object(s.a)(p.modified),version:p.version},c[p.sid].position=Object(r.j)(p.position))}}catch(t){n={error:t}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}return c},f=function(t,e){var n,o,c=[],l=a({},t);Object(i.e)(l,e);try{for(var h=u(Object.keys(l)),f=h.next();!f.done;f=h.next()){var p=l[f.value];p&&c.push({floorId:p.floor,position:Object(r.j)(p.position),sid:p.sid,text:p.text,visible:p.visible,roomId:p.roomId,created:Object(s.a)(p.created),created_by:p.created_by,modified:Object(s.a)(p.modified),version:p.version})}}catch(t){n={error:t}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}return c}},function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"b",function(){return l});var r=n(12),i=n(3),o=n(42),s=n(6),a=function(){return(a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},u=new i.a("active-reel"),c=function(t){if(!t)return null;var e={reel:Object(o.b)([]),modified:new Date(0)};return t.active_reel&&t.active_reel.modified&&(e.modified=Object(r.b)(t.active_reel&&t.active_reel.modified)),t.active_reel&&t.active_reel.reel&&t.active_reel.reel instanceof Array?(u.info("Reel has "+t.active_reel.reel.length+" items"),e.reel=Object(o.b)(t.active_reel.reel)):u.info("No reel found"),e},l=function(t,e){var n=t.modified;e&&e.modified&&(n=e.modified);var i=Object(s.a)(t&&t.reel?t.reel:[]),u=e&&e.reel?e.reel:new o.a;Object(s.e)(i,Object(s.a)(u));var c=[];for(var l in i){var h=i[l];if(h){var f=void 0,p={};h.overrides&&(void 0!==h.overrides.panDirection&&(p=a({},p,{panDirection:h.overrides.panDirection})),void 0!==h.overrides.transitionType&&(p=a({},p,{transitionType:h.overrides.transitionType}))),f=Object.keys(p).length>0?{sid:h.sid,overrides:p}:{sid:h.sid},c.push(f)}}return{active_reel:{reel:c,modified:Object(r.a)(n)}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return p}),n.d(e,"b",function(){return d});var r=n(7),i=n(22),o=n(149),s=n(6),a=n(14),u=n(29),c=n(3),l=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},h=new c.a("sweeps"),f=100;function p(t){function e(e,n,r,i,o){var s=e[n];if(void 0!==s)r[i]=o?o(s):s;else if(t)throw Error("Required property missing in data: "+n)}return void 0===t&&(t=!0),function(t){var n,s,a,u;if(!t||Object.keys(t).length<1)return null;var c={};try{var p=[];try{for(var d=l(t),y=d.next();!y.done;y=d.next()){var m=y.value,v=new i.c;if(e(m,"index",v,"index"),p[v.index])throw Error("Duplicate sweep index found");p[v.index]=v,e(m,"sweep_uuid",p[v.index],"id",function(t){return t.replace(/-/g,"")})}}catch(t){n={error:t}}finally{try{y&&!y.done&&(s=d.return)&&s.call(d)}finally{if(n)throw n.error}}var b=function(t){var n=p[t.index];e(t,"neighbors",n,"neighbours",function(t){return t.map(function(t){return p[t]?p[t].id:void 0}).filter(function(t){return void 0!==t})}),e(t,"alignment_type",n,"alignmentType",function(t){return"string"==typeof t&&i.a.hasOwnProperty(t.toUpperCase())?t:i.a.UNALIGNED}),e(t,"placement",n,"placementType",function(e){return"string"==typeof t.placement&&i.b.hasOwnProperty(t.placement.toUpperCase())?t.placement:i.b.UNPLACED}),e(t,"rotation",n,"rotation",function(t){return r.a.fromVisionQuaternion(t)}),e(t,"position",n,"position",function(t){return r.a.fromVisionVector(t)}),e(t,"floor_position",n,"floorPosition",function(t){return r.a.fromVisionVector(t)}),e(t,"sweep_name",n,"name"),e(t,"floor_index",n,"floor",function(t){return isNaN(t)?-1:t}),e(t,"room_index",n,"room",function(t){return isNaN(t)?-1:t}),e(t,"tags",n,"enabled",function(t){return-1!==t.indexOf("showcase")}),e(t,"tags",n,"vrenabled",function(t){return-1!==t.indexOf("vr")});var s=n.alignmentType===i.a.UNALIGNED,a=n.placementType===i.b.MANUAL,u=n.position&&n.position.length()>o.a.epsilon;(s||a)&&u&&n.position.clampLength(0,f),c[n.id]=n};try{for(var g=l(t),_=g.next();!_.done;_=g.next()){b(m=_.value)}}catch(t){a={error:t}}finally{try{_&&!_.done&&(u=g.return)&&u.call(g)}finally{if(a)throw a.error}}}catch(t){h.error("Error reading sweeps list",t)}return 0===Object.keys(c).length?null:c}}var d=function(t,e){var n=[];if(!e)throw Error("SweepsV2 must serialize via diffs");function o(t,e,n){return function(r,i,o){if(Object(a.i)(e,r)){var c=void 0;"object"==typeof e[r]?(c={},Object(s.e)(c,t[r]),"rotation"===r&&(c=Object(u.b)(c))):c=t[r],n[i]=o?o(c):c}}}for(var c in e){var l=t[c],h=e[c],f={},p=o(l,h,f);p("placementType","placement"),h.placementType!==i.b.UNPLACED&&(p("position","position",function(t){return r.a.toVisionVector(t)}),p("rotation","rotation",function(t){return Object(u.b)(r.a.toVisionQuaternion(t))})),(Object(a.i)(h,"enabled")||Object(a.i)(h,"vrenabled"))&&(f.tags=[],(void 0!==h.enabled?h.enabled:l.enabled)&&(f.tags.push("showcase"),(void 0!==h.vrenabled?h.vrenabled:l.vrenabled)&&f.tags.push("vr"))),p("name","sweep_name"),p("floor","floor_index"),Object.keys(f).length>0&&(f.index=l.index,f.sweep_uuid=l.id,n.push(f))}return 0===n.length?null:n}},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return h});var r=n(68),i=n(7),o=n(4),s=n(12),a=n(3),u=n(29),c=new a.a("camera-start-serializer"),l=function(t){if(!t)return null;var e=new r.a;if(!t.camera_start&&!t.icon)return null;e.modified=Object(s.b)(t&&t.modified),e.icon=t.icon||void 0;var n=250,a=Math.ceil(140.625);e.thumb=t.image?t.image+"&width="+n+"&height="+a+"&fit=crop&imgopt=1":void 0;e.pose={};var u=t.camera_start||null;try{if(u&&Object.keys(u).length>0){if(!u.camera||!u.camera.position||!u.camera.quaternion)return c.warn("Corrupt camera_start - camera data invalid"),e;if(!u.hasOwnProperty("mode"))return c.warn("Corrupt camera_start - mode missing"),e;var l=void 0;if(0===u.mode){if(!(u.pano&&u.pano.uuid&&u.pano.position&&u.pano.quaternion))return c.warn("Corrupt camera_start - pano data invalid",u),e;l={uuid:u.pano.uuid,position:Object(i.j)(u.pano.position),rotation:Object(i.h)(u.pano.quaternion)}}else l={};var h=new r.b(Object(o.c)(3===u.mode?0:u.mode),Object(i.j)(u.camera.position),Object(i.i)(u.camera.quaternion),u.camera.zoom,l,u.floorVisibility);e.pose=h}}catch(t){return c.warn("invalid scanmodel.camera_start",t),null}return e},h=function(t,e){var n=e&&"icon"in e?e:t,r=n.pose;return{modified:Object(s.a)(n.modified),thumb:n.thumb,icon:n.icon,camera_start:{camera:{position:r.camera.position?Object(u.c)(Object(i.j)(r.camera.position)):void 0,quaternion:r.camera.rotation?Object(u.b)(Object(i.i)(r.camera.rotation)):void 0,zoom:r.camera.zoom?r.camera.zoom:-1},mode:Object(o.b)(r.mode),pano:{position:r.pano.position?Object(i.j)(r.pano.position):void 0,quaternion:r.pano.rotation?Object(u.b)(Object(i.h)(r.pano.rotation)):void 0,uuid:r.pano.uuid},floorVisibility:r.floorVisibility}}}},function(t,e,n){"use strict";function r(t,e){this.x=t||0,this.y=e||0}var i,o;n.d(e,"a",function(){return r}),Object.defineProperties(r.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(r.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:(i=new r,o=new r,function(t,e){return i.set(t,t),o.set(e,e),this.clamp(i,o)}),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}})},function(t,e,n){"use strict";var r;!function(t){t.LOADING="LOADING",t.PRESENTED_BY_CAPS="PRESENTED_BY_CAPS",t.EXPLORE_3D_SPACE="EXPLORE_3D_SPACE",t.VIEW_INSIDE="VIEW_INSIDE",t.VIEW_INSIDE_MESH="VIEW_INSIDE_MESH",t.VIEW_DOLLHOUSE="VIEW_DOLLHOUSE",t.VIEW_FLOORPLAN="VIEW_FLOORPLAN",t.VIEW_FULLSCREEN="VIEW_FULLSCREEN",t.EXIT_FULLSCREEN="EXIT_FULLSCREEN",t.OPEN_HIGHLIGHTS="OPEN_HIGHLIGHTS",t.CLOSE_HIGHLIGHTS="CLOSE_HIGHLIGHTS",t.PAUSE="PAUSE",t.SOCIAL_SHARING="SOCIAL_SHARING",t.VIEW_IN_VR="VIEW_IN_VR",t.FLOOR_NAME="FLOOR_NAME",t.FLOOR_ALL="FLOOR_ALL",t.PRESENTED_BY="PRESENTED_BY",t.MORE="MORE",t.LESS="LESS",t.TERMS="TERMS",t.HELP="HELP",t.TERMS_FAIL="TERMS_FAIL",t.HELP_NAVIGATION_TAB="HELP_NAVIGATION_TAB",t.HELP_MORE_HELP_TAB="HELP_MORE_HELP_TAB",t.HELP_DESKTOP_360_2A="HELP_DESKTOP_360_2A",t.HELP_DESKTOP_360_2B="HELP_DESKTOP_360_2B",t.HELP_DESKTOP_DOLLHOUSE_1A="HELP_DESKTOP_DOLLHOUSE_1A",t.HELP_DESKTOP_DOLLHOUSE_1B="HELP_DESKTOP_DOLLHOUSE_1B",t.HELP_DESKTOP_DOLLHOUSE_2A="HELP_DESKTOP_DOLLHOUSE_2A",t.HELP_DESKTOP_DOLLHOUSE_3A="HELP_DESKTOP_DOLLHOUSE_3A",t.HELP_DESKTOP_FLOORPLAN_1A="HELP_DESKTOP_FLOORPLAN_1A",t.HELP_DESKTOP_FLOORPLAN_2A="HELP_DESKTOP_FLOORPLAN_2A",t.HELP_DESKTOP_FLOORPLAN_2B="HELP_DESKTOP_FLOORPLAN_2B",t.HELP_DESKTOP_FLOORPLAN_3A="HELP_DESKTOP_FLOORPLAN_3A",t.HELP_DESKTOP_FLOORPLAN_3B="HELP_DESKTOP_FLOORPLAN_3B",t.HELP_DESKTOP_MORE_360_B="HELP_DESKTOP_MORE_360_B",t.HELP_DESKTOP_MORE_DOLLHOUSE_B="HELP_DESKTOP_MORE_DOLLHOUSE_B",t.HELP_DESKTOP_MORE_FLOORS_B="HELP_DESKTOP_MORE_FLOORS_B",t.HELP_DESKTOP_MORE_FULLSCREEN_B="HELP_DESKTOP_MORE_FULLSCREEN_B",t.HELP_DESKTOP_MORE_HLR_B="HELP_DESKTOP_MORE_HLR_B",t.HELP_DESKTOP_MORE_INSIDE_B="HELP_DESKTOP_MORE_INSIDE_B",t.HELP_DESKTOP_MORE_MATTERTAG_B="HELP_DESKTOP_MORE_MATTERTAG_B",t.HELP_DESKTOP_MORE_TOUR_B="HELP_DESKTOP_MORE_TOUR_B",t.HELP_DESKTOP_MORE_VR_B="HELP_DESKTOP_MORE_VR_B",t.HELP_DESKTOP_MORE_ZOOM_B="HELP_DESKTOP_MORE_ZOOM_B",t.HELP_DESKTOP_PANORAMA_1A="HELP_DESKTOP_PANORAMA_1A",t.HELP_DESKTOP_PANORAMA_1B="HELP_DESKTOP_PANORAMA_1B",t.HELP_DESKTOP_PANORAMA_2A="HELP_DESKTOP_PANORAMA_2A",t.HELP_DESKTOP_PANORAMA_2B="HELP_DESKTOP_PANORAMA_2B",t.HELP_DESKTOP_PANORAMA_3A="HELP_DESKTOP_PANORAMA_3A",t.HELP_DESKTOP_PANORAMA_3B="HELP_DESKTOP_PANORAMA_3B",t.HELP_MOBILE_3="HELP_MOBILE_3",t.HELP_MOBILE_360_2="HELP_MOBILE_360_2",t.HELP_MOBILE_DOLLHOUSE_1="HELP_MOBILE_DOLLHOUSE_1",t.HELP_MOBILE_DOLLHOUSE_2="HELP_MOBILE_DOLLHOUSE_2",t.HELP_MOBILE_FLOORPLAN_1="HELP_MOBILE_FLOORPLAN_1",t.HELP_MOBILE_FLOORPLAN_2="HELP_MOBILE_FLOORPLAN_2",t.HELP_MOBILE_MORE_360_B="HELP_MOBILE_MORE_360_B",t.HELP_MOBILE_MORE_DOLLHOUSE_B="HELP_MOBILE_MORE_DOLLHOUSE_B",t.HELP_MOBILE_MORE_FLOORPLAN_B="HELP_MOBILE_MORE_FLOORPLAN_B",t.HELP_MOBILE_MORE_INSIDE_B="HELP_MOBILE_MORE_INSIDE_B",t.HELP_MOBILE_MORE_MATTERTAG_B="HELP_MOBILE_MORE_MATTERTAG_B",t.HELP_MOBILE_MORE_VR_B="HELP_MOBILE_MORE_VR_B",t.HELP_MOBILE_PANORAMA_1="HELP_MOBILE_PANORAMA_1",t.HELP_MOBILE_PANORAMA_2="HELP_MOBILE_PANORAMA_2",t.HELP_MORE_360_A="HELP_MORE_360_A",t.HELP_MORE_DOLLHOUSE_A="HELP_MORE_DOLLHOUSE_A",t.HELP_MORE_FLOORS_A="HELP_MORE_FLOORS_A",t.HELP_MORE_FLOORPLAN_A="HELP_MORE_FLOORPLAN_A",t.HELP_MORE_FULLSCREEN_A="HELP_MORE_FULLSCREEN_A",t.HELP_MORE_HLR_A="HELP_MORE_HLR_A",t.HELP_MORE_INSIDE_A="HELP_MORE_INSIDE_A",t.HELP_MORE_MATTERTAG_A="HELP_MORE_MATTERTAG_A",t.HELP_MORE_TOUR_A="HELP_MORE_TOUR_A",t.HELP_MORE_VR_A="HELP_MORE_VR_A",t.HELP_MORE_ZOOM_A="HELP_MORE_ZOOM_A",t.VR_VIEW_SPACE="VR_VIEW_SPACE",t.VR_LEARN_MORE_CAPS="VR_LEARN_MORE_CAPS",t.VR_PREVIOUS_CAPS="VR_PREVIOUS_CAPS",t.VR_NEXT_CAPS="VR_NEXT_CAPS",t.VR_GOT_IT_CAPS="VR_GOT_IT_CAPS",t.VR_GOOGLE_CARDBOARD="VR_GOOGLE_CARDBOARD",t.VR_SAMSUNG_GEAR_VR="VR_SAMSUNG_GEAR_VR",t.VR_OPEN_ANDROID_LINK="VR_OPEN_ANDROID_LINK",t.VR_ANDROID_OPTIONS="VR_ANDROID_OPTIONS",t.VR_SHOW_IOS_1="VR_SHOW_IOS_1",t.VR_SHOW_IOS_2="VR_SHOW_IOS_2",t.VR_WHAT_YOU_NEED="VR_WHAT_YOU_NEED",t.VR_NEED_CARDBOARD="VR_NEED_CARDBOARD",t.VR_NEED_SAMSUNG="VR_NEED_SAMSUNG",t.VR_COMPATIBLE_IPHONES_1="VR_COMPATIBLE_IPHONES_1",t.VR_COMPATIBLE_IPHONES_2="VR_COMPATIBLE_IPHONES_2",t.VR_COMPATIBLE_IPHONES_3="VR_COMPATIBLE_IPHONES_3",t.VR_APP_FOR_CARDBOARD="VR_APP_FOR_CARDBOARD",t.VR_APP_FOR_SAMSUNG="VR_APP_FOR_SAMSUNG",t.VR_DOWNLOAD_HERE="VR_DOWNLOAD_HERE",t.VR_COMPATIBLE_ANDROID="VR_COMPATIBLE_ANDROID",t.VR_ANDROID_DETAIL="VR_ANDROID_DETAIL",t.VR_COMPATIBLE_SAMSUNG="VR_COMPATIBLE_SAMSUNG",t.VR_SAMSUNG_DETAIL="VR_SAMSUNG_DETAIL",t.VR_SHOW_SUPPORTED="VR_SHOW_SUPPORTED",t.VR_REQUIRE_HEADSET="VR_REQUIRE_HEADSET",t.VR_REDIRECT_TO_STORE="VR_REDIRECT_TO_STORE",t.WEBVR_ENTER_WEBVR="WEBVR_ENTER_WEBVR",t.WEBVR_LEARN_MORE="WEBVR_LEARN_MORE",t.VR_APP_OPEN="VR_APP_OPEN",t.ERROR_WEBGL_UNSUPPORTED_PROBLEM="ERROR_WEBGL_UNSUPPORTED_PROBLEM",t.ERROR_BROWSER_SOLUTION="ERROR_BROWSER_SOLUTION",t.ERROR_BROWSER_EXPLANATION="ERROR_BROWSER_EXPLANATION",t.ERROR_LOADING_FAILED_PROBLEM="ERROR_LOADING_FAILED_PROBLEM",t.ERROR_LOADING_FAILED_ACTIONS_1="ERROR_LOADING_FAILED_ACTIONS_1",t.ERROR_LOADING_FAILED_ACTIONS_2="ERROR_LOADING_FAILED_ACTIONS_2",t.ERROR_GENERIC_PROBLEM="ERROR_GENERIC_PROBLEM",t.ERROR_GENERIC_SOLUTION="ERROR_GENERIC_SOLUTION",t.ERROR_GENERIC_ACTIONS_1="ERROR_GENERIC_ACTIONS_1",t.ERROR_GENERIC_ACTIONS_2="ERROR_GENERIC_ACTIONS_2",t.ERROR_GENERIC_ACTIONS_3="ERROR_GENERIC_ACTIONS_3",t.ERROR_GENERIC_ACTIONS_4="ERROR_GENERIC_ACTIONS_4",t.DESKTOP_SHORT_CTA="DESKTOP_SHORT_CTA",t.MOBILE_SHORT_CTA="MOBILE_SHORT_CTA",t.ROTATE="ROTATE",t.MOVE="MOVE",t.PLAY="PLAY",t.INSIDE="INSIDE",t.ZOOM="ZOOM",t.MENU_COPY="MENU_COPY",t.SHARE_COPIED="SHARE_COPIED",t.SHARE_EXPLORE="SHARE_EXPLORE",t.SHARE_AT="SHARE_AT",t.SHARE_WITH="SHARE_WITH",t.SHARE_3D="SHARE_3D"}(r||(r={})),e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){if(0!==t.length)for(var n=0;n<t.length;n++){t[n]===e&&t.splice(n,1)}}},function(t,e,n){"use strict";n.d(e,"i",function(){return r}),n.d(e,"f",function(){return i}),n.d(e,"h",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"a",function(){return h});var r=function(t,e,n,r){return n*t/r+e},i=function(t,e,n,r){return n*(t/=r)*t+e},o=function(t,e,n,r){return-n*(t/=r)*(t-2)+e},s=function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},a=function(t,e,n,r){return n*(t/=r)*t*t+e},u=function(t,e,n,r){return t/=r,n*(--t*t*t+1)+e},c=function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},l=function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e},h=function(t,e,n,r,i){var o=e;if(i>0){var s=(1-Math.max(i,0))*Math.abs(r);o=n<=s?0:t(n-s,0,1,s)}return o}},function(t,e,n){"use strict";n.d(e,"e",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return a}),n.d(e,"d",function(){return u}),n.d(e,"b",function(){return c});var r=n(233),i=n(8),o=function(t){var e,n,i;if(void 0===t&&(t=""),t.match(/^https?/)){var o=Object(r.parse)(t);e=o.protocol+"//"+o.host,n=t,i=t.match(/[^/]*$/)[0]}else n=(e=window.location.protocol+"//"+window.location.host)+"/api/player/models/"+t,i=t;return{sid:i,urlBase:e,urlModel:n,urlFiles:n+(n.match(/\/$/)?"files":"/files"),urlThumb:n+(n.match(/\/$/)?"thumb":"/thumb")}},s=function(){return Object(i.q)("model")||Object(i.q)("m")},a=function(){var t=Object(i.q)("auth");return t?t.replace(","," "):null},u=function(t,e){for(var n in void 0===e&&(e={}),e){var r=e[n];t+=(-1===t.indexOf("?")?"?":"&")+n+"="+r}return t},c=function(t){return t.replace(/^https?:\/\/(?:www.)?/i,"").replace(/\/(.*)/,"")}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.LOW=0]="LOW",t[t.MEDIUM=1]="MEDIUM",t[t.HIGH=2]="HIGH",t[t.HIGHEST=3]="HIGHEST"}(i=e.RequestPriority||(e.RequestPriority={})),function(t){t[t.PENDING=0]="PENDING",t[t.SENDING=1]="SENDING",t[t.FAILED=2]="FAILED",t[t.DONE=3]="DONE"}(o=e.RequestStatus||(e.RequestStatus={}));var s=function(){function t(t){var e=void 0===t?{}:t,n=e.retries,r=void 0===n?3:n,i=e.concurrency,o=void 0===i?6:i;this.queue=[],this.retries=r,this.concurrency=o}return t.prototype.get=function(t,e){return this.request("GET",t,e)},t.prototype.head=function(t,e){return this.request("HEAD",t,e)},t.prototype.options=function(t,e){return this.request("OPTIONS",t,e)},t.prototype.post=function(t,e){return this.request("POST",t,e)},t.prototype.put=function(t,e){return this.request("PUT",t,e)},t.prototype.patch=function(t,e){return this.request("PATCH",t,e)},t.prototype.delete=function(t,e){return this.request("DELETE",t,e)},t.prototype.request=function(t,e,n){var r=new a(t,e,n);return this.enqueue(r),r.promise},t.prototype.update=function(){for(var t;t=this.getNextPendingRequest();)this.sendRequest(t);for(;t=this.getNextOverflowingRequest();)t.abort(),t.status=o.PENDING;this.updateTimeout=null},t.prototype.enqueue=function(t){var e=this,n=0;for(n=0;n<this.queue.length;n++){if(this.queue[n].priority<t.priority)break}this.queue.splice(n,0,t),this.updateTimeout||(this.updateTimeout=window.setTimeout(function(){e.update()},1))},t.prototype.dequeue=function(t){var e=this.queue.indexOf(t);if(-1===e)throw new Error("Can't dequeue request not in queue");this.queue.splice(e,1),this.update()},t.prototype.getNextPendingRequest=function(){for(var t=0;t<this.queue.length&&t<this.concurrency;t++){var e=this.queue[t];if(e.status===o.PENDING)return e}return null},t.prototype.getNextOverflowingRequest=function(){for(var t=this.concurrency;t<this.queue.length;t++){var e=this.queue[t];if(e.status===o.SENDING&&e.priority!==i.HIGHEST)return e}return null},t.prototype.sendRequest=function(t){var e=this;t.status=o.SENDING,t.send().then(function(n){t.status=o.DONE,e.dequeue(t),t.onDone(n)}).catch(function(n){var r=null!==t.maxRetries?t.maxRetries:e.retries;t.sendAttempts<r?(t.status=o.PENDING,e.update(),console.warn("Retried "+t.url),console.warn(n)):(t.status=o.FAILED,e.dequeue(t),console.warn("Failed "+t.url),t.onFail(n))})},t}();e.RequestQueue=s;var a=function(){function t(t,e,n){void 0===n&&(n={});var r=this;this.sendAttempts=0,this.status=o.PENDING,this.url=e,this.method=t,this.auth=n.auth||null,this.priority=n.priority||i.MEDIUM,this.responseType=n.responseType||null,this.body=n.body||null,this.headers=n.headers||{},this.maxRetries=n.maxRetries||null,this.onProgress=n.onProgress,this.promise=new Promise(function(t,e){r.onDone=t,r.onFail=e})}return t.prototype.send=function(){var t=this,e=this.xhr=function(t,e,n){var r;if("undefined"!=typeof XMLHttpRequest)(r=new XMLHttpRequest).withCredentials=n;else{if("undefined"==typeof XDomainRequest)throw new Error("No XMLHTTPRequest or XDomainRequest... are you trying to run me in node? :(");r=new XDomainRequest}return r.open(t,e,!0),r}(this.method,this.url,!1);if(this.responseType)if("arraybuffer"===this.responseType||"text"===this.responseType||"json"===this.responseType||"blob"===this.responseType)e.responseType=this.responseType;else{if("image"!==this.responseType)throw new Error('reponseType can only be one of "arraybuffer", "text", "json", "blob", "image"');e.responseType="blob"}for(var n in"json"===this.responseType&&e.setRequestHeader("Accept","application/json"),this.auth&&"string"==typeof this.auth&&e.setRequestHeader("Authorization",this.auth),this.headers)e.setRequestHeader(n,this.headers[n]);return this.body&&"object"===r(this.body)&&(this.body instanceof FormData||(this.body=JSON.stringify(this.body),e.setRequestHeader("Content-Type","application/json"))),this.onProgress&&(e.onprogress=this.onProgress),new Promise(function(n,r){e.onreadystatechange=function(i){if(4===e.readyState){if(200===e.status||201===e.status||204===e.status)return t.parseResponse(t.xhr).then(function(t){n(t)});0!==e.status&&r({status_code:e.status})}},e.onerror=function(t){r(t)},e.send(t.body),t.sendAttempts++})},t.prototype.parseResponse=function(t){var e=this;return new Promise(function(n,i){try{var o=t.response;if("json"===e.responseType&&"object"!==r(o))n(JSON.parse(t.responseText));else if("image"===e.responseType){var s=URL.createObjectURL(o);(o=new Image).src=s,o.crossOrigin="Anonymous",o.onload=function(){URL.revokeObjectURL(s),n(o)}}else n(o)}catch(t){i({error:"Payload was not valid JSON"})}})},t.prototype.abort=function(){if(null===this.xhr)throw new Error("Cannot abort unsent Request");this.xhr.abort()},t}();e.Request=a},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}t.exports=r},function(t,e,n){"use strict";n.d(e,"d",function(){return s}),n.d(e,"a",function(){return r}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r,i=n(4),o=n(20),s=function(t,e){switch(t){case i.a.Panorama:return e?o.b.INSIDE:o.b.OUTSIDE;case i.a.Dollhouse:return o.b.DOLLHOUSE;case i.a.Floorplan:return o.b.FLOORPLAN;case i.a.Transition:return o.b.TRANSITIONING;default:return}};!function(t){t.PANORAMA="panorama",t.DOLLHOUSE="dollhouse",t.FLOORPLAN="floorplan",t.TRANSITIONING="transitioning"}(r||(r={}));var a=function(t){switch(t){case r.PANORAMA:return o.b.INSIDE;case r.DOLLHOUSE:return o.b.DOLLHOUSE;case r.FLOORPLAN:return o.b.FLOORPLAN;case r.TRANSITIONING:return o.b.TRANSITIONING}},u=function(t){switch(t){case i.a.Panorama:return r.PANORAMA;case i.a.Dollhouse:return r.DOLLHOUSE;case i.a.Floorplan:return r.FLOORPLAN;case i.a.Transition:return r.TRANSITIONING}}},function(t,e,n){var r=n(32),i=n(76),o=n(129),s=n(212),a=r.Symbol,u=i("wks");t.exports=function(t){return u[t]||(u[t]=s&&a[t]||(s?a:o)("Symbol."+t))}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r;n.d(e,"a",function(){return r}),function(t){t.MODEL_LOADED="sdk.modelloaded",t.ENTER_PANO="sdk.enterpano",t.MOVE="sdk.move"}(r||(r={}))},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"object"===n(t)&&null!==t}function s(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(s(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),r=(c=n.slice()).length,u=0;u<r;u++)c[u].apply(this,a);return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){if(!i(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var n,r,s,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(n=this._events[t]).length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(a=s;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";var r,i;n.d(e,"a",function(){return i}),function(t){t[t.NAVIGATION=0]="NAVIGATION",t[t.MODEL=1]="MODEL",t[t.EXT_LINK=2]="EXT_LINK"}(i||(i={}));(r={})[i.NAVIGATION]="navigation",r[i.MODEL]="model",r[i.EXT_LINK]="ext-link"},function(t,e,n){"use strict";var r=n(3),i=n(5),o=n(27),s=n(0),a=n(8),u=n(68),c=n(90),l=n(55),h=n(15),f=n(96),p=n(89),d=n(52),y=n(88),m=n(155),v=n(105),b=n(87),g=n(86),_=n(85),w=n(95),O=n(4),x=n(61),E=n(152),S=n(33),P=n(145),R=n(84),I=n(13),T=n(137),M=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},A=new r.a("AB"),L=function(){function t(t){for(var e in this.values={},t){var n=t[e];if(n&&n.ab)try{this.values[e]=k(n.ab)}catch(t){A.warn("Skipping key "+e+", could not pick: "+t)}}}return t.prototype.get=function(t){return this.values[t]},t.prototype.serialize=function(){var t=this;return Object.keys(this.values).map(function(e){return e+":"+t.values[e]})},t}();function k(t){var e,n,r,i;if(0===t.length)throw Error("A/B cannot choose from an empty choice array");var o=0;try{for(var s=M(t),a=s.next();!a.done;a=s.next()){if(void 0===(f=a.value).value||void 0===f.weight||f.weight<0)throw Error("Malformed AB choice: "+f);o+=f.weight}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}var u=Math.random()*o,c=0;try{for(var l=M(t),h=l.next();!h.done;h=l.next()){var f;if(u<=(c+=(f=h.value).weight))return f.value}}catch(t){r={error:t}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}var C=n(159),j=n(154),D=n(161),N=n(71),z=n(158),B=n(157),H=n(53),U=n(63),V=n(229),F=n(26),q=new r.a("showcase-settings/quality"),G=n(118),K=n(83),W=n(41),Y=n(115),X=n(14);n.d(e,"a",function(){return rt});var Q=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},Z=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},$=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},J=new r.a("showcase"),tt=window.MP_PREFETCHED_MODELDATA,et=tt&&tt.model?tt.model:null,nt=function(){function t(t,e){var n=this;this.sdkBindings=t,this.settingOverrides=e,this.urlValues=a.n(),this.modelUrls=Object(w.e)(this.urlValues.m||this.urlValues.model),this.storeQueue=new f.RequestQueue({retries:0}),this.scanmodelStoreCache={data:et},this.modelUrl=this.modelUrls.urlBase+"/api/v1/player/models/"+this.modelUrls.sid,this.mattertagParserOptions={model:this.modelUrls.sid,supportLinks:!this.urlValues.mls||"0"===this.urlValues.mls,keepLinkLabels:!0},this.quickstart="1"===this.urlValues.qs,this.stopTourHook=function(t){return Q(n,void 0,void 0,function(){return Z(this,function(e){switch(e.label){case 0:return[4,t.market.waitForData(d.b)];case 1:return e.sent().tourPlaying?[4,t.commandBinder.issueCommand(new W.d)]:[3,4];case 2:return e.sent(),[4,Object(X.d)(10)];case 3:e.sent(),e.label=4;case 4:return[2]}})})},this.tick=function(){var t;t=window.requestAnimationFrame(n.tick);try{n.engine.tick()}catch(e){Promise.all([n.engine.getModule(s.p),n.engine.getModuleSync(o.default)]).then(function(n){var r=$(n,2),o=r[0],a=r[1];window.cancelAnimationFrame(t),a.updateAppPhase(i.a.ERROR),o.showError(s.q.GENERIC),J.error(e)})}}.bind(this)}return t.prototype.getManifest=function(){return[{type:s.X,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1180))}},{type:s.b,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1179))}},{type:s.e,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1178))}},{type:s.z,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1132))}},{type:s.a,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1110))}},{type:s.G,promise:function(){return Promise.resolve().then(n.bind(null,240))}},{type:s.p,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1126))}},{type:s.U,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1109))}},{type:s.d,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1177))}},{type:s.Ua,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1176))}},{type:s.H,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1175))}},{type:s.Oa,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1129))}},{type:s.c,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1116))}},{type:s.hb,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1174))}},{type:s.Wa,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1084))}},{type:s.qb,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1127))}},{type:s.Za,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1128))}},{type:s.Ya,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1096))}},{type:s.Sa,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1119))}},{type:s.Ha,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1115))}},{type:s.V,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(15),n.e(2),n.e(32)]).then(n.bind(null,1130))}},{type:s.pb,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(15),n.e(2),n.e(32)]).then(n.bind(null,1107))}},{type:s.v,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(15),n.e(2),n.e(32)]).then(n.bind(null,1173))}},{type:s.y,promise:function(){return Promise.all([n.e(17),n.e(31)]).then(n.bind(null,1100))}},{type:s.f,promise:function(){return n.e(30).then(n.bind(null,1172))}},{type:s.Z,promise:function(){return n.e(30).then(n.bind(null,1101))}},{type:s.A,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(13),n.e(29)]).then(n.bind(null,1171))}},{type:s.fb,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(13),n.e(29)]).then(n.bind(null,1170))}},{type:s.n,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(13),n.e(29)]).then(n.bind(null,1108))}},{type:s.t,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(13),n.e(29)]).then(n.bind(null,1086))}},{type:s.vb,promise:function(){return n.e(28).then(n.bind(null,1087))}},{type:s.j,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(13),n.e(29)]).then(n.bind(null,1169))}},{type:s.k,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(13),n.e(29)]).then(n.bind(null,1088))}},{type:s.i,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(13),n.e(29)]).then(n.bind(null,1168))}},{type:s.B,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(2),n.e(27)]).then(n.bind(null,1167))}},{type:s.C,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(2),n.e(27)]).then(n.bind(null,1166))}},{type:s.O,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(2),n.e(27)]).then(n.bind(null,1165))}},{type:s.Q,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(2),n.e(27)]).then(n.bind(null,1090))}},{type:s.K,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(26)]).then(n.bind(null,1164))}},{type:s.ib,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(26)]).then(n.bind(null,1092))}},{type:s.M,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(26)]).then(n.bind(null,1124))}},{type:s.J,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(26)]).then(n.bind(null,1163))}},{type:s.Ra,promise:function(){return Promise.all([n.e(0),n.e(25)]).then(n.bind(null,1162))}},{type:s.Qa,promise:function(){return Promise.all([n.e(0),n.e(25)]).then(n.bind(null,1161))}},{type:s.Y,promise:function(){return Promise.all([n.e(0),n.e(25)]).then(n.bind(null,1160))}},{type:s.bb,promise:function(){return Promise.all([n.e(0),n.e(25)]).then(n.bind(null,1125))}},{type:s.mb,promise:function(){return Promise.all([n.e(0),n.e(25)]).then(n.bind(null,1159))}},{type:s.lb,promise:function(){return Promise.all([n.e(0),n.e(25)]).then(n.bind(null,1133))}},{type:s.Ja,promise:function(){return Promise.all([n.e(0),n.e(25)]).then(n.bind(null,1085))}},{type:s.Fa,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(19),n.e(33)]).then(n.bind(null,1104))}},{type:s.sb,promise:function(){return n.e(24).then(n.bind(null,1158))}},{type:s.Ga,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(2),n.e(27)]).then(n.bind(null,1157))}},{type:s.eb,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(8),n.e(23)]).then(n.bind(null,1091))}},{type:s.Ea,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(8),n.e(23)]).then(n.bind(null,1113))}},{type:s.db,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(8),n.e(23)]).then(n.bind(null,1156))}},{type:s.cb,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(8),n.e(23)]).then(n.bind(null,1094))}},{type:s.Ia,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(8),n.e(23)]).then(n.bind(null,1111))}},{type:s.w,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(2),n.e(27)]).then(n.bind(null,1095))}},{type:s.rb,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(2),n.e(22)]).then(n.bind(null,1114))}},{type:s.gb,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(2),n.e(22)]).then(n.bind(null,1155))}},{type:s.I,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(2),n.e(22)]).then(n.bind(null,1154))}},{type:s.l,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(2),n.e(22)]).then(n.bind(null,1098))}},{type:s.nb,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(2),n.e(22)]).then(n.bind(null,1112))}},{type:s.g,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(2),n.e(22)]).then(n.bind(null,1103))}},{type:s.T,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(2),n.e(22)]).then(n.bind(null,1102))}},{type:s.Pa,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(2),n.e(27)]).then(n.bind(null,1153))}},{type:s.W,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(2),n.e(27)]).then(n.bind(null,1152))}},{type:s.ob,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(2),n.e(27)]).then(n.bind(null,1151))}},{type:s.h,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(16),n.e(10),n.e(21)]).then(n.bind(null,1097))}},{type:s.F,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(16),n.e(10),n.e(21)]).then(n.bind(null,1120))}},{type:s.P,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(2),n.e(27)]).then(n.bind(null,1118))}},{type:s.Na,promise:function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(2),n.e(27)]).then(n.bind(null,1150))}}]},t.prototype.load=function(t,e){return Q(this,void 0,Promise,function(){var f,w,M,A,k,X,tt,et,nt,rt,it,ot,st,at,ut,ct,lt,ht,ft,pt,dt,yt,mt,vt,bt,gt,_t,wt,Ot,xt,Et,St,Pt,Rt,It,Tt,Mt,At,Lt,kt,Ct,jt,Dt,Nt,zt,Bt,Ht,Ut,Vt,Ft,qt,Gt=this;return Z(this,function(Kt){switch(Kt.label){case 0:return t.waitForModule(o.default).then(function(t){t.updateActiveApp(i.b.SHOWCASE)}),t.market.onDataUpdate(i.c,function(e){return Q(Gt,void 0,void 0,function(){var n,r;return Z(this,function(o){switch(o.label){case 0:return e.phase!==i.a.ERROR?[3,2]:(n=e.error,[4,t.waitForModule(s.p)]);case 1:throw r=o.sent(),n instanceof T.c?r.showError(s.q.UNSUPPORTED):n instanceof T.b?r.showError(s.q.WEBGL):r.showError(s.q.GENERIC),n;case 2:return[2]}})})}),Promise.all([t.waitForModule(s.y),Promise.all([n.e(9),n.e(14),n.e(3),n.e(6),n.e(20)]).then(n.bind(null,1135))]).then(function(t){var e=$(t,2),n=e[0],r=e[1];Gt.guiModule=n,n.loadUi(r.initShowcaseUi).then(function(t){Gt.guiNode=t})}),e?(this.engine=t,J.info("Showcase app version: 3.0.17.16-0-g4c07968ed"),this.canvas=document.createElement("canvas"),this.canvas.className="webgl-canvas",M=document.querySelector("#canvas-container"),A=parseInt(this.urlValues.log,10),this.urlValues.hasOwnProperty("log")&&!isNaN(A)&&(r.a.level=A),this.quickstart&&J.info("Quickstart engaged. Hold on to your knickers. "+performance.now()),this.loadModules([{type:s.a,config:{prefetchedData:window.MP_PREFETCHED_MODELDATA,baseUrl:this.modelUrls.urlBase,preloadConfig:"showcase"}},{type:s.qb},{type:s.c},{type:s.b,config:{container:document.querySelector("#app-container")}},{type:s.e,config:{canvas:this.canvas,container:M}}]),[4,Promise.all([t.waitForModule(s.a),t.waitForModule(s.qb),t.waitForModule(x.default)])]):[2];case 1:for(st in k=$.apply(void 0,[Kt.sent(),3]),X=k[0],tt=k[1],et=k[2],nt=X.getApi(),rt=nt.user.getFlags("showcase/"),it=Object(H.h)(parseFloat(this.urlValues.wts)),ot={Features:(f={},f[B.a]=!0,f[C.a]=!0,f[z.a]=!0,f[D.a]="0"!==this.urlValues.labels,f[j.a]="0"!==this.urlValues.mt,f[N.a]=rt.has(N.a),f[H.b]="1"===this.urlValues.smooth||rt.has(H.b),f[H.a]="1"===this.urlValues.sc2pan||rt.has(H.a),f[H.c]=it,f)})for(ut in ot[st])void 0!==ot[st][ut]&&et.registerSetting(st,ut,ot[st][ut]);for(ut in(w={})[K.b]="showcase_3.0",w[K.a]="showcase",w[G.a]=null,w.sid=this.modelUrls.sid,w.quickstart=this.quickstart,w.lang=this.urlValues.lang,w.perf=this.urlValues.perf,w.perfInterval=this.urlValues.perfInterval,at=w)et.updateSetting(ut,at[ut]);if(this.settingOverrides)for(ut in this.settingOverrides)et.updateSetting(ut,this.settingOverrides[ut]);return Object(l.setupSdk)(t,this.sdkBindings),ct={data:null},lt=this.modelUrls.urlBase+"/api/v2/models/"+this.modelUrls.sid+"/sweeps?tag=showcase",ht=new h.c({queue:this.storeQueue,path:lt,deserialize:Object(p.a)(!0),cachedData:ct}),ft=new I.a({publishStores:[ht]}),pt=new h.c({queue:this.storeQueue,path:this.modelUrl,deserialize:m.c,cachedData:this.scanmodelStoreCache}),dt=new h.c({queue:this.storeQueue,path:this.modelUrl,deserialize:c.a,cachedData:this.scanmodelStoreCache}),yt=new I.c({publishStores:[dt]}),mt=new h.c({queue:this.storeQueue,path:this.modelUrl,deserialize:function(t){return t},cachedData:this.scanmodelStoreCache}),vt=new h.c({queue:this.storeQueue,path:this.modelUrl,deserialize:_.a,cachedData:this.scanmodelStoreCache}),bt=new I.c({publishStores:[vt]}),_t=L.bind,[4,nt.getConfigs("showcase")];case 2:gt=new(_t.apply(L,[void 0,Kt.sent()])),this.loadInitialModules(pt,yt,mt,gt,tt.cwfRenderer.gpuInfo),this.loadModules([{type:s.Ha},{type:s.z,config:{disableWheel:"0"===this.urlValues.wh}},{type:s.Wa,config:{sweepSync:ft}}]),wt=t.getModuleSync(o.default),Kt.label=3;case 3:return Kt.trys.push([3,5,,6]),[4,t.waitForLoadingModules()];case 4:return Kt.sent(),wt.updateAppPhase(i.a.LOADING),[3,6];case 5:return Ot=Kt.sent(),wt.updateAppPhase(i.a.ERROR,Ot),t.tick(),[3,6];case 6:return[4,mt.read()];case 7:return xt=Kt.sent(),document.title=xt.name,[4,t.market.waitForData(u.a)];case 8:return Et=Kt.sent().pose,!this.quickstart||Et&&Et.mode===O.a.Panorama||(J.warn("Disabling quickstart. No panorama start position."),this.quickstart=!1,et.updateSetting("quickstart",!1)),St=function(t,e){var n,r,i,o;Object(a.k)()||Object(a.h)()?Object(a.k)()&&Object(V.b)(e)?(n=U.f.ULTRA,r=F.a[F.d.STANDARD],i=F.a[F.d.HIGH],o=10):(n=U.f.MEDIUM,r=F.a[F.d.STANDARD],i=F.a[F.d.HIGH],o=6):(n=U.f.ULTRA,r=F.a[F.d.HIGH],i=F.a[F.d.ULTRAHIGH],o=20);try{n=t.maxmeshq?Object(U.g)(parseInt(t.maxmeshq,10)):n}catch(e){q.warn("Not a valid texture size: "+t.maxmeshq)}return{maxMeshQuality:n,navPanoSize:r=t.maxtileq?parseInt(t.maxtileq,10):r,zoomPanoSize:i=t.maxztileq?parseInt(t.maxztileq,10):i,textureLODThreshold:o=t.lodtexth?parseInt(t.lodtexth,10):o}}(this.urlValues,tt.cwfRenderer.gpuInfo),Pt=St.maxMeshQuality,Rt=St.navPanoSize,It=St.zoomPanoSize,Tt=St.textureLODThreshold,J.info({maxMeshQuality:Pt,navPanoSize:Rt,zoomPanoSize:It,textureLODThreshold:Tt}),"0"!==this.urlValues.tiles?[3,10]:[4,this.loadModules([{type:s.Ya}])];case 9:return Kt.sent(),[3,12];case 10:return[4,this.loadModules([{type:s.Za,config:{navPanoSize:Rt,zoomPanoSize:It}}])];case 11:Kt.sent(),Kt.label=12;case 12:return[4,this.loadModules([{type:s.Sa}])];case 13:return Kt.sent(),this.quickstart&&(this.loadPanoControls(),window.requestAnimationFrame(this.tick)),[4,t.waitForModule(s.G)];case 14:return Kt.sent(),wt.updateAppPhase(i.a.LOADING),this.loadModules([{type:s.V,config:{renderMeshGeometry:!0,maxQuality:Pt,textureLOD:"2"===this.urlValues.texlod?s.jb.RAYCAST:"1"===this.urlValues.texlod?s.jb.PIXEL:"0"===this.urlValues.texlod?s.jb.NONE:gt.get("raycast_lod")?s.jb.RAYCAST:gt.get("texture_lod")?s.jb.PIXEL:s.jb.NONE,textureLODThreshold:Tt}},{type:s.pb,config:{startingMode:this.quickstart?O.a.Panorama:null}},{type:s.v,config:{floorsSync:bt}},{type:s.hb},{type:s.w}]),this.loadModules([{type:s.y,config:{sid:this.modelUrls.sid}}]),this.quickstart||this.tick(),this.quickstart||this.loadPanoControls(),this.loadModules([{type:s.A},{type:s.fb,config:{checkRenderModes:function(){try{var e=t.market.tryGetData(d.b);if(!e||e.isTourActive())return!1;var n=t.market.tryGetData(E.a),r=t.market.tryGetData(P.a),i=[O.a.Panorama],o=[S.b.Desktop,S.b.Mobile];return r&&n&&-1!==o.indexOf(n.mode)&&r.currentMode&&-1!==i.indexOf(r.currentMode)}catch(t){return J.debug(t),!1}}}},{type:s.n},{type:s.t},{type:s.vb,config:{enabled:"1"!==this.urlValues.nozoom}}]),a.k()||this.loadModules([{type:s.j},{type:s.k},{type:s.i}]),Mt="/api/v1/jsonstore/model/",At=""+this.modelUrls.urlBase+Mt+"labels/"+this.modelUrls.sid,Lt=new h.c({queue:this.storeQueue,path:At,deserialize:b.a}),kt=new I.a({publishStores:[Lt]}),Ct=""+this.modelUrls.urlBase+Mt+"measurements/"+this.modelUrls.sid,jt=new h.c({queue:this.storeQueue,path:Ct,deserialize:g.a}),Dt=new I.a({publishStores:[jt]}),this.loadModules([{type:s.B,config:{sid:this.modelUrls.sid,labelsSync:kt}},{type:s.C},{type:s.O,config:{measurementsSync:Dt}},{type:s.Q},{type:s.F},{type:s.P}]),Nt=""+this.modelUrls.urlBase+Mt+"mattertags/"+this.modelUrls.sid,zt=new h.c({queue:this.storeQueue,path:Nt,deserialize:Object(v.b)(this.mattertagParserOptions,!1)}),Bt=new I.a({publishStores:[zt]}),Ht=new h.c({queue:this.storeQueue,path:this.modelUrl,deserialize:R.a,cachedData:this.scanmodelStoreCache}),Ut=new I.c({publishStores:[Ht]}),this.loadModules([{type:s.K,config:{tagSync:Bt}},{type:s.ib},{type:s.M},{type:s.J},{type:s.Qa,config:{optionsSync:Ut,modelDetailsStore:mt}}]),Vt=""+this.modelUrls.urlBase+Mt+"highlights/"+this.modelUrls.sid,Ft=new h.c({queue:this.storeQueue,path:Vt,deserialize:y.a}),qt=new I.c({publishStores:[Ft]}),this.loadModules([{type:s.Ra},{type:s.Y,config:{enableWheel:"1"===this.urlValues.nozoom}},{type:s.bb},{type:s.mb,config:{activeReelSync:qt,looping:"1"===this.urlValues.lp}},{type:s.lb},{type:s.Fa},{type:s.Ja}]),"0"!==this.urlValues.portal&&this.loadModules([{type:s.Ea},{type:s.eb}]),"0"!==this.urlValues.pin&&this.loadModules([{type:s.cb},{type:s.db}]),this.loadModules([{type:s.Ia}]),this.loadModules([{type:s.sb}]),this.loadModules([{type:s.Ga}]),this.loadModules([{type:s.Pa},{type:s.W},{type:s.ob},{type:s.h},{type:s.Na}]),t.commandBinder.hookCommand(Y.a,!0,function(){return Gt.stopTourHook(t)}),t.commandBinder.hookCommand(W.c,!0,function(){return Gt.stopTourHook(t)}),[2]}})})},t.prototype.unload=function(t){return Q(this,void 0,Promise,function(){return Z(this,function(e){switch(e.label){case 0:return[4,t.waitForModule(s.lb)];case 1:return[4,e.sent().stopTour()];case 2:return e.sent(),this.guiModule.unloadUi(this.guiNode),t.commandBinder.resetHooks(),[2]}})})},t.prototype.loadInitialModules=function(t,e,n,r,i){this.loadModules([{type:s.Oa,config:{additionalValues:{ab_tests:r.serialize(),gpu:i}}},{type:s.X},{type:s.G,config:{modelDetailsStore:n,sid:this.modelUrls.sid,baseUrl:this.modelUrls.urlBase,quickstart:this.quickstart,autoplay:"1"===this.urlValues.play||!a.d(),startNewTab:"1"===this.urlValues.nt,hideTitle:"0"===this.urlValues.title||"2"===this.urlValues.title,hideBranding:"1"===this.urlValues.mls||"2"===this.urlValues.mls||"0"===this.urlValues.brand}},{type:s.p,config:{}},{type:s.Ua,config:{snapshotsStore:t}},{type:s.d,config:{cameraStartSync:e,startOverride:this.urlValues.start}},{type:s.U,config:{modelDetailsStore:n,sid:this.modelUrls.sid}},{type:s.H}])},t.prototype.loadPanoControls=function(){this.loadModules([{type:s.f},{type:s.Z}])},t.prototype.loadModules=function(t){var e=t.map(function(t){return{type:t.type,config:t.config}});return this.engine.loadModules(e)},t}(),rt=(e.b=nt,function(t,e){return Q(void 0,void 0,void 0,function(){return Z(this,function(r){switch(r.label){case 0:return[4,Promise.all([n.e(0),n.e(4),n.e(2),n.e(6),n.e(34)]).then(n.bind(null,1134))];case 1:return r.sent().bindSdkInterface(t,t.commandBinder,e),[2]}})})})},function(t,e,n){"use strict";n.d(e,"b",function(){return y}),n.d(e,"c",function(){return v}),n.d(e,"a",function(){return b});var r=n(156),i=n(3),o=n(12),s=n(1),a=n(30),u=n(165),c=n(40),l=n(29),h=n(6),f=function(){return(f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},p=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},d=new i.a("mattertags");function y(t,e){var n=new u.a(t);return function(t){if(!t)return null;var i={};for(var u in t){var l=t[u];try{if(e&&(!l.enabled||0===l.label.length&&0===l.description.length&&(!l.media||0===l.media.src.length)))continue;var h=new r.a;h.sid=l.sid,h.created=Object(o.b)(l.created),h.modified=Object(o.b)(l.modified),h.enabled=l.enabled,h.label=l.label,h.description=l.description,h.parsedDescription=n.parse(l.description),h.anchorPosition=new s.a(l.position.x,l.position.y,l.position.z),h.anchorNormal=new s.a(l.normal.x,l.normal.y,l.normal.z),h.stemVector=new s.a(l.stem.direction.x,l.stem.direction.y,l.stem.direction.z),h.stemVisible=void 0===l.stem.enabled||l.stem.enabled,h.floorIndex=l.floor,h.color=l.color?new a.a(l.color):new a.a("#03687D"),l.media?(h.mediaType=c.a.parse(l.media.type),h.mediaSrc=l.media.src):(h.mediaType=c.a.none,h.mediaSrc=""),h.isActive=!1,i[u]=h}catch(t){d.warn("Failed to parse tag: "+l.sid)}}return i}}var m=function(t){var e={sid:t.sid,created:Object(o.a)(t.created),modified:Object(o.a)(t.modified),enabled:t.enabled,label:t.label,description:t.description,color:Object(l.a)(t.color),position:Object(l.c)(t.anchorPosition),normal:Object(l.c)(t.anchorNormal),floor:t.floorIndex,stem:{direction:Object(l.c)(t.stemVector),enabled:void 0===t.stemVisible||t.stemVisible}};return t.mediaType!==c.a.none&&(e.media={type:t.mediaType,src:t.mediaSrc}),e},v=function(t,e){var n,r,i={},o=f({},t);Object(h.e)(o,e);try{for(var s=p(Object.keys(o)),a=s.next();!a.done;a=s.next()){var u=o[a.value];u&&(i[u.sid]=m(u))}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},b=function(t,e){var n,r,i=[],o=f({},t);Object(h.e)(o,e);try{for(var s=p(Object.keys(o)),a=s.next();!a.done;a=s.next()){var u=o[a.value];u&&i.push(m(u))}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}},function(t,e,n){"use strict";var r=n(184);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not iterable");return t}},function(t,e,n){"use strict";var r,i,o,s,a=n(187),u=n(24),c=Object.prototype.isPrototypeOf,l=Object.defineProperty,h={configurable:!0,enumerable:!1,writable:!0,value:void 0};r=function(t,e){if(u(t),null===e||a(e))return t;throw new TypeError("Prototype must be null or an object")},t.exports=(i=function(){var t,e=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{(t=r.set).call(e,n)}catch(t){}if(Object.getPrototypeOf(e)===n)return{set:t,level:2}}return e.__proto__=n,Object.getPrototypeOf(e)===n?{level:2}:((e={}).__proto__=n,Object.getPrototypeOf(e)===n&&{level:1})}())?(2===i.level?i.set?(s=i.set,o=function(t,e){return s.call(r(t,e),e),t}):o=function(t,e){return r(t,e).__proto__=e,t}:o=function t(e,n){var i;return r(e,n),(i=c.call(t.nullPolyfill,e))&&delete t.nullPolyfill.__proto__,null===n&&(n=t.nullPolyfill),e.__proto__=n,i&&l(t.nullPolyfill,"__proto__",h),e},Object.defineProperty(o,"level",{configurable:!1,enumerable:!1,writable:!1,value:i.level})):null,n(186)},function(t,e,n){"use strict";var r=Object.create,i=Object.getPrototypeOf,o={};t.exports=function(){var t=Object.setPrototypeOf,e=arguments[0]||r;return"function"==typeof t&&i(t(e(null),o))===o}},function(t,e,n){"use strict";var r=n(191),i=Math.max;t.exports=function(t){return i(0,r(t))}},function(t,e,n){"use strict";var r=n(24);t.exports=function(){return r(this).length=0,this}},function(t,e,n){"use strict";var r=n(38),i=Array.prototype.forEach,o=Object.create;t.exports=function(t){var e=o(null);return i.call(arguments,function(t){r(t)&&function(t,e){var n;for(n in t)e[n]=t[n]}(Object(t),e)}),e}},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";var r,i=n(21),o=n(22),s=n(42),a=n(60),u=n(146),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},h=function(t){function e(e){var n,r,i=t.call(this)||this;if(i.currentSweepObservable=Object(a.b)(void 0),i.sweepList=new s.a,i.sweepMap={},e)try{for(var o=l(e),c=o.next();!c.done;c=o.next()){var h=c.value;i.sweepMap[h.id]=h,i.sweepList.push(h)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i.transition={progress:new u.a(0),pending:!1,active:!1,from:void 0,to:void 0},Object.defineProperty(i,"currentSweep",{get:function(){return i.currentSweepObservable.value},set:function(t){return i.currentSweepObservable.value=t},enumerable:!0}),i}return c(e,t),e.prototype.canTransition=function(){return!this.transition.pending&&!this.transition.active},Object.defineProperty(e.prototype,"currentSweep",{get:function(){return this.currentSweep},set:function(t){this.currentSweep=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentSweepObject",{get:function(){if(this.currentSweep)return this.getSweep(this.currentSweep)},enumerable:!0,configurable:!0}),e.prototype.makeSweepChangeSubscription=function(t){return this.currentSweepObservable.onChanged(t)},e.prototype.update=function(t){this.copy(t)},e.prototype.copy=function(t){var e=this,n=!1;if(this.sweepList.length===t.sweepList.length){n=!0;for(var r=0;r<this.sweepList.length;r++){var i=this.sweepList.get(r),o=t.sweepList.get(r);if(i.id!==o.id){n=!1;break}}}n||(this.sweepMap={},this.sweepList.length=0,t.sweepList.forEach(function(t){e.addSweep(t)})),this.currentSweep=t.currentSweep,this.transition.progress.copy(t.transition.progress),this.transition.pending=t.transition.pending,this.transition.active=t.transition.active,this.transition.to=t.transition.to,this.transition.from=t.transition.from},e.prototype.clone=function(){var t=new e;return t.copy(this),t},e.prototype.addSweep=function(t){this.containsSweep(t.id)||(this.sweepList.push(t),this.sweepMap[t.id]=t)},e.prototype.getSweep=function(t){return this.sweepMap[t]},e.prototype.containsSweep=function(t){return t in this.sweepMap},e.prototype.getFirstSweep=function(){for(var t=-1;++t<this.sweepList.length;){var e=this.sweepList.get(t);if(e.enabled)return e}throw new Error("First enabled sweep not found")},e.prototype.getStartSweep=function(t){var e=t&&t.pano&&t.pano.uuid?this.getSweep(t.pano.uuid):null;return e&&e.enabled?e:this.getFirstSweep()},e.prototype.getClosestSweep=function(t,e){var n=Number.MAX_VALUE,r=null;return this.iterate(function(i){if(i.enabled&&(!e||i.alignmentType===o.a.ALIGNED)){var s=t.distanceTo(i.position);s<n&&(n=s,r=i)}}),r},e.prototype.getFirstAlignedSweep=function(){for(var t=-1;++t<this.sweepList.length;){var e=this.sweepList.get(t);if(e.enabled&&e.alignmentType===o.a.ALIGNED)return e}return null},e.prototype.setTransitionPending=function(t){this.transition.pending=t},e.prototype.activateTransition=function(t,e){this.transition.active=!0,this.transition.from=e,this.transition.to=t},e.prototype.deactivateTransition=function(){this.transition.active=!1,this.transition.from=void 0,this.transition.to=void 0},e.prototype.isSweepUnaligned=function(t){var e=this.getSweep(t);return!(!e||e.alignmentType===o.a.ALIGNED)},e.prototype.iterate=function(t){this.sweepList.forEach(function(e,n){t(e,n)})},e.prototype.filter=function(t){return this.sweepList.filter(t)},e.prototype.sortByScore=function(t,e){return this.sweepList.filter(function(e){return t.every(function(t){return t(e)})}).map(function(t){return{sweep:t,score:e.reduce(function(e,n){return e+n(t)},0)}}).sort(function(t,e){return e.score-t.score})},e.prototype.getSweepList=function(){return this.sweepList.values()},e.prototype.getConnectedSweeps=function(t,e){var n,r,i=[t],o=new Set;for(e=e||function(t){return!0};i.length;){var s=i.pop(),a=this.getSweep(s);o.add(s);try{for(var u=l(a.neighbours),c=u.next();!c.done;c=u.next()){var h=c.value;e(this.getSweep(h))&&!o.has(h)&&i.push(h)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}return o},e.prototype.equals=function(t){if(this.sweepMap.length!==t.sweepMap.length||this.currentSweep!==t.currentSweep||this.transition.active!==t.transition.active||this.transition.from!==t.transition.from||this.transition.pending!==t.transition.pending||this.transition.to!==t.transition.to)return!1;for(var e in this.sweepMap){if(!t.containsSweep(e))return!1;if(!this.sweepMap[e].equals(t.getSweep(e)))return!1}return!0},e}(i.a);e.a=h},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r,i=n(37),o=n(6),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},u=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};function c(t){return Object(o.d)(t)?""+t:t}var l=function(t){function e(){var e=t.call(this)||this;return e.map={},e._keysSet=new Set,e._keysList=[],e}return s(e,t),Object.defineProperty(e.prototype,"keys",{get:function(){return this._keysList.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._keysList.length},enumerable:!0,configurable:!0}),e.prototype[Symbol.iterator]=function(){var t,e,n,r,i,o;return a(this,function(s){switch(s.label){case 0:s.trys.push([0,5,6,7]),n=u(this._keysList),r=n.next(),s.label=1;case 1:return r.done?[3,4]:(i=r.value,[4,this.get(i)]);case 2:s.sent(),s.label=3;case 3:return r=n.next(),[3,1];case 4:return[3,7];case 5:return o=s.sent(),t={error:o},[3,7];case 6:try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}return[7];case 7:return[2]}})},e.prototype.get=function(t){return this.map[t]},e.prototype.has=function(t){return void 0!==this.map[t]},e.prototype.set=function(t,e){t=c(t),this.map[t]!==e&&(this.removeChildObservables(this.map[t]),this.addChildObservable(e),this.map[t]=e,this._keysSet.has(t)||(this._keysList.push(t),this._keysSet.add(t)),this.setDirty())},e.prototype.delete=function(t){t=c(t),this.removeChildObservables(this.map[t]);var e=delete this.map[t];return e&&(this._keysSet.delete(t),this._keysList.splice(this._keysList.indexOf(t),1),this.setDirty()),e},e.prototype.onElementChanged=function(t){var e=this,n=Object.assign({},this.map);return this.onChanged(function(){var r,o;for(var s in n)t.onRemoved&&!e.has(s)&&t.onRemoved(n[s],s);try{for(var a=u(e._keysList),c=a.next();!c.done;c=a.next()){s=c.value;var l=e.get(s);void 0===n[s]?t.onAdded&&t.onAdded(l,s):(i.a.isObservable(l)&&l._dirtyObservable||l!==n[s])&&(t.onUpdated&&null!==l?t.onUpdated(l,s):t.onRemoved&&null===l&&t.onRemoved(n[s],s))}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}n=Object.assign({},e.map)})},e.prototype.deepCopy=function(){var t={};for(var e in this._keysList)t[e]=Object(o.a)(this.map[e]);return t},e}(i.a),h=function(t){void 0===t&&(t={});var e=new l;for(var n in t)e.set(n,t[n]);return e}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r,i=n(16),o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},a=function(t){function e(e){var n=t.call(this)||this;return n.id="MOVE_TO_SWEEP",n.payload=s({},e),n}return o(e,t),e}(i.a)},function(t,e,n){"use strict";var r;n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i}),function(t){t[t.TwoD=0]="TwoD",t[t.ThreeD=1]="ThreeD"}(r||(r={}));var i=function(){function t(){}return t.RAYCASTER_GROUP="measurements",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,i,o=n(10),s=n(1),a=n(11),u=n(17);function c(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||c.DefaultOrder}c.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],c.DefaultOrder="XYZ",Object.defineProperties(c.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(c.prototype,{isEuler:!0,set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=u.a.clamp,i=t.elements,o=i[0],s=i[4],a=i[8],c=i[1],l=i[5],h=i[9],f=i[2],p=i[6],d=i[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(-h,d),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(p,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(a,d),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-f,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===e?(this._y=Math.asin(-r(f,-1,1)),Math.abs(f)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-s,l))):"YZX"===e?(this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(a,d))):"XZY"===e?(this._z=Math.asin(-r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(p,l),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-h,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:(i=new a.a,function(t,e,n){return i.makeRotationFromQuaternion(t),this.setFromRotationMatrix(i,e,n)}),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(r=new o.a,function(t){return r.setFromEuler(this),this.setFromQuaternion(r,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new s.a(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}})},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return s});var r=n(8),i="settings/tiling/preload_quality",o=Object.freeze({overlayStyle:r.q("tileoverlay",0),uploadIntervalDelay:r.q("tileupdelay",10),highResUploadsPerFrame:r.q("maxnbtpf",2),maxHighResUploadsPerFrame:100,uploadsPerFrame:r.q("maxbtpf",6),maxUploadsPerFrame:100,windowHeightHighQualityThreshold:800,windowHeightHighQualityThresholdOverride:r.q("threshold2k",void 0),concurrentDownloads:r.q("tileconc",3),maxConcurrentDownloads:12,navigation:{directionFactor:10,distanceFactor:-1}}),s=function(){function t(){this.reset()}return t.prototype.reset=function(){this.downloadFullPano=!1,this.concurrentDownloads=o.concurrentDownloads,this.uploadsPerFrame=o.uploadsPerFrame,this.highResUploadsPerFrame=o.highResUploadsPerFrame},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=function(t){return.3048*t},i=function(t){return t/.3048}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var t=a(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return r});var r,i={bgPrimary:"#0F1011",bgSecondary:"#1e2023",gridPrimary:"#2d3035",gridSecondary:"#171a1c"},o={black:i,grey:{bgPrimary:"#c9cbcc",bgSecondary:"#9d9d9e",gridPrimary:"#c9cbcc",gridSecondary:"#b0b1b1"},white:{bgPrimary:"#fcfdff",bgSecondary:"#ced0d3",gridPrimary:"#fcfdff",gridSecondary:"#e2e3e5"},default:i};!function(t){t.black="black",t.grey="grey",t.white="white",t.default="black"}(r||(r={}))},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o,s,a,u=n(31),c=n(199),l=Object.create,h=Object.defineProperties,f=Object.defineProperty,p=Object.prototype,d=l(null);if("function"==typeof Symbol){i=Symbol;try{String(i()),a=!0}catch(t){}}var y,m=(y=l(null),function(t){for(var e,n,r=0;y[t+(r||"")];)++r;return y[t+=r||""]=!0,f(p,e="@@"+t,u.gs(null,function(t){n||(n=!0,f(this,e,u(t)),n=!1)})),e});s=function(t){if(this instanceof s)throw new TypeError("Symbol is not a constructor");return o(t)},t.exports=o=function t(e){var n;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return a?i(e):(n=l(s.prototype),e=void 0===e?"":String(e),h(n,{__description__:u("",e),__name__:u("",m(e))}))},h(o,{for:u(function(t){return d[t]?d[t]:d[t]=o(String(t))}),keyFor:u(function(t){var e;for(e in c(t),d)if(d[e]===t)return e}),hasInstance:u("",i&&i.hasInstance||o("hasInstance")),isConcatSpreadable:u("",i&&i.isConcatSpreadable||o("isConcatSpreadable")),iterator:u("",i&&i.iterator||o("iterator")),match:u("",i&&i.match||o("match")),replace:u("",i&&i.replace||o("replace")),search:u("",i&&i.search||o("search")),species:u("",i&&i.species||o("species")),split:u("",i&&i.split||o("split")),toPrimitive:u("",i&&i.toPrimitive||o("toPrimitive")),toStringTag:u("",i&&i.toStringTag||o("toStringTag")),unscopables:u("",i&&i.unscopables||o("unscopables"))}),h(s.prototype,{constructor:u(o),toString:u("",function(){return this.__name__})}),h(o.prototype,{toString:u(function(){return"Symbol ("+c(this).__description__+")"}),valueOf:u(function(){return c(this)})}),f(o.prototype,o.toPrimitive,u("",function(){var t=c(this);return"symbol"===r(t)?t:t.toString()})),f(o.prototype,o.toStringTag,u("c","Symbol")),f(s.prototype,o.toStringTag,u("c",o.prototype[o.toStringTag])),f(s.prototype,o.toPrimitive,u("c",o.prototype[o.toPrimitive]))},function(t,e){t.exports=function(){return this}()},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i={object:!0,symbol:!0};t.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return!!i[r(Symbol.iterator)]&&(!!i[r(Symbol.toPrimitive)]&&!!i[r(Symbol.toStringTag)])}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(216),i=n(126).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){t.exports=n(32)},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r=n(76),i=n(129),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var r=n(32),i=n(78);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(65);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(67),i=n(227),o=n(133),s=n(79),a=n(132),u=n(43),c=n(223),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){"use strict";n.r(e),n.d(e,"eventsInterface",function(){return s}),n.d(e,"directionsInterface",function(){return a}),n.d(e,"modesInterface",function(){return u}),n.d(e,"transitionTypesInterface",function(){return c});var r=n(168),i=n(98),o=n(147),s={version:"1.x",namespace:"",name:"Events",values:n(101).a},a={version:"1.x",namespace:"",name:"Direction",values:r.a},u={version:"1.x",namespace:"",name:"Mode",values:i.a},c={version:"1.x",namespace:"",name:"Transition",values:o.c}},function(t,e,n){"use strict";var r=n(3);var i,o,s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},a=new r.a("segment"),u=function(){function t(t){this.token=t}return t.prototype.init=function(t,e){if(this.options=t,this.context=e,this.token)return window.analytics&&window.analytics.initialize&&(window.analytics=null),window.analytics||function(){var t=window.analytics=window.analytics||[];if(!t.initialize)if(t.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{t.invoked=!0,t.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],t.factory=function(e){return function(){var n=Array.prototype.slice.call(arguments);return n.unshift(e),t.push(n),t}};for(var e=0;e<t.methods.length;e++){var n=t.methods[e];t[n]=t.factory(n)}t.load=function(e,n){var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i),t._loadOptions=n},t.SNIPPET_VERSION="4.1.0"}}(),window.analytics.load(this.token),new Promise(function(t,e){window.analytics.ready(t)})},t.prototype.identify=function(t){window.analytics.identify(t.sid,{first_name:t.firstName,last_name:t.lastName,email:t.email})},t.prototype.track=function(t,e){e=Object.assign(e||{},this.options);try{window.analytics.track(t,e,this.context),a.debug(t,e,this.context)}catch(e){a.error("Failed to send data to segment for "+t)}},t.prototype.trackAsync=function(t,e){if(e=e||{},navigator.sendBeacon)try{navigator.sendBeacon("https://api.segment.io/v1/t",JSON.stringify({event:t,anonymousId:window.analytics.user().anonymousId(),properties:s({data:e},this.options),writeKey:this.token,sentAt:Date.now(),type:"track",context:this.context}))}catch(t){a.error("Failed to send async segment request")}},t}();n.d(e,"a",function(){return o}),n.d(e,"b",function(){return c}),function(t){t[t.Segment=0]="Segment"}(o||(o={}));var c=((i={})[o.Segment]={class:u,keyName:"segment_key",windowProperty:"analytics"},i)},function(t,e,n){"use strict";n.d(e,"c",function(){return s}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r,i=n(44),o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e}(i.a),a=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e}(i.a),u=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r,i=n(16),o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="PLAY_APPLICATION",e}return o(e,t),e}(i.a)},function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var r,i=n(34),o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){var n=t.call(this)||this;return n.modelMesh=e,n}return o(e,t),e}(i.a),a=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}o(e,t)}(function(t){function e(e){var n=t.call(this)||this;return n.hitPoint=e,n}return o(e,t),e}(i.a)),function(t){function e(e,n){var r=t.call(this)||this;return r.loaded=e,r.total=n,r}return o(e,t),e}(i.a))},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return s});var r,i=n(36),o=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};!function(t){t[t.PERMANENT=0]="PERMANENT",t[t.ONCE=1]="ONCE"}(r||(r={}));var s=function(){function t(){this.typeLookup=new i.a,this.callbacks=[],this.messageQueue=[],this.messageCount=0}return t.prototype.subscribe=function(t,e,n){var i=this;void 0===n&&(n=r.PERMANENT);var o=this.typeLookup.getIndexByType(t,!0);return this.callbacks[o]||(this.callbacks[o]=[]),this.callbacks[o].push({type:n,callback:e}),{renew:function(){return null},cancel:function(){return i.unsubscribe(t,e)},active:!0}},t.prototype.unsubscribe=function(t,e){var n=this.typeLookup.getIndexByType(t);if(-1===n)throw Error("Message callback not bound for Type: "+t.name);this.unsubscribeByIndex(n,e)},t.prototype.unsubscribeByIndex=function(t,e){var n=this.callbacks[t].findIndex(function(t){return t.callback===e});if(-1===n)throw Error("Message callback not bound for TypeIndex: "+t);this.callbacks[t].splice(n,1)},t.prototype.broadcast=function(t){var e,n,i,s;if(t.setID(this.messageCount++),this.messageQueue.push(t),1===this.messageQueue.length){try{for(var a=o(this.messageQueue),u=a.next();!u.done;u=a.next()){var c=u.value,l=this.typeLookup.getIndexByInstance(c);if(-1!==l){var h=this.callbacks[l].slice();try{for(var f=o(h),p=f.next();!p.done;p=f.next()){var d=p.value;d.callback(c),d.type===r.ONCE&&this.unsubscribeByIndex(l,d.callback)}}catch(t){i={error:t}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}this.messageQueue=[]}},t}()},function(t,e,n){(function(n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i;e=t.exports=X,i="object"===(void 0===n?"undefined":r(n))&&n.env&&n.env.NODE_DEBUG&&/\bsemver\b/i.test(n.env.NODE_DEBUG)?function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var o=256,s=Number.MAX_SAFE_INTEGER||9007199254740991,a=e.re=[],u=e.src=[],c=0,l=c++;u[l]="0|[1-9]\\d*";var h=c++;u[h]="[0-9]+";var f=c++;u[f]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var p=c++;u[p]="("+u[l]+")\\.("+u[l]+")\\.("+u[l]+")";var d=c++;u[d]="("+u[h]+")\\.("+u[h]+")\\.("+u[h]+")";var y=c++;u[y]="(?:"+u[l]+"|"+u[f]+")";var m=c++;u[m]="(?:"+u[h]+"|"+u[f]+")";var v=c++;u[v]="(?:-("+u[y]+"(?:\\."+u[y]+")*))";var b=c++;u[b]="(?:-?("+u[m]+"(?:\\."+u[m]+")*))";var g=c++;u[g]="[0-9A-Za-z-]+";var _=c++;u[_]="(?:\\+("+u[g]+"(?:\\."+u[g]+")*))";var w=c++,O="v?"+u[p]+u[v]+"?"+u[_]+"?";u[w]="^"+O+"$";var x="[v=\\s]*"+u[d]+u[b]+"?"+u[_]+"?",E=c++;u[E]="^"+x+"$";var S=c++;u[S]="((?:<|>)?=?)";var P=c++;u[P]=u[h]+"|x|X|\\*";var R=c++;u[R]=u[l]+"|x|X|\\*";var I=c++;u[I]="[v=\\s]*("+u[R]+")(?:\\.("+u[R]+")(?:\\.("+u[R]+")(?:"+u[v]+")?"+u[_]+"?)?)?";var T=c++;u[T]="[v=\\s]*("+u[P]+")(?:\\.("+u[P]+")(?:\\.("+u[P]+")(?:"+u[b]+")?"+u[_]+"?)?)?";var M=c++;u[M]="^"+u[S]+"\\s*"+u[I]+"$";var A=c++;u[A]="^"+u[S]+"\\s*"+u[T]+"$";var L=c++;u[L]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var k=c++;u[k]="(?:~>?)";var C=c++;u[C]="(\\s*)"+u[k]+"\\s+",a[C]=new RegExp(u[C],"g");var j=c++;u[j]="^"+u[k]+u[I]+"$";var D=c++;u[D]="^"+u[k]+u[T]+"$";var N=c++;u[N]="(?:\\^)";var z=c++;u[z]="(\\s*)"+u[N]+"\\s+",a[z]=new RegExp(u[z],"g");var B=c++;u[B]="^"+u[N]+u[I]+"$";var H=c++;u[H]="^"+u[N]+u[T]+"$";var U=c++;u[U]="^"+u[S]+"\\s*("+x+")$|^$";var V=c++;u[V]="^"+u[S]+"\\s*("+O+")$|^$";var F=c++;u[F]="(\\s*)"+u[S]+"\\s*("+x+"|"+u[I]+")",a[F]=new RegExp(u[F],"g");var q=c++;u[q]="^\\s*("+u[I]+")\\s+-\\s+("+u[I]+")\\s*$";var G=c++;u[G]="^\\s*("+u[T]+")\\s+-\\s+("+u[T]+")\\s*$";var K=c++;u[K]="(<|>)?=?\\s*\\*";for(var W=0;W<35;W++)i(W,u[W]),a[W]||(a[W]=new RegExp(u[W]));function Y(t,e){if(t instanceof X)return t;if("string"!=typeof t)return null;if(t.length>o)return null;if(!(e?a[E]:a[w]).test(t))return null;try{return new X(t,e)}catch(t){return null}}function X(t,e){if(t instanceof X){if(t.loose===e)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>o)throw new TypeError("version is longer than "+o+" characters");if(!(this instanceof X))return new X(t,e);i("SemVer",t,e),this.loose=e;var n=t.trim().match(e?a[E]:a[w]);if(!n)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<s)return e}return t}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}e.parse=Y,e.valid=function(t,e){var n=Y(t,e);return n?n.version:null},e.clean=function(t,e){var n=Y(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null},e.SemVer=X,X.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},X.prototype.toString=function(){return this.version},X.prototype.compare=function(t){return i("SemVer.compare",this.version,this.loose,t),t instanceof X||(t=new X(t,this.loose)),this.compareMain(t)||this.comparePre(t)},X.prototype.compareMain=function(t){return t instanceof X||(t=new X(t,this.loose)),Z(this.major,t.major)||Z(this.minor,t.minor)||Z(this.patch,t.patch)},X.prototype.comparePre=function(t){if(t instanceof X||(t=new X(t,this.loose)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var n=this.prerelease[e],r=t.prerelease[e];if(i("prerelease compare",e,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return Z(n,r)}while(++e)},X.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this},e.inc=function(t,e,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new X(t,n).inc(e,r).version}catch(t){return null}},e.diff=function(t,e){if(et(t,e))return null;var n=Y(t),r=Y(e);if(n.prerelease.length||r.prerelease.length){for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return"pre"+i;return"prerelease"}for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return i},e.compareIdentifiers=Z;var Q=/^[0-9]+$/;function Z(t,e){var n=Q.test(t),r=Q.test(e);return n&&r&&(t=+t,e=+e),n&&!r?-1:r&&!n?1:t<e?-1:t>e?1:0}function $(t,e,n){return new X(t,n).compare(new X(e,n))}function J(t,e,n){return $(t,e,n)>0}function tt(t,e,n){return $(t,e,n)<0}function et(t,e,n){return 0===$(t,e,n)}function nt(t,e,n){return 0!==$(t,e,n)}function rt(t,e,n){return $(t,e,n)>=0}function it(t,e,n){return $(t,e,n)<=0}function ot(t,e,n,i){var o;switch(e){case"===":"object"===r(t)&&(t=t.version),"object"===r(n)&&(n=n.version),o=t===n;break;case"!==":"object"===r(t)&&(t=t.version),"object"===r(n)&&(n=n.version),o=t!==n;break;case"":case"=":case"==":o=et(t,n,i);break;case"!=":o=nt(t,n,i);break;case">":o=J(t,n,i);break;case">=":o=rt(t,n,i);break;case"<":o=tt(t,n,i);break;case"<=":o=it(t,n,i);break;default:throw new TypeError("Invalid operator: "+e)}return o}function st(t,e){if(t instanceof st){if(t.loose===e)return t;t=t.value}if(!(this instanceof st))return new st(t,e);i("comparator",t,e),this.loose=e,this.parse(t),this.semver===at?this.value="":this.value=this.operator+this.semver.version,i("comp",this)}e.rcompareIdentifiers=function(t,e){return Z(e,t)},e.major=function(t,e){return new X(t,e).major},e.minor=function(t,e){return new X(t,e).minor},e.patch=function(t,e){return new X(t,e).patch},e.compare=$,e.compareLoose=function(t,e){return $(t,e,!0)},e.rcompare=function(t,e,n){return $(e,t,n)},e.sort=function(t,n){return t.sort(function(t,r){return e.compare(t,r,n)})},e.rsort=function(t,n){return t.sort(function(t,r){return e.rcompare(t,r,n)})},e.gt=J,e.lt=tt,e.eq=et,e.neq=nt,e.gte=rt,e.lte=it,e.cmp=ot,e.Comparator=st;var at={};function ut(t,e){if(t instanceof ut)return t.loose===e?t:new ut(t.raw,e);if(t instanceof st)return new ut(t.value,e);if(!(this instanceof ut))return new ut(t,e);if(this.loose=e,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(t){return this.parseRange(t.trim())},this).filter(function(t){return t.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}function ct(t){return!t||"x"===t.toLowerCase()||"*"===t}function lt(t,e,n,r,i,o,s,a,u,c,l,h,f){return((e=ct(n)?"":ct(r)?">="+n+".0.0":ct(i)?">="+n+"."+r+".0":">="+e)+" "+(a=ct(u)?"":ct(c)?"<"+(+u+1)+".0.0":ct(l)?"<"+u+"."+(+c+1)+".0":h?"<="+u+"."+c+"."+l+"-"+h:"<="+a)).trim()}function ht(t,e){for(var n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length){for(n=0;n<t.length;n++)if(i(t[n].semver),t[n].semver!==at&&t[n].semver.prerelease.length>0){var r=t[n].semver;if(r.major===e.major&&r.minor===e.minor&&r.patch===e.patch)return!0}return!1}return!0}function ft(t,e,n){try{e=new ut(e,n)}catch(t){return!1}return e.test(t)}function pt(t,e,n,r){var i,o,s,a,u;switch(t=new X(t,r),e=new ut(e,r),n){case">":i=J,o=it,s=tt,a=">",u=">=";break;case"<":i=tt,o=rt,s=J,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ft(t,e,r))return!1;for(var c=0;c<e.set.length;++c){var l=e.set[c],h=null,f=null;if(l.forEach(function(t){t.semver===at&&(t=new st(">=0.0.0")),h=h||t,f=f||t,i(t.semver,h.semver,r)?h=t:s(t.semver,f.semver,r)&&(f=t)}),h.operator===a||h.operator===u)return!1;if((!f.operator||f.operator===a)&&o(t,f.semver))return!1;if(f.operator===u&&s(t,f.semver))return!1}return!0}st.prototype.parse=function(t){var e=this.loose?a[U]:a[V],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new X(n[2],this.loose):this.semver=at},st.prototype.toString=function(){return this.value},st.prototype.test=function(t){return i("Comparator.test",t,this.loose),this.semver===at||("string"==typeof t&&(t=new X(t,this.loose)),ot(t,this.operator,this.semver,this.loose))},st.prototype.intersects=function(t,e){if(!(t instanceof st))throw new TypeError("a Comparator is required");var n;if(""===this.operator)return n=new ut(t.value,e),ft(this.value,n,e);if(""===t.operator)return n=new ut(this.value,e),ft(t.semver,n,e);var r=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),o=this.semver.version===t.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),a=ot(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),u=ot(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||i||o&&s||a||u},e.Range=ut,ut.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range},ut.prototype.toString=function(){return this.range},ut.prototype.parseRange=function(t){var e=this.loose;t=t.trim(),i("range",t,e);var n=e?a[G]:a[q];t=t.replace(n,lt),i("hyphen replace",t),t=t.replace(a[F],"$1$2$3"),i("comparator trim",t,a[F]),t=(t=(t=t.replace(a[C],"$1~")).replace(a[z],"$1^")).split(/\s+/).join(" ");var r=e?a[U]:a[V],o=t.split(" ").map(function(t){return function(t,e){return i("comp",t),t=function(t,e){return t.trim().split(/\s+/).map(function(t){return function(t,e){i("caret",t,e);var n=e?a[H]:a[B];return t.replace(n,function(e,n,r,o,s){var a;return i("caret",t,e,n,r,o,s),ct(n)?a="":ct(r)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ct(o)?a="0"===n?">="+n+"."+r+".0 <"+n+"."+(+r+1)+".0":">="+n+"."+r+".0 <"+(+n+1)+".0.0":s?(i("replaceCaret pr",s),"-"!==s.charAt(0)&&(s="-"+s),a="0"===n?"0"===r?">="+n+"."+r+"."+o+s+" <"+n+"."+r+"."+(+o+1):">="+n+"."+r+"."+o+s+" <"+n+"."+(+r+1)+".0":">="+n+"."+r+"."+o+s+" <"+(+n+1)+".0.0"):(i("no pr"),a="0"===n?"0"===r?">="+n+"."+r+"."+o+" <"+n+"."+r+"."+(+o+1):">="+n+"."+r+"."+o+" <"+n+"."+(+r+1)+".0":">="+n+"."+r+"."+o+" <"+(+n+1)+".0.0"),i("caret return",a),a})}(t,e)}).join(" ")}(t,e),i("caret",t),t=function(t,e){return t.trim().split(/\s+/).map(function(t){return function(t,e){var n=e?a[D]:a[j];return t.replace(n,function(e,n,r,o,s){var a;return i("tilde",t,e,n,r,o,s),ct(n)?a="":ct(r)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ct(o)?a=">="+n+"."+r+".0 <"+n+"."+(+r+1)+".0":s?(i("replaceTilde pr",s),"-"!==s.charAt(0)&&(s="-"+s),a=">="+n+"."+r+"."+o+s+" <"+n+"."+(+r+1)+".0"):a=">="+n+"."+r+"."+o+" <"+n+"."+(+r+1)+".0",i("tilde return",a),a})}(t,e)}).join(" ")}(t,e),i("tildes",t),t=function(t,e){return i("replaceXRanges",t,e),t.split(/\s+/).map(function(t){return function(t,e){t=t.trim();var n=e?a[A]:a[M];return t.replace(n,function(e,n,r,o,s,a){i("xRange",t,e,n,r,o,s,a);var u=ct(r),c=u||ct(o),l=c||ct(s),h=l;return"="===n&&h&&(n=""),u?e=">"===n||"<"===n?"<0.0.0":"*":n&&h?(c&&(o=0),l&&(s=0),">"===n?(n=">=",c?(r=+r+1,o=0,s=0):l&&(o=+o+1,s=0)):"<="===n&&(n="<",c?r=+r+1:o=+o+1),e=n+r+"."+o+"."+s):c?e=">="+r+".0.0 <"+(+r+1)+".0.0":l&&(e=">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0"),i("xRange return",e),e})}(t,e)}).join(" ")}(t,e),i("xrange",t),t=function(t,e){return i("replaceStars",t,e),t.trim().replace(a[K],"")}(t,e),i("stars",t),t}(t,e)}).join(" ").split(/\s+/);return this.loose&&(o=o.filter(function(t){return!!t.match(r)})),o=o.map(function(t){return new st(t,e)})},ut.prototype.intersects=function(t,e){if(!(t instanceof ut))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(n){return t.set.some(function(t){return t.every(function(t){return n.intersects(t,e)})})})})},e.toComparators=function(t,e){return new ut(t,e).set.map(function(t){return t.map(function(t){return t.value}).join(" ").trim().split(" ")})},ut.prototype.test=function(t){if(!t)return!1;"string"==typeof t&&(t=new X(t,this.loose));for(var e=0;e<this.set.length;e++)if(ht(this.set[e],t))return!0;return!1},e.satisfies=ft,e.maxSatisfying=function(t,e,n){var r=null,i=null;try{var o=new ut(e,n)}catch(t){return null}return t.forEach(function(t){o.test(t)&&(r&&-1!==i.compare(t)||(i=new X(r=t,n)))}),r},e.minSatisfying=function(t,e,n){var r=null,i=null;try{var o=new ut(e,n)}catch(t){return null}return t.forEach(function(t){o.test(t)&&(r&&1!==i.compare(t)||(i=new X(r=t,n)))}),r},e.validRange=function(t,e){try{return new ut(t,e).range||"*"}catch(t){return null}},e.ltr=function(t,e,n){return pt(t,e,"<",n)},e.gtr=function(t,e,n){return pt(t,e,">",n)},e.outside=pt,e.prerelease=function(t,e){var n=Y(t,e);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(t,e,n){return t=new ut(t,n),e=new ut(e,n),t.intersects(e)},e.coerce=function(t){if(t instanceof X)return t;if("string"!=typeof t)return null;var e=t.match(a[L]);return null==e?null:Y((e[1]||"0")+"."+(e[2]||"0")+"."+(e[3]||"0"))}}).call(this,n(121))},,,function(t,e,n){"use strict";var r=n(11),i=function(t){return void 0!==t.elements},o=function(){function t(e){this.elements=[],e?i(e)?this.elements=e.elements.slice():r.a.prototype.set.apply(this,e):r.a.prototype.set.apply(this,t.identity)}return t.prototype.equals=function(t){return r.a.prototype.equals.call(this,t)},t.prototype.clone=function(){return new t(this)},t.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t}();n.d(e,"a",function(){return u});var s,a=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e){var n=this;return(n=e instanceof Array?t.call(this,e)||this:e?t.call(this,e)||this:t.call(this)||this).threeMatrix=new r.a,n}return a(e,t),e.prototype.set=function(t,e,n,i,o,s,a,u,c,l,h,f,p,d,y,m){return r.a.prototype.set.call(this,t,e,n,i,o,s,a,u,c,l,h,f,p,d,y,m),this},e.prototype.makeScale=function(t,e,n){return r.a.prototype.makeScale.call(this,t,e,n),this},e.prototype.copy=function(t){for(var e=0;e<this.elements.length;e++)this.elements[e]=t.elements[e];return this},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.transpose=function(){return r.a.prototype.transpose.call(this)},e.prototype.lookAt=function(t,e,n){return r.a.prototype.lookAt.call(this,t,e,n),this},e.prototype.setPosition=function(t){return r.a.prototype.setPosition.call(this,t),this},e.prototype.extractRotation=function(t){return r.a.prototype.extractRotation.call(this,t),this},e.prototype.makePerspective=function(t,e,n,i,o,s){return r.a.prototype.makePerspective.call(this,t,e,n,i,o,s),this},e.prototype.makePerspectiveFov=function(t,e,n,i){void 0===n&&(n=.1),void 0===i&&(i=1e3);var o=n*Math.tan(t*(Math.PI/180)/2),s=-o,a=o*e,u=-a;return r.a.prototype.makePerspective.call(this,u,a,o,s,n,i),this},e.prototype.makeOrthographic=function(t,e,n,i,o,s){return r.a.prototype.makeOrthographic.call(this,t,e,n,i,o,s),this},e.prototype.identity=function(){return this.set.apply(this,o.identity)},e.prototype.makeRotationFromQuaternion=function(t){return r.a.prototype.makeRotationFromQuaternion.call(this,t),this},e.prototype.makeRotationFromEuler=function(t){return r.a.prototype.makeRotationFromEuler.call(this,t),this},e.prototype.getInverse=function(t){return r.a.prototype.getInverse.call(this,t),this},e.prototype.premultiply=function(t){return r.a.prototype.premultiply.call(this,t),this},e.prototype.multiplyMatrices=function(t,e){return r.a.prototype.multiplyMatrices.call(this,t,e),this},e.prototype.scale=function(t){return r.a.prototype.scale.call(this,t),this},e.prototype.asThreeMatrix4=function(){return this.threeMatrix.set(this.elements[0],this.elements[4],this.elements[8],this.elements[12],this.elements[1],this.elements[5],this.elements[9],this.elements[13],this.elements[2],this.elements[6],this.elements[10],this.elements[14],this.elements[3],this.elements[7],this.elements[11],this.elements[15])},e}(o)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i=n(21),o=n(1),s=n(10),a=n(4),u=n(60),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){var e=t.call(this)||this;return e.lastInsidePosition=new o.a,e.lastInsideRotation=new s.a,e.currentModeObservable=Object(u.b)(null),e.transition={active:!1,progress:0,from:null,to:null,startTime:0,transitionTime:0},e}return c(e,t),Object.defineProperty(e.prototype,"currentMode",{get:function(){return this.currentModeObservable.value},set:function(t){t!==this.currentModeObservable.value&&(this.currentModeObservable.value=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closestMode",{get:function(){return this.currentMode===a.a.Transition?this.transition.progress<.5?this.transition.from:this.transition.to:this.currentMode},enumerable:!0,configurable:!0}),e.prototype.makeModeChangeSubscription=function(t){return this.currentModeObservable.onChanged(t)},e.prototype.copyTransition=function(t){this.transition.active=t.active,this.transition.progress=t.progress,this.transition.from=t.from,this.transition.to=t.to,this.transition.startTime=t.startTime,this.transition.transitionTime=t.transitionTime},e.prototype.activateTransition=function(t,e,n){this.transition.active=!0,this.transition.progress=0,this.transition.startTime=Date.now(),this.transition.transitionTime=n,this.transition.to=e,this.transition.from=t},e.prototype.deactivateTransition=function(){this.transition.active=!1},e.prototype.update=function(t){this.copy(t)},e.prototype.clone=function(){var t=new e;return t.copy(this),t},e.prototype.copy=function(t){this.currentMode=t.currentMode,this.lastInsidePosition.copy(t.lastInsidePosition),this.lastInsideRotation.copy(t.lastInsideRotation),this.copyTransition(t.transition)},e.prototype.isPano=function(){return this.currentMode===a.a.Panorama},e.prototype.isFloorplan=function(){return this.currentMode===a.a.Floorplan},e.prototype.isDollhouse=function(){return this.currentMode===a.a.Dollhouse},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(94),i=function(){function t(t,e,n,i){void 0===i&&(i=r.i),this._easing=r.i,void 0===e&&(e=t),void 0===n&&(this._active=!1,n=0,this._elapsed=0,this._duration=0),this.modifyAnimation(t,e,n,i)}return Object.defineProperty(t.prototype,"active",{get:function(){return this._active||this.value!==this.endValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){return this._endValue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"easing",{get:function(){return this._easing},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elapsed",{get:function(){return this._elapsed},enumerable:!0,configurable:!0}),t.prototype.tick=function(t){if(this.active){this._elapsed=this._elapsed+t;var e=this._elapsed/Math.max(this._duration,1e-5);this.updateProgress(e)}},t.prototype.updateProgress=function(t){if(isNaN(t)||t<0)throw Error("Invalid progress value: "+t);if(t>=1)return this.activate(!1),this.value=this.endValue,void(this._elapsed=this.duration);this.value=this._easing(t,this.startValue,this._endValue-this.startValue,1),this._elapsed=t*this.duration},t.prototype.updateAbsolute=function(t){var e=t/Math.max(this._duration,1e-5);this.updateProgress(e)},t.prototype.modifyAnimation=function(t,e,n,i,o){void 0===i&&(i=r.i),void 0===o&&(o=0),this._easing=i,this._endValue=e,this._duration=n,this.activate(this._duration>0),this._elapsed=o,this.startValue=t,this.value=t},t.prototype.activate=function(t){this._active=t},t.prototype.copy=function(t){this._endValue=t.endValue,this._duration=t.duration,this._active=t.active,this._easing=t.easing,this._elapsed=t.elapsed,this.startValue=t.startValue,this.value=t.value},t.prototype.clone=function(){var e=new t(0);return e.copy(this),e},t.prototype.stop=function(t){this._active=!1,this._elapsed=this._duration,this.value=t,this._endValue=t},t.prototype.equals=function(t){return this._active===t._active&&this.duration===t.duration&&this.easing===t.easing&&this.elapsed===t.elapsed&&this.endValue===t.endValue&&this.startValue===t.startValue&&this.value===t.value},t}()},function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var r,i=n(39);!function(t){t.INSTANT="transition.instant",t.FLY="transition.fly",t.FADEOUT="transition.fade"}(r||(r={}));var o=function(t){switch(t){case r.FADEOUT:return i.a.FadeToBlack;case r.INSTANT:return i.a.Instant;case r.FLY:return i.a.Interpolate}},s=function(t){switch(t){case i.a.FadeToBlack:return r.FADEOUT;case i.a.Instant:return r.INSTANT;case i.a.Interpolate:return r.FLY}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r,i=n(1);function o(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(o.prototype,{isMatrix3:!0,set:function(t,e,n,r,i,o,s,a,u){var c=this.elements;return c[0]=t,c[1]=r,c[2]=s,c[3]=e,c[4]=i,c[5]=a,c[6]=n,c[7]=o,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:(r=new i.a,function(t){for(var e=0,n=t.count;e<n;e++)r.x=t.getX(e),r.y=t.getY(e),r.z=t.getZ(e),r.applyMatrix3(this),t.setXYZ(e,r.x,r.y,r.z);return t}),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],s=n[3],a=n[6],u=n[1],c=n[4],l=n[7],h=n[2],f=n[5],p=n[8],d=r[0],y=r[3],m=r[6],v=r[1],b=r[4],g=r[7],_=r[2],w=r[5],O=r[8];return i[0]=o*d+s*v+a*_,i[3]=o*y+s*b+a*w,i[6]=o*m+s*g+a*O,i[1]=u*d+c*v+l*_,i[4]=u*y+c*b+l*w,i[7]=u*m+c*g+l*O,i[2]=h*d+f*v+p*_,i[5]=h*y+f*b+p*w,i[8]=h*m+f*g+p*O,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6],u=t[7],c=t[8];return e*o*c-e*s*u-n*i*c+n*s*a+r*i*u-r*o*a},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=t.elements,r=this.elements,i=n[0],o=n[1],s=n[2],a=n[3],u=n[4],c=n[5],l=n[6],h=n[7],f=n[8],p=f*u-c*h,d=c*l-f*a,y=h*a-u*l,m=i*p+o*d+s*y;if(0===m){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(v);return console.warn(v),this.identity()}var b=1/m;return r[0]=p*b,r[1]=(s*h-f*o)*b,r[2]=(c*o-s*u)*b,r[3]=d*b,r[4]=(f*i-s*l)*b,r[5]=(s*a-c*i)*b,r[6]=y*b,r[7]=(o*l-h*i)*b,r[8]=(u*i-o*a)*b,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,n,r,i,o,s){var a=Math.cos(i),u=Math.sin(i);this.set(n*a,n*u,-n*(a*o+u*s)+o+t,-r*u,r*a,-r*(-u*o+a*s)+s+e,0,0,1)},scale:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=this.elements,i=r[0],o=r[3],s=r[6],a=r[1],u=r[4],c=r[7];return r[0]=e*i+n*a,r[3]=e*o+n*u,r[6]=e*s+n*c,r[1]=-n*i+e*a,r[4]=-n*o+e*u,r[7]=-n*s+e*c,this},translate:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}})},function(t,e,n){"use strict";e.a=Object.freeze({signedUrlDefaultExpireTime:24e4,signedUrlCheckInterval:1e4,signedUrlRefreshBuffer:15e3,visionTilingStartDate:new Date("8/26/2016"),visionTilingStartVersion:"1.1.407.13667",epsilon:1e-5,skyboxMeshGroup:"_group_skybox_"})},function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o});var r,i,o,s=n(21),a=n(122),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t){function e(e){var n=t.call(this)||this;return n.options=new l(e),n}return u(e,t),e.prototype.update=function(t){for(var e in t.options)this.options[e]=t.options[e]},e}(s.a),l=function(){return function(t){this.presented_by=!1,this.highlight_reel=!0,this.floor_plan=!0,this.tour_buttons=!0,this.labels=!0,this.measurements=!1,this.dollhouse=!0,this.fast_transitions=!1,this.autoplay=!1,this.contact_email=!1,this.address=!1,this.contact_name=!1,this.model_summary=!1,this.contact_phone=!1,this.model_name=!1,this.external_url=!1,this.unit_type=i.USFractional,this.background_color=a.a.default,t&&(this.presented_by=!!t.presented_by,this.highlight_reel=!!t.highlight_reel,this.floor_plan=!!t.floor_plan,this.tour_buttons=!!t.tour_buttons,this.labels=!!t.labels,this.measurements=!!t.measurements,this.dollhouse=!!t.dollhouse,this.fast_transitions=!!t.fast_transitions,this.contact_email=!!t.contact_email,this.address=!!t.address,this.contact_name=!!t.contact_name,this.model_summary=!!t.model_summary,this.contact_phone=!!t.contact_phone,this.model_name=!!t.model_name,this.external_url=!!t.external_url,this.autoplay=!!t.autoplay,void 0!==t.unit_type&&(this.unit_type=t.unit_type),void 0!==t.background_color&&void 0!==a.a[t.background_color]&&(this.background_color=t.background_color))}}();!function(t){t.USFractional="imperial",t.Metric="metric"}(i||(i={})),function(t){t.PresentedBy="presented_by",t.HighlightReel="highlight_reel",t.FloorPlan="floor_plan",t.TourButtons="tour_buttons",t.Labels="labels",t.Measurements="measurements",t.Dollhouse="dollhouse",t.InstantTransitions="fast_transitions",t.AutoPlay="autoplay",t.Units="unit_type",t.DetailsEmail="contact_email",t.DetailsAddress="address",t.DetailsName="contact_name",t.DetailsSummary="model_summary",t.DetailsPhone="contact_phone",t.DetailsModelName="model_name",t.DetailsShareUrl="external_url",t.BackgroundColor="background_color"}(o||(o={}))},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(){function t(t){this._mask=t}return Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),t.prototype.addLayers=function(t){this._mask|=t.mask},t.prototype.removeLayers=function(t){return this._mask&=~t.mask},t.prototype.clone=function(){return new t(this._mask)},t}(),i=function(){function t(){this.layerRegistry=[],this.unusedLayers=[];for(var t=1;t<32;t++)this.unusedLayers.push(t)}return Object.defineProperty(t,"ALL",{get:function(){return new r(-1)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"NONE",{get:function(){return new r(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DEFAULT",{get:function(){return new r(1)},enumerable:!0,configurable:!0}),t.prototype.claimLayer=function(t){var e=this.getLayer(t);if(e.mask)return e;if(0===this.unusedLayers.length)throw Error("All render layers have already been claimed");var n=this.unusedLayers[0];return this.layerRegistry[n]=t,this.unusedLayers.shift(),new r(1<<n)},t.prototype.getLayer=function(e){var n=this.layerRegistry.indexOf(e);return-1!==n?new r(1<<n):t.NONE},t.prototype.disposeLayer=function(t){var e=this.layerRegistry.indexOf(t);-1!==e&&this.unusedLayers.push(e)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r,i=n(21),o=n(33),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mode=o.b.Desktop,e.source=o.a.None,e}return s(e,t),e.prototype.update=function(t){this.mode=t.mode,this.source=t.source},e.prototype.hasController=function(){return this.mode===o.b.VrWithController||this.mode===o.b.VrWithTrackedController},e.prototype.isVR=function(){return this.mode===o.b.VrOrientOnly||this.mode===o.b.VrWithController||this.mode===o.b.VrWithTrackedController},e}(i.a)},function(t,e,n){"use strict";var r,i,o;n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),function(t){t[t.Pan=0]="Pan",t[t.PanDollhouse=1]="PanDollhouse",t[t.Zoom=2]="Zoom",t[t.Delay=3]="Delay",t[t.None=4]="None"}(r||(r={})),function(t){t[t.Left=1]="Left",t[t.Right=-1]="Right"}(i||(i={})),function(t){t[t.Move=0]="Move",t[t.Burns=1]="Burns",t[t.Zoom=2]="Zoom",t[t.Path=3]="Path",t[t.FloorChange=4]="FloorChange",t[t.Delay=5]="Delay",t[t.Nop=6]="Nop"}(o||(o={}))},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),e.b=Object.freeze({mattertags:{visibility:{alphaTestLevel:.05},disc:{scale:{nearBound:1.5,farBound:4.8,maxSize:80,minSize:40,baseViewportSize:800,responsiveness:100}},pole:{height:.5,width:2,opacity:.5,color:"white"}}});var r="features/mattertags"},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"c",function(){return f}),n.d(e,"b",function(){return p});var r,i=n(1),o=n(10),s=n(7),a=n(4),u=n(3),c=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},l=new u.a("snapshot-serializer");!function(t){t.user="user",t.panorama="panorama",t.unaligned="unaligned",t.auto="auto",t.tour="tour"}(r||(r={}));var h=function(){function t(t,e,n,i,o,s,a,u,c,l,h,f){this.sid=t||"",this.metadata=e||{},this.thumbnailUrl=n||"",this.imageUrl=i||"",this.name=o||"",this.is360=!!s,this.category=a||r.user,this.height=u||0,this.width=c||0,this.modified=l||new Date,this.visionLabel=h||"",this.visionName=f||""}return t.prototype.clone=function(){return(new t).copy(this)},t.prototype.copy=function(t){return this.sid=t.sid,this.thumbnailUrl=t.thumbnailUrl,this.imageUrl=t.imageUrl,this.name=t.name,this.is360=t.is360,this.category=t.category,this.height=t.height,this.width=t.width,this.modified=t.modified,this.visionLabel=t.visionLabel,this.visionName=t.visionName,this.metadata={camera_mode:t.metadata.camera_mode,camera_position:t.metadata.camera_position.clone(),camera_quaternion:t.metadata.camera_quaternion.clone(),scan_id:t.metadata.scan_id,ortho_zoom:t.metadata.ortho_zoom,floor:t.metadata.floor,ss_zoom:t.metadata.ss_zoom,floorVisibility:t.metadata.floorVisibility},this},t.prototype.isInsidePano=function(){return this.metadata.camera_mode===a.a.Panorama&&""!==this.metadata.scan_id},t}(),f=function(t){var e,n,r={};if(!t||!t.images||t.images.length<1)return r;var i=t.images,o=t.icon;try{for(var s=c(Object.keys(i)),a=s.next();!a.done;a=s.next()){var u=a.value,l=p(i[u]);l&&(l.icon=l.sid===o,r[l.sid]=l)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r},p=function(t){var e=null;if(!t)return e;if(!t.metadata||0===Object.keys(t.metadata).length)return l.warn("Image has no metadata: "+t.sid),e;var n=t.metadata;if("string"==typeof t.metadata)try{n=JSON.parse(t.metadata)}catch(e){return l.warn("Image metadata parse failed: "+t.sid),null}var r,u=-1;if("object"==typeof n.floor_visibility)for(var c=0;c<n.floor_visibility.length;c++)!0===n.floor_visibility[c]&&(u=c);"number"==typeof n.highest_floor&&(u=n.highest_floor);try{var f=Object(a.c)(3===n.camera_mode?0:n.camera_mode),p=Object(s.j)(n.camera_position?n.camera_position:new i.a),d=Object(s.i)(n.camera_quaternion||new o.a);f!==a.a.Floorplan&&(d=Object(s.m)(d)),r={camera_mode:f,camera_position:p,camera_quaternion:d,scan_id:n.scan_id,ortho_zoom:n.ortho_zoom,floor:u,ss_zoom:n.ss_zoom||1,floorVisibility:n.floorVisibility}}catch(e){return l.warn("Image metadata parse failed: ",t.sid,e),null}var y=t.name&&(!t.name.match(/^[0-9.]+_[0-9.]+$/)||"")&&t.name||"";return e=new h(t.sid,r,t.thumbnail_signed_src,t.signed_src,y,"unaligned"===t.category,t.category,t.height,t.width,new Date(Date.parse(t.modified)),t.vision_generated_label,t.vision_generated_name)}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(1),i=n(162),o=n(40),s=n(119),a=function(){return function(){this.sid="",this.created=new Date,this.modified=new Date,this.enabled=!0,this.label="",this.description="",this.parsedDescription=[],this.anchorPosition=new r.a,this.anchorNormal=new r.a(0,0,Object(s.a)(1)),this.floorIndex=0,this.stemVector=new r.a(0,0,Object(s.a)(1)),this.stemVisible=!0,this.color=i.a.DEEP_BLUE.clone(),this.mediaType=o.a.none,this.mediaSrc="",this.isActive=!1}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="features/sweep_pucks"},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="features/360_views"},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(8);e.b=Object.freeze({debugLOD:r.q("debuglod",!1),highQualityDam:r.q("highqdam",!1)});var i="features/mesh-rendering"},function(t,e,n){"use strict";var r,i=n(44),o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i.a);e.a=s},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="features/labels"},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(30),i=function(){function t(){}return t.MP_BLUE=new r.a("rgb(75, 205, 252)"),t.DEEP_BLUE=new r.a("rgb(03, 104, 125)"),t.WHITE=new r.a("rgb(255, 255, 255)"),t.BLACK=new r.a("rgb(0, 0, 0)"),t}()},function(t,e,n){"use strict";n(197)()||Object.defineProperty(n(124),"Set",{value:n(196),configurable:!0,enumerable:!1,writable:!0})},function(t,e,n){"use strict";t.exports=n(228).polyfill()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(103),i=n(230),o=n(40),s=function(){function t(t){this.modelSID=t.model,this.capabilites={links:{enable:t.supportLinks,keepLabels:t.keepLinkLabels}}}return t.prototype.parse=function(t){var e=this,n=[];return t.split("[").map(function(t,e){return 0===e?t:"["+t}).forEach(function(t){var r=e.findLink(t);r?-1===r.url.indexOf("javascript:")&&(e.addLinkChunk(n,r),e.addTextChunk(n,t.slice(r.markdown.length))):e.addTextChunk(n,t)}),n},t.prototype.findLink=function(t){var e=t.match(/\[([^\]]*)\]\((.*)\)/);if(!e)return null;for(var n=e[2],r=1,i=0;i<n.length&&("("===n[i]?r++:")"===n[i]&&r--,0!==r);)i++;var o=n.length-i;return{markdown:e[0].substring(0,e[0].length-o),label:e[1],url:encodeURI(e[2].substring(0,i))}},t.prototype.addTextChunk=function(t,e){0!==e.length&&t.push({type:o.a.text,text:e})},t.prototype.addLinkChunk=function(t,e){if(this.capabilites.links.enable){var n={label:e.label,url:e.url,type:r.a.EXT_LINK};-1===n.url.indexOf("://")&&(n.url="http://"+n.url);var s=-1!==n.url.indexOf("matterport.com/show"),a=-1!==n.url.indexOf(window.location.host+"/show");if(s||a){var u=-1!==n.url.indexOf("start=");u&&(n.url=decodeURI(n.url)),-1!==n.url.indexOf(this.modelSID)&&u?(n.type=r.a.NAVIGATION,n.navigationData=i.a.deserialize(n.url)||void 0):(n.type=r.a.MODEL,n.url+="&play=1")}t.push({type:o.a.link,link:n})}else this.capabilites.links.keepLabels&&this.addTextChunk(t,e.label)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,i,o,s=n(1),a=n(51),u=n(50);function c(t,e,n,r,i,o){this.planes=[void 0!==t?t:new u.a,void 0!==e?e:new u.a,void 0!==n?n:new u.a,void 0!==r?r:new u.a,void 0!==i?i:new u.a,void 0!==o?o:new u.a]}Object.assign(c.prototype,{set:function(t,e,n,r,i,o){var s=this.planes;return s[0].copy(t),s[1].copy(e),s[2].copy(n),s[3].copy(r),s[4].copy(i),s[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],c=n[6],l=n[7],h=n[8],f=n[9],p=n[10],d=n[11],y=n[12],m=n[13],v=n[14],b=n[15];return e[0].setComponents(s-r,l-a,d-h,b-y).normalize(),e[1].setComponents(s+r,l+a,d+h,b+y).normalize(),e[2].setComponents(s+i,l+u,d+f,b+m).normalize(),e[3].setComponents(s-i,l-u,d-f,b-m).normalize(),e[4].setComponents(s-o,l-c,d-p,b-v).normalize(),e[5].setComponents(s+o,l+c,d+p,b+v).normalize(),this},intersectsObject:(o=new a.a,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),o.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(o)}),intersectsSprite:function(){var t=new a.a;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:(r=new s.a,i=new s.a,function(t){for(var e=this.planes,n=0;n<6;n++){var o=e[n];r.x=o.normal.x>0?t.min.x:t.max.x,i.x=o.normal.x>0?t.max.x:t.min.x,r.y=o.normal.y>0?t.min.y:t.max.y,i.y=o.normal.y>0?t.max.y:t.min.y,r.z=o.normal.z>0?t.min.z:t.max.z,i.z=o.normal.z>0?t.max.z:t.min.z;var s=o.distanceToPoint(r),a=o.distanceToPoint(i);if(s<0&&a<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}})},function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c});var r=n(22),i=n(80),o=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},s=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=function(t){return null!==t.position?{x:t.position.x,y:t.position.y,z:t.position.z}:null},u=function(t,e,n,r,o){return void 0===o&&(o=!1),r.sweeps=[],n.forEach(function(t,e){r.sweeps.push({uuid:t.id,alignmentType:t.alignmentType,neighbors:t.neighbours,position:a(t),rotation:Object(i.b)(t.rotation),floor:t.floor})}),r.sid=t,r.modelSupportsVr=e,r},c=function(t,e,n,u){return o(void 0,void 0,void 0,function(){var c,l=this;return s(this,function(h){switch(h.label){case 0:return[4,Promise.all(u.map(function(e){return o(l,void 0,void 0,function(){var n;return s(this,function(o){switch(o.label){case 0:return n={uuid:e.id,aligned:e.alignmentType===r.a.ALIGNED,neighbourUUIDs:e.neighbours,position:a(e),rotation:Object(i.b)(e.rotation)},[4,t.getSignedUrl("pan/high/"+e.id+"_skybox1.jpg")];case 1:return[2,(n.thumbnail=o.sent(),n.floor=e.floor,n)]}})})}))];case 1:return c=h.sent(),[2,{sid:e,panos:c,modelSupportsVr:n}]}})})}},function(t,e,n){"use strict";var r;n.d(e,"a",function(){return r}),function(t){t.FORWARD="FORWARD",t.LEFT="LEFT",t.RIGHT="RIGHT",t.BACK="BACK",t.UP="UP",t.DOWN="DOWN"}(r||(r={}))},function(t,e,n){"use strict";t.exports="undefined"!=typeof Set&&"[object Set]"===Object.prototype.toString.call(Set.prototype)},function(t,e,n){"use strict";var r,i=n(58),o=n(74),s=n(31),a=n(73),u=n(28).toStringTag,c=Object.defineProperty;r=t.exports=function(t,e){if(!(this instanceof r))return new r(t,e);a.call(this,t.__setData__,t),e=e&&o.call(e,"key+value")?"key+value":"value",c(this,"__kind__",s("",e))},i&&i(r,a),r.prototype=Object.create(a.prototype,{constructor:s(r),_resolve:s(function(t){return"value"===this.__kind__?this.__list__[t]:[this.__list__[t],this.__list__[t]]}),toString:s(function(){return"[object Set Iterator]"})}),c(r.prototype,u,s("c","Set Iterator"))},function(t,e,n){"use strict";var r,i=n(58),o=n(31),s=n(28),a=n(73),u=Object.defineProperty;r=t.exports=function(t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");t=String(t),a.call(this,t),u(this,"__length__",o("",t.length))},i&&i(r,a),delete r.prototype.constructor,r.prototype=Object.create(a.prototype,{_next:o(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:o(function(t){var e,n=this.__list__[t];return this.__nextIndex__===this.__length__?n:(e=n.charCodeAt(0))>=55296&&e<=56319?n+this.__list__[this.__nextIndex__++]:n})}),u(r.prototype,s.toStringTag,o("c","String Iterator"))},function(t,e,n){"use strict";var r=n(23),i=n(24),o=Function.prototype.bind,s=Function.prototype.call,a=Object.keys,u=Object.prototype.propertyIsEnumerable;t.exports=function(t,e){return function(n,c){var l,h=arguments[2],f=arguments[3];return n=Object(i(n)),r(c),l=a(n),f&&l.sort("function"==typeof f?o.call(f,n):void 0),"function"!=typeof t&&(t=l[t]),s.call(t,l,function(t,r){return u.call(n,t)?s.call(c,h,n[t],t,n,r):e})}}},function(t,e,n){"use strict";t.exports=n(172)("forEach")},function(t,e,n){"use strict";var r=n(23),i=n(173),o=Function.prototype.call;t.exports=function(t,e){var n={},s=arguments[2];return r(e),i(t,function(t,r,i,a){n[r]=o.call(e,s,t,r,i,a)}),n}},function(t,e,n){"use strict";var r=Object.prototype.toString,i=r.call(n(112));t.exports=function(t){return"function"==typeof t&&r.call(t)===i}},function(t,e,n){"use strict";var r=n(28).iterator,i=n(57),o=n(175),s=n(109),a=n(23),u=n(24),c=n(38),l=n(56),h=Array.isArray,f=Function.prototype.call,p={configurable:!0,enumerable:!0,writable:!0,value:null},d=Object.defineProperty;t.exports=function(t){var e,n,y,m,v,b,g,_,w,O,x=arguments[1],E=arguments[2];if(t=Object(u(t)),c(x)&&a(x),this&&this!==Array&&o(this))e=this;else{if(!x){if(i(t))return 1!==(v=t.length)?Array.apply(null,t):((m=new Array(1))[0]=t[0],m);if(h(t)){for(m=new Array(v=t.length),n=0;n<v;++n)m[n]=t[n];return m}}m=[]}if(!h(t))if(void 0!==(w=t[r])){for(g=a(w).call(t),e&&(m=new e),_=g.next(),n=0;!_.done;)O=x?f.call(x,E,_.value,n):_.value,e?(p.value=O,d(m,n,p)):m[n]=O,_=g.next(),++n;v=n}else if(l(t)){for(v=t.length,e&&(m=new e),n=0,y=0;n<v;++n)O=t[n],n+1<v&&(b=O.charCodeAt(0))>=55296&&b<=56319&&(O+=t[++n]),O=x?f.call(x,E,O,y):O,e?(p.value=O,d(m,y,p)):m[y]=O,++y;v=y}if(void 0===v)for(v=s(t.length),e&&(m=new e(v)),n=0;n<v;++n)O=x?f.call(x,E,t[n],n):t[n],e?(p.value=O,d(m,n,p)):m[n]=O;return e&&(p.value=null,m.length=v),m}},function(t,e,n){"use strict";t.exports=function(){var t,e,n=Array.from;return"function"==typeof n&&(e=n(t=["raz","dwa"]),Boolean(e&&e!==t&&"dwa"===e[1]))}},function(t,e,n){"use strict";t.exports=n(177)()?Array.from:n(176)},function(t,e,n){"use strict";var r=n(178),i=n(75),o=n(24);t.exports=function(t){var e=Object(o(t)),n=arguments[1],s=Object(arguments[2]);if(e!==t&&!n)return e;var a={};return n?r(n,function(e){(s.ensure||e in t)&&(a[e]=t[e])}):i(a,t),a}},function(t,e,n){"use strict";var r,i=n(179),o=n(111),s=n(23),a=n(174),u=n(23),c=n(24),l=Function.prototype.bind,h=Object.defineProperty,f=Object.prototype.hasOwnProperty;r=function(t,e,n){var r,o=c(e)&&u(e.value);return delete(r=i(e)).writable,delete r.value,r.get=function(){return!n.overwriteDefinition&&f.call(this,t)?o:(e.value=l.call(o,n.resolveContext?n.resolveContext(this):this),h(this,t,e),this[t])},r},t.exports=function(t){var e=o(arguments[1]);return null!=e.resolveContext&&s(e.resolveContext),a(t,function(t,n){return r(n,t,e)})}},function(t,e,n){"use strict";var r,i=n(58),o=n(74),s=n(31),a=n(28),u=n(73),c=Object.defineProperty;r=t.exports=function(t,e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");u.call(this,t),e=e?o.call(e,"key+value")?"key+value":o.call(e,"key")?"key":"value":"value",c(this,"__kind__",s("",e))},i&&i(r,u),delete r.prototype.constructor,r.prototype=Object.create(u.prototype,{_resolve:s(function(t){return"value"===this.__kind__?this.__list__[t]:"key+value"===this.__kind__?[t,this.__list__[t]]:t})}),c(r.prototype,a.toStringTag,s("c","Array Iterator"))},function(t,e,n){"use strict";var r=n(57),i=n(56),o=n(181),s=n(171),a=n(106),u=n(28).iterator;t.exports=function(t){return"function"==typeof a(t)[u]?t[u]():r(t)?new o(t):i(t)?new s(t):new o(t)}},function(t,e,n){"use strict";var r=n(57),i=n(23),o=n(56),s=n(182),a=Array.isArray,u=Function.prototype.call,c=Array.prototype.some;t.exports=function(t,e){var n,l,h,f,p,d,y,m,v=arguments[2];if(a(t)||r(t)?n="array":o(t)?n="string":t=s(t),i(e),h=function(){f=!0},"array"!==n)if("string"!==n)for(l=t.next();!l.done;){if(u.call(e,v,l.value,h),f)return;l=t.next()}else for(d=t.length,p=0;p<d&&(y=t[p],p+1<d&&(m=y.charCodeAt(0))>=55296&&m<=56319&&(y+=t[++p]),u.call(e,v,y,h),!f);++p);else c.call(t,function(t){return u.call(e,v,t,h),f})}},function(t,e,n){"use strict";var r=n(57),i=n(38),o=n(56),s=n(28).iterator,a=Array.isArray;t.exports=function(t){return!!i(t)&&(!!a(t)||(!!o(t)||(!!r(t)||"function"==typeof t[s])))}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,o,s,a,u,c,l,h=n(31),f=n(23),p=Function.prototype.apply,d=Function.prototype.call,y=Object.create,m=Object.defineProperty,v=Object.defineProperties,b=Object.prototype.hasOwnProperty,g={configurable:!0,enumerable:!1,writable:!0};u={on:i=function(t,e){var n;return f(e),b.call(this,"__ee__")?n=this.__ee__:(n=g.value=y(null),m(this,"__ee__",g),g.value=null),n[t]?"object"===r(n[t])?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},once:o=function(t,e){var n,r;return f(e),r=this,i.call(this,t,n=function(){s.call(r,t,n),p.call(e,this,arguments)}),n.__eeOnceListener__=e,this},off:s=function(t,e){var n,i,o,s;if(f(e),!b.call(this,"__ee__"))return this;if(!(n=this.__ee__)[t])return this;if("object"===r(i=n[t]))for(s=0;o=i[s];++s)o!==e&&o.__eeOnceListener__!==e||(2===i.length?n[t]=i[s?0:1]:i.splice(s,1));else i!==e&&i.__eeOnceListener__!==e||delete n[t];return this},emit:a=function(t){var e,n,i,o,s;if(b.call(this,"__ee__")&&(o=this.__ee__[t]))if("object"===r(o)){for(n=arguments.length,s=new Array(n-1),e=1;e<n;++e)s[e-1]=arguments[e];for(o=o.slice(),e=0;i=o[e];++e)p.call(i,this,s)}else switch(arguments.length){case 1:d.call(o,this);break;case 2:d.call(o,this,arguments[1]);break;case 3:d.call(o,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,s=new Array(n-1),e=1;e<n;++e)s[e-1]=arguments[e];p.call(o,this,s)}}},c={on:h(i),once:h(o),off:h(s),emit:h(a)},l=v({},c),t.exports=e=function(t){return null==t?y(l):v(Object(t),c)},e.methods=u},function(t,e,n){"use strict";var r,i,o,s,a=Object.create;n(108)()||(r=n(107)),t.exports=r?1!==r.level?a:(i={},o={},s={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(t){o[t]="__proto__"!==t?s:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(i,o),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(t,e){return a(null===t?i:t,e)}):a},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(38),o={function:!0,object:!0};t.exports=function(t){return i(t)&&o[r(t)]||!1}},function(t,e,n){"use strict";t.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}},function(t,e,n){"use strict";t.exports=function(){var t=Math.sign;return"function"==typeof t&&(1===t(10)&&-1===t(-20))}},function(t,e,n){"use strict";t.exports=n(189)()?Math.sign:n(188)},function(t,e,n){"use strict";var r=n(190),i=Math.abs,o=Math.floor;t.exports=function(t){return isNaN(t)?0:0!==(t=Number(t))&&isFinite(t)?r(t)*o(i(t)):t}},function(t,e,n){"use strict";t.exports=function(t){return t!=t}},function(t,e,n){"use strict";t.exports=function(){var t=Number.isNaN;return"function"==typeof t&&(!t({})&&t(NaN)&&!t(34))}},function(t,e,n){"use strict";t.exports=n(193)()?Number.isNaN:n(192)},function(t,e,n){"use strict";var r=n(194),i=n(109),o=n(24),s=Array.prototype.indexOf,a=Object.prototype.hasOwnProperty,u=Math.abs,c=Math.floor;t.exports=function(t){var e,n,l,h;if(!r(t))return s.apply(this,arguments);for(n=i(o(this).length),l=arguments[1],e=l=isNaN(l)?0:l>=0?c(l):i(this.length)-c(u(l));e<n;++e)if(a.call(this,e)&&(h=this[e],r(h)))return e;return-1}},function(t,e,n){"use strict";var r,i,o,s=n(110),a=n(195),u=n(58),c=n(23),l=n(31),h=n(185),f=n(28),p=n(106),d=n(183),y=n(170),m=n(169),v=Function.prototype.call,b=Object.defineProperty,g=Object.getPrototypeOf;m&&(o=Set),t.exports=r=function(){var t,e=arguments[0];if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");return t=m&&u?u(new o,g(this)):this,null!=e&&p(e),b(t,"__setData__",l("c",[])),e?(d(e,function(t){-1===a.call(this,t)&&this.push(t)},t.__setData__),t):t},m&&(u&&u(r,o),r.prototype=Object.create(o.prototype,{constructor:l(r)})),h(Object.defineProperties(r.prototype,{add:l(function(t){return this.has(t)?this:(this.emit("_add",this.__setData__.push(t)-1,t),this)}),clear:l(function(){this.__setData__.length&&(s.call(this.__setData__),this.emit("_clear"))}),delete:l(function(t){var e=a.call(this.__setData__,t);return-1!==e&&(this.__setData__.splice(e,1),this.emit("_delete",e,t),!0)}),entries:l(function(){return new y(this,"key+value")}),forEach:l(function(t){var e,n,r,i=arguments[1];for(c(t),n=(e=this.values())._next();void 0!==n;)r=e._resolve(n),v.call(t,i,r,r,this),n=e._next()}),has:l(function(t){return-1!==a.call(this.__setData__,t)}),keys:l(i=function(){return this.values()}),size:l.gs(function(){return this.__setData__.length}),values:l(function(){return new y(this)}),toString:l(function(){return"[object Set]"})})),b(r.prototype,f.iterator,l(i)),b(r.prototype,f.toStringTag,l("c","Set"))},function(t,e,n){"use strict";t.exports=function(){var t,e;return"function"==typeof Set&&(t=new Set(["raz","dwa","trzy"]),"[object Set]"===String(t)&&(3===t.size&&("function"==typeof t.add&&("function"==typeof t.clear&&("function"==typeof t.delete&&("function"==typeof t.entries&&("function"==typeof t.forEach&&("function"==typeof t.has&&("function"==typeof t.keys&&("function"==typeof t.values&&(!1===(e=t.values().next()).done&&"raz"===e.value)))))))))))}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return!!t&&("symbol"===r(t)||!!t.constructor&&("Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag]))}},function(t,e,n){"use strict";var r=n(198);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},function(t,e,n){"use strict";var r=String.prototype.indexOf;t.exports=function(t){return r.call(this,t,arguments[1])>-1}},function(t,e,n){"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(t,e,n){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";var r=n(38),i=Object.keys;t.exports=function(t){return i(r(t)?Object(t):t)}},function(t,e,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,n){"use strict";t.exports=n(204)()?Object.keys:n(203)},function(t,e,n){"use strict";var r=n(205),i=n(24),o=Math.max;t.exports=function(t,e){var n,s,a,u=o(arguments.length,2);for(t=Object(i(t)),a=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},s=1;s<u;++s)e=arguments[s],r(e).forEach(a);if(void 0!==n)throw n;return t}},function(t,e,n){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){e.f=n(99)},function(t,e,n){var r=n(216),i=n(126);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(224);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(225);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(66);t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(214),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(43),i=n(79),o=n(265).indexOf,s=n(100);t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(128),i=n(32),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e,n){var r,i,o,s=n(268),a=n(32),u=n(65),c=n(78),l=n(43),h=n(130),f=n(100),p=a.WeakMap;if(s){var d=new p,y=d.get,m=d.has,v=d.set;r=function(t,e){return v.call(d,t,e),e},i=function(t){return y.call(d,t)||{}},o=function(t){return m.call(d,t)}}else{var b=h("state");f[b]=!0,r=function(t,e){return c(t,b,e),e},i=function(t){return l(t,b)?t[b]:{}},o=function(t){return l(t,b)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(76);t.exports=r("native-function-to-string",Function.toString)},function(t,e){t.exports=!1},function(t,e,n){var r=n(32),i=n(76),o=n(78),s=n(43),a=n(131),u=n(219),c=n(218),l=c.get,h=c.enforce,f=String(u).split("toString");i("inspectSource",function(t){return u.call(t)}),(t.exports=function(t,e,n,i){var u=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,l=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof e||s(n,"name")||o(n,"name",e),h(n).source=f.join("string"==typeof e?e:"")),t!==r?(u?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=n:o(t,e,n)):c?t[e]=n:a(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&l(this).source||u.call(this)})},function(t,e,n){var r=n(32),i=n(65),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){var r=n(67),i=n(66),o=n(222);t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(66),i=n(225),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){(function(r,i){var o,s,a;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */
a=function(){"use strict";function t(t){return"function"==typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=0,o=void 0,s=void 0,a=function(t,e){y[n]=t,y[n+1]=e,2===(n+=2)&&(s?s(m):w())};var c="undefined"!=typeof window?window:void 0,l=c||{},h=l.MutationObserver||l.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==r&&"[object process]"==={}.toString.call(r),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(m,1)}}var y=new Array(1e3);function m(){for(var t=0;t<n;t+=2){(0,y[t])(y[t+1]),y[t]=void 0,y[t+1]=void 0}n=0}var v,b,g,_,w=void 0;function O(t,e){var n=this,r=new this.constructor(S);void 0===r[E]&&H(r);var i=n._state;if(i){var o=arguments[i-1];a(function(){return z(i,r,o,n._result)})}else D(n,r,t,e);return r}function x(t){if(t&&"object"===u(t)&&t.constructor===this)return t;var e=new this(S);return L(e,t),e}f?w=function(){return r.nextTick(m)}:h?(b=0,g=new h(m),_=document.createTextNode(""),g.observe(_,{characterData:!0}),w=function(){_.data=b=++b%2}):p?((v=new MessageChannel).port1.onmessage=m,w=function(){return v.port2.postMessage(0)}):w=void 0===c?function(){try{var t=Function("return this")().require("vertx");return void 0!==(o=t.runOnLoop||t.runOnContext)?function(){o(m)}:d()}catch(t){return d()}}():d();var E=Math.random().toString(36).substring(2);function S(){}var P=void 0,R=1,I=2,T={error:null};function M(t){try{return t.then}catch(t){return T.error=t,T}}function A(e,n,r){n.constructor===e.constructor&&r===O&&n.constructor.resolve===x?function(t,e){e._state===R?C(t,e._result):e._state===I?j(t,e._result):D(e,void 0,function(e){return L(t,e)},function(e){return j(t,e)})}(e,n):r===T?(j(e,T.error),T.error=null):void 0===r?C(e,n):t(r)?function(t,e,n){a(function(t){var r=!1,i=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){r||(r=!0,e!==n?L(t,n):C(t,n))},function(e){r||(r=!0,j(t,e))},t._label);!r&&i&&(r=!0,j(t,i))},t)}(e,n,r):C(e,n)}function L(t,e){var n,r;t===e?j(t,new TypeError("You cannot resolve a promise with itself")):(r=u(n=e),null===n||"object"!==r&&"function"!==r?C(t,e):A(t,e,M(e)))}function k(t){t._onerror&&t._onerror(t._result),N(t)}function C(t,e){t._state===P&&(t._result=e,t._state=R,0!==t._subscribers.length&&a(N,t))}function j(t,e){t._state===P&&(t._state=I,t._result=e,a(k,t))}function D(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+R]=n,i[o+I]=r,0===o&&t._state&&a(N,t)}function N(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,s=0;s<e.length;s+=3)r=e[s],i=e[s+n],r?z(n,r,i,o):i(o);t._subscribers.length=0}}function z(e,n,r,i){var o=t(r),s=void 0,a=void 0,u=void 0,c=void 0;if(o){if((s=function(t,e){try{return t(e)}catch(t){return T.error=t,T}}(r,i))===T?(c=!0,a=s.error,s.error=null):u=!0,n===s)return void j(n,new TypeError("A promises callback cannot return that same promise."))}else s=i,u=!0;n._state!==P||(o&&u?L(n,s):c?j(n,a):e===R?C(n,s):e===I&&j(n,s))}var B=0;function H(t){t[E]=B++,t._state=void 0,t._result=void 0,t._subscribers=[]}var U=function(){function t(t,n){this._instanceConstructor=t,this.promise=new t(S),this.promise[E]||H(this.promise),e(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&C(this.promise,this._result))):j(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===P&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===x){var i=M(t);if(i===O&&t._state!==P)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===V){var o=new n(S);A(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===P&&(this._remaining--,t===I?j(r,n):this._result[e]=n),0===this._remaining&&C(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;D(t,void 0,function(t){return n._settledAt(R,e,t)},function(t){return n._settledAt(I,e,t)})},t}();var V=function(){function t(e){this[E]=B++,this._result=this._state=void 0,this._subscribers=[],S!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){L(t,e)},function(e){j(t,e)})}catch(e){j(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},t}();return V.prototype.then=O,V.all=function(t){return new U(this,t).promise},V.race=function(t){var n=this;return e(t)?new n(function(e,r){for(var i=t.length,o=0;o<i;o++)n.resolve(t[o]).then(e,r)}):new n(function(t,e){return e(new TypeError("You must pass an array to race."))})},V.resolve=x,V.reject=function(t){var e=new this(S);return j(e,t),e},V._setScheduler=function(t){s=t},V._setAsap=function(t){a=t},V._asap=a,V.polyfill=function(){var t=void 0;if(void 0!==i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=V},V.Promise=V,V},"object"===u(e)&&void 0!==t?t.exports=a():void 0===(s="function"==typeof(o=a)?o.call(e,n,e,t):o)||(t.exports=s)}).call(this,n(121),n(97))},function(t,e,n){"use strict";function r(t){try{var e=t.getExtension("WEBGL_debug_renderer_info");if(e)return{vendor:t.getParameter(e.UNMASKED_VENDOR_WEBGL),renderer:t.getParameter(e.UNMASKED_RENDERER_WEBGL)}}catch(t){}return{vendor:"Unknown",renderer:"Unknown"}}function i(t){return/Apple A(9|1\d)/.test(t.renderer)||/Adreno \(TM\) (512|530|540|[6-9]\d\d)/.test(t.renderer)||/Mali-G(7[1-9]|[8-9]\d)/.test(t.renderer)}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(1),i=n(10),o=new(n(3).a)("navurl"),s=function(){function t(){}return t.serialize=function(t){return encodeURIComponent(JSON.stringify(t))},t.deserialize=function(e){var n=decodeURI(e),r=n.indexOf("start=");-1!==r&&(n=n.substring(r+6));var i=n.indexOf("&");-1!==i&&(n=n.substring(0,i));try{return t.parseObject(n)}catch(e){o.debug("Not able to parse start location as JSON; falling back to old array style parsing");try{return t.parseArray(n)}catch(t){o.warn('Invalid start override, ignoring: "'+n+'"',t.message)}}return null},t.parseObject=function(t){var e;try{e=JSON.parse(decodeURIComponent(t))}catch(t){return null}try{if(!e.camera_quaternion)throw Error("Start override is missing camera_quaternion");if(!e.camera_position)throw Error("Start override is missing camera_position");if(!e.camera_mode)throw Error("Start override is missing camera_mode");var n=(new i.a).copy(e.camera_quaternion);return{mode:e.camera_mode,panoId:e.scan_id,position:(new r.a).copy(e.camera_position),quaternion:n,zoom:e.ortho_zoom,floorVisibility:e.floor_visibility}}catch(t){o.debug(t)}return null},t.parseArray=function(t){var e=t.split(",");if(e.length<this.encodedArrayLength)return null;var n=new r.a(parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])),o=new i.a(parseFloat(e[5]),parseFloat(e[6]),parseFloat(e[7]),parseFloat(e[8])),s=parseInt(e[0],10);return isNaN(n.x)||isNaN(n.y)||isNaN(n.z)||isNaN(o.x)||isNaN(o.y)||isNaN(o.z)||isNaN(o.w)||isNaN(s)?null:{mode:s,panoId:e[1],position:n,quaternion:o}},t.encodedArrayLength=9,t}()},function(t,e,n){"use strict";n(164),n(272),n(252),n(163),n(251);var r,i=n(36),o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},s=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t},a=function(){function t(t){this.fetchedModules=[],this.engine=t,this.messageBus=t.msgBus,this.market=new u(t.market),this.commandBinder=t.commandBinder,this.waitForModule=t.waitForModule.bind(t),this.getModuleByParent=t.getModuleByParent.bind(t),this.getModuleSync=t.getModuleSync.bind(t),this.addComponent=t.addComponent.bind(t),this.getComponentByType=t.getComponentByType.bind(t),this.getComponents=t.getComponents.bind(t),this.removeComponent=t.removeComponent.bind(t),this.subscribe=t.subscribe.bind(t),this.unsubscribe=t.unsubscribe.bind(t),this.broadcast=t.broadcast.bind(t),this.claimRenderLayer=t.claimRenderLayer.bind(t),this.getRenderLayer=t.getRenderLayer.bind(t),this.disposeRenderLayer=t.disposeRenderLayer.bind(t),this.startGenerator=t.startGenerator.bind(t),this.stopGenerator=t.stopGenerator.bind(t),this.after=t.after.bind(t),this.deactivate=t.deactivate.bind(t),this.loadModules=t.loadModules.bind(t),this.unloadModule=t.unloadModule.bind(t)}return t.prototype.getModule=function(t){var e=this,n=Date.now();return this.engine.getModule(t).then(function(t){var r=Date.now();return e.fetchedModules.push({moduleName:t.name,isModule:!0,startAwait:n,finishAwait:r}),t})},t.prototype.getLoadedDependencies=function(){return s(this.fetchedModules,this.market.getLoadedDependencies())},Object.defineProperty(t.prototype,"msgBus",{get:function(){return this.messageBus},enumerable:!0,configurable:!0}),t}(),u=function(){function t(t){this.fetchedData=[],this.market=t,this.register=t.register.bind(t),this.unregister=t.unregister.bind(t),this.update=t.update.bind(t),this.tryGetData=t.tryGetData.bind(t),this.onDataUpdate=t.onDataUpdate.bind(t),this.removeOnDataUpdate=t.removeOnDataUpdate.bind(t),this.getModuleNameFromData=t.getModuleNameFromData.bind(t),this.triggerCallbacks=t.triggerCallbacks.bind(t)}return t.prototype.waitForData=function(t){var e=this,n=Date.now();return this.market.waitForData(t).then(function(t){var r=Date.now();return e.fetchedData.push({moduleName:e.getModuleNameFromData(Object(i.b)(t)),isModule:!1,startAwait:n,finishAwait:r}),t})},t.prototype.getLoadedDependencies=function(){return this.fetchedData},t}(),c=n(19),l=n(3),h=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},f=new l.a("module-loader");!function(t){t[t.Registered=0]="Registered",t[t.Loading=1]="Loading",t[t.Initialized=2]="Initialized",t[t.Unloaded=3]="Unloaded"}(r||(r={}));var p=function(){function t(){this.registeredModules={},this.typeLookup=new i.a(!0)}return t.prototype.registerModule=function(t,e){var n=this.typeLookup.addIndexByType(t),i={type:t,es6ModulePromise:e,ctorPromise:new c.a,initPromise:new c.a,state:r.Registered};this.registeredModules[n]=i},t.prototype.getTypeID=function(t){var e=this.typeLookup.getIndexByType(t);if(-1===e)throw Error("Trying to access unregistered Module");return e},t.prototype.getTypeFromTypeID=function(t){return this.typeLookup.getTypeByIndex(t)},t.prototype.moduleRegistered=function(t){return-1!==this.typeLookup.getIndexByType(t)},t.prototype.getModule=function(t){var e=this.typeLookup.getIndexByType(t);if(-1===e)throw Error("Trying to get "+this.prettyPrintType(t)+" before it was registered!");if(this.registeredModules[e].state===r.Unloaded)throw Error("Module unloaded");return this.registeredModules[e].initPromise.nativePromise()},t.prototype.getModuleByParent=function(t){var e,n,r=this.typeLookup.getIndicesByType(t);if(0===r.length)throw Error("No registered modules derive from "+this.prettyPrintType(t)+".");var i=[];try{for(var o=h(r),s=o.next();!s.done;s=o.next()){var a=s.value;i.push(this.registeredModules[a].initPromise.nativePromise())}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return Promise.race(i)},t.prototype.getModuleSync=function(t){var e=this.typeLookup.getIndexByType(t);if(-1===e)throw new Error("Trying to get "+this.prettyPrintType(t)+" before it was registered!");var n=this.registeredModules[e];if(n.state!==r.Initialized)throw Error(this.prettyPrintType(t)+" module not loaded!");return n.module},t.prototype.loadModule=function(t,e,n){var i=this;void 0===n&&(n={});var o=this.typeLookup.getIndexByType(e);if(-1===o)throw Error("Attempting to load an unregistered module");var s=this.registeredModules[o];if(s.state===r.Initialized)return s;if(s.state!==r.Registered&&s.state!==r.Unloaded)throw Error(this.prettyPrintType(e)+" already loading");return s.state=r.Loading,s.es6ModulePromise().then(function(o){if(!o.default)throw new Error(i.prettyPrintType(e)+" has no default export during module loading");var a=new o.default;s.ctorPromise.resolve(a).then(function(){var e=Date.now(),i=!1;setTimeout(function(){i||f.debug(a.name+" init took over 2 seconds")},2e3),a.init(n,t).then(function(){f.debug(a.name+" init took "+(Date.now()-e)/1e3+" secs."),i=!0,s.state=r.Initialized,s.module=a,s.initPromise.resolve(a)},function(t){return s.initPromise.reject(t)})})},function(t){f.error("Failed to load es6Module for "+i.prettyPrintType(e)+": "+t),s.initPromise.reject(t)}),s},t.prototype.whenQueueEmpties=function(){var t=[];for(var e in this.registeredModules){var n=this.registeredModules[e];n.state===r.Loading&&t.push(n.initPromise)}return c.a.all(t).nativePromise()},t.prototype.unloadModule=function(t){var e=this.typeLookup.getIndexByType(t);if(-1===e)throw Error("Attempting to unload unregistered module");var n=this.registeredModules[e];if(n.state===r.Unloaded||n.state===r.Registered)throw Error("Attempting to unload not-loaded module");n.state=r.Unloaded,n.ctorPromise=new c.a,n.initPromise=new c.a,n.module=void 0},t.prototype.prettyPrintType=function(t){var e=t.toString();return e.substring(0,e.indexOf("\n")).split(" ")[1]},t}(),d=n(47),y=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},m=new l.a("market"),v=function(){function t(t){this.typeLookup=new i.a,this.store=[],this.moduleRegistry=[],this.firstUpdatePromises=[],this.callbacks=[],this.typesDirty=[]}return t.prototype.register=function(t,e,n){var r=this.typeLookup.getIndexByType(e,!0);if(this.moduleRegistry[r])throw Error("Data can only be registered to one Module");this.moduleRegistry[r]=t,n&&this.update(t,n,!1)},t.prototype.unregister=function(t,e){var n=this.typeLookup.getIndexByType(e,!0);if(!this.moduleRegistry[n])throw Error("No Data was registered to the Module");this.moduleRegistry[n]=void 0},t.prototype.update=function(t,e,n){void 0===n&&(n=!0);var r=this.typeLookup.getIndexByInstance(e);if(-1===r)throw Error("Data must be registered before updated");if(this.moduleRegistry[r]!==t)throw Error("Data must be updated from the Module that registered it");if(!this.store[r]){var i=this.typeLookup.getTypeByIndex(r);this.store[r]=e.isObservableProxy?Object(d.a)(new i):new i}this.store[r].update(e),this.firstUpdatePromises[r]&&(this.firstUpdatePromises[r].resolve(this.store[r]),delete this.firstUpdatePromises[r]),n&&(this.typesDirty[r]=!0)},t.prototype.triggerCallbacks=function(){var t,e;for(var n in this.typesDirty)if(this.typesDirty[n]&&this.callbacks[n]){try{for(var r=y(this.callbacks[n]),i=r.next();!i.done;i=r.next()){(0,i.value)(this.store[n])}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.typesDirty[n]=!1}},t.prototype.getData=function(t){var e=this.typeLookup.getIndexByType(t);if(e in this.store)return this.store[e];throw Error("Data not present.")},t.prototype.waitForData=function(t){var e=this,n=this.typeLookup.getIndexByType(t,!0);return n in this.store?Promise.resolve(this.store[n]):(this.firstUpdatePromises[n]||(this.firstUpdatePromises[n]=new c.a,setTimeout(function(){n in e.store||m.debug("still waiting for "+t.name+" after 2 seconds")},2e3)),this.firstUpdatePromises[n].nativePromise())},t.prototype.tryGetData=function(t){try{return this.getData(t)}catch(t){if("Data not present."!==t.message)throw m.error("tryGetData",t.message),t}return null},t.prototype.debugData=function(){var t={};for(var e in this.moduleRegistry){var n=this.moduleRegistry[e];n&&(t[n.name]||(t[n.name]=[]),t[n.name].push(this.store[e]))}return Object.freeze(t)},t.prototype.onDataUpdate=function(t,e,n){var r=this,i=this.typeLookup.getIndexByType(t);return n&&-1!==i?e(this.getData(t)):i=this.typeLookup.getIndexByType(t,!0),this.callbacks[i]||(this.callbacks[i]=[]),this.callbacks[i].push(e),{renew:function(){return null},cancel:function(){return r.removeOnDataUpdate(t,e)},active:!0}},t.prototype.removeOnDataUpdate=function(t,e){var n=this.typeLookup.getIndexByType(t);if(-1!==n){var r=this.callbacks[n],i=r.indexOf(e);r.splice(i,1)}},t.prototype.getModuleNameFromData=function(t){var e=this.typeLookup.getIndexByType(t);if(-1!==e){var n=this.moduleRegistry[e];if(n)return n.name}throw Error("Data not present.")},t}(),b=n(140),g=n(82),_=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},w=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},O=function(){function t(){var t=this;this.typeLookup=new i.a,this.bindings=[],this.queuedCommands={},this.hookedCommands={},this.resetHooks=function(){t.hookedCommands={}}}return t.prototype.addBinding=function(t,e){var n=this,r=this.typeLookup.getIndexByType(t,!0);if(this.bindings[r])throw Error("Command already bound to a callback");return this.bindings[r]=e,this.callQueuedCommands(r),{renew:function(){n.bindings[r]!==e&&n.addBinding(t,e)},cancel:function(){return n.removeBinding(t,e)},active:this.bindings[r]===e}},t.prototype.removeBinding=function(t,e){var n=this.typeLookup.getIndexByType(t);if(-1===n)throw Error("Trying to unbind unbound command");if(this.bindings[n]!==e)throw Error("Trying to unbind unbound callback");delete this.bindings[n]},t.prototype.issueCommand=function(t,e){void 0===e&&(e=!0);var n=this.typeLookup.getIndexByInstance(t),r=this.bindings[n];return r?this.issueCommandHelper(t,n,r,e):Promise.reject("Command not bound: "+t.id)},t.prototype.issueCommandHelper=function(t,e,n,r){if(void 0===r&&(r=!0),this.hookedCommands[e]&&!this.hookedCommands[e].resolving)return this.issueHookCommand(t,e);var i=n(t.payload);return r&&i.catch(function(e){Object(g.c)(e,"Error running command: "+t.id)}),i},t.prototype.issueCommandWhenBound=function(t){var e=this,n=new c.a;return this.issueCommand(t).then(function(t){return n.resolve(t)}).catch(function(r){var i=e.typeLookup.getIndexByInstance(t,!0);e.queuedCommands[i]||(e.queuedCommands[i]=[]),e.queuedCommands[i].push({command:t,deferred:n})}),n.nativePromise()},t.prototype.callQueuedCommands=function(t){var e=this,n=[];this.queuedCommands[t]&&(this.queuedCommands[t].forEach(function(t){n.push(e.issueCommand(t.command).then(function(e){return t.deferred.resolve(e)}))}),Promise.all(n).then(function(){delete e.queuedCommands[t]}))},t.prototype.hookCommand=function(t,e,n){var r=this.typeLookup.getIndexByType(t,!0);if(this.hookedCommands[r]){if(e&&null!==this.hookedCommands[r].preCommandCallback)throw Error("Command "+t.name+" has already been pre hooked");if(!e&&null!==this.hookedCommands[r].postCommandCallback)throw Error("Command "+t.name+" has already been post hooked")}else this.hookedCommands[r]={preCommandCallback:null,postCommandCallback:null,resolving:!1};e?this.hookedCommands[r].preCommandCallback=n:this.hookedCommands[r].postCommandCallback=n},t.prototype.issueHookCommand=function(t,e){return _(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return w(this,function(c){switch(c.label){case 0:n=this.hookedCommands[e],r=this.bindings[e],i=t.payload,o=n.preCommandCallback,s=n.postCommandCallback,c.label=1;case 1:return c.trys.push([1,9,,10]),o?[4,o(i)]:[3,3];case 2:return c.sent(),[3,4];case 3:Promise.resolve(),c.label=4;case 4:return n.resolving=!0,[4,this.issueCommandHelper(t,e,r,!0)];case 5:return c.sent(),n.resolving=!1,s?[4,s(i)]:[3,7];case 6:return a=c.sent(),[3,8];case 7:a=Promise.resolve(),c.label=8;case 8:return[2,a];case 9:throw u=c.sent(),Error("Could not completely issueHookCommand - "+u);case 10:return[2]}})})},t}(),x=n(18),E=n(54),S=n(151),P=n(61),R=n(55),I=n(69),T=n(27),M=n(5),A=function(){function t(){this.phaseTimes=[],this.modules={},this.addAppPhase(M.a.UNINITIALIZED),window.profilingData={phaseTimes:this.phaseTimes,modules:this.modules}}return t.prototype.addAppPhase=function(t){this.phaseTimes[t]=Date.now()},t.prototype.addModuleLoadTime=function(t,e,n,r){var i=r.map(function(t){return t.moduleName}).join(","),o=r.reduce(function(t,e){return t+e.finishAwait-e.startAwait},0)/(n-e)*100;this.modules[t]=[t,t,null,e,n,null,o,i]},t}(),L=n(25),k=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},C=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},j=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},D=new l.a("engine"),N=x.a.End,z=function(){function t(t){void 0===t&&(t=!1);var e=this;this.moduleLookup=[],this.componentLookup={},this.deactivatedHack=!1,this.currentApplication=null,this.moduleProfiler=new A,this.commandBinder=new O,this.market=new v(this),this.messageBus=new b.a,this.engineGenerators=new E.d,this.layers=new S.a,this.moduleLoader=new p,this.registerModule({type:T.default,promise:function(){return Promise.resolve(n(27))}}),this.registerModule({type:P.default,promise:function(){return Promise.resolve(n(61))}}),this.registerModule({type:I.default,promise:function(){return Promise.resolve(n(69))}}),this.registerModule({type:R.default,promise:function(){return Promise.resolve(n(55))}}),this.loadModules([{type:T.default},{type:P.default,config:{useGUI:!t}},{type:I.default},{type:R.default}]),this.afterPhasePromises=[],this.afterPhaseListenerCount=[],this.resetPromises(),this.subscribe(L.a,function(t){return e.moduleProfiler.addAppPhase(t.phase)})}return t.prototype.loadApplication=function(t){return k(this,void 0,Promise,function(){var e,n,r,i,o,s,a,u,c,l,h,f,p,d,y,m,v,b;return C(this,function(g){switch(g.label){case 0:if(t===this.currentApplication)throw Error("Application already loaded");o=(this.currentApplication?this.currentApplication.getManifest():[]).map(function(t){return t.type}),s=t.getManifest(),a=s.map(function(t){return t.type}),u=this.currentApplication,this.currentApplication=null,c=o.filter(function(t){return-1===a.indexOf(t)});try{for(l=j(c),h=l.next();!h.done;h=l.next())f=h.value,this.unloadModule(f)}catch(t){e={error:t}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}p=s.filter(function(t){return-1===o.indexOf(t.type)});try{for(d=j(p),y=d.next();!y.done;y=d.next())m=y.value,this.moduleLoader.moduleRegistered(m.type)||this.registerModule(m)}catch(t){r={error:t}}finally{try{y&&!y.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}if(!u)return[3,4];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,u.unload(this)];case 2:return g.sent(),[3,4];case 3:return v=g.sent(),D.error(v),this.getModuleSync(T.default).updateAppPhase(M.a.ERROR,v),[3,4];case 4:return g.trys.push([4,6,,7]),this.currentApplication=t,[4,t.load(this,null===u)];case 5:return g.sent(),[3,7];case 6:return b=g.sent(),D.error(b),this.getModuleSync(T.default).updateAppPhase(M.a.ERROR,b),[3,7];case 7:return[2]}})})},t.prototype.registerModule=function(t){if(this.currentApplication)throw Error("Cannot register modules while application is running");this.moduleLoader.registerModule(t.type,t.promise)},t.prototype.loadModules=function(t){var e,n,r=this,i=[],o=function(t){s.moduleLoadInjectionHook&&(t.config=s.moduleLoadInjectionHook(t.type,t.config));var e=new a(s),n=Date.now(),o=s.moduleLoader.loadModule(e,t.type,t.config);o.ctorPromise.then(function(e){return r.moduleLookup[r.moduleLoader.getTypeID(t.type)]={module:e,initialized:!1}}),o.initPromise.then(function(i){r.moduleProfiler.addModuleLoadTime(i.name,n,Date.now(),e.getLoadedDependencies()),r.moduleLookup[r.moduleLoader.getTypeID(t.type)].initialized=!0}),i.push(o.initPromise.nativePromise())},s=this;try{for(var u=j(t),c=u.next();!c.done;c=u.next()){o(c.value)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return Promise.all(i)},t.prototype.setLoadInjection=function(t){if(this.moduleLoadInjectionHook)throw Error("Hook already registered");this.moduleLoadInjectionHook=t},t.prototype.unloadModule=function(t){return k(this,void 0,void 0,function(){var e,n,r=this;return C(this,function(i){switch(i.label){case 0:return e=this.getModuleSync(t),n=this.getModuleIndex(e),this.componentLookup[n]?[4,Promise.all(this.componentLookup[n].map(function(t){return k(r,void 0,void 0,function(){return C(this,function(n){switch(n.label){case 0:return[4,this.removeComponent(e,t.component)];case 1:return n.sent(),t.component.dispose(),[2]}})})}))]:[3,2];case 1:i.sent(),this.componentLookup[n]=[],i.label=2;case 2:return this.moduleLoader.unloadModule(t),e.dispose(this),[2]}})})},t.prototype.waitForModule=function(t){return this.moduleLoader.getModule(t)},t.prototype.waitForLoadingModules=function(){return this.moduleLoader.whenQueueEmpties()},t.prototype.getModule=function(t){return k(this,void 0,Promise,function(){return C(this,function(e){return[2,this.moduleLoader.getModule(t)]})})},t.prototype.getModuleByParent=function(t){return k(this,void 0,Promise,function(){return C(this,function(e){return[2,this.moduleLoader.getModuleByParent(t)]})})},t.prototype.getModuleSync=function(t){return this.moduleLoader.getModuleSync(t)},t.prototype.getComponentByType=function(t){var e,n;for(var r in this.moduleLookup){var i=this.moduleLookup[r].module,o=this.getModuleIndex(i),s=this.componentLookup[o]||[];try{for(var a=j(s),u=a.next();!u.done;u=a.next()){var c=u.value;if(c.component instanceof t)return c.component}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}}return null},t.prototype.addComponent=function(t,e){return k(this,void 0,void 0,function(){var n,r,i,o;return C(this,function(s){switch(s.label){case 0:for(n=this.getModuleIndex(t),(r=this.componentLookup[n])||(this.componentLookup[n]=r=[]),i=-1,o=0;o<r.length;o++)if(r[o].component===e){i=o;break}if(-1===i&&(i=r.push({component:e,active:!1})-1,e.init()),r[i].active)throw Error("Tried to add already active component: "+typeof e);return[4,e.activate(this)];case 1:return s.sent(),r[i].active=!0,[2]}})})},t.prototype.removeComponent=function(t,e){return k(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return C(this,function(l){switch(l.label){case 0:if(i=this.getModuleIndex(t),!(o=this.componentLookup[i]))return[3,2];s=null;try{for(a=j(o),u=a.next();!u.done;u=a.next())if((c=u.value).component===e){s=c;break}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return s&&s.active?[4,e.deactivate(this)]:[3,2];case 1:l.sent(),s.active=!1,l.label=2;case 2:return[2]}})})},t.prototype.tick=function(){var t,e;if(!this.deactivatedHack){if(N!==x.a.End)throw Error("Engine.tick called outside of waiting. Did the engine get called recursively?!");N=x.a.Begin,this.resolveAfterPhase(x.a.Begin);var n=performance.now(),r=this.lastTick?n-this.lastTick:16;this.lastTick=n,N=x.a.Logic;try{try{for(var i=j(this.moduleLookup),o=i.next();!o.done;o=i.next()){var s=o.value;s&&s.initialized&&s.module.onUpdate(r)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}}catch(t){throw D.error(t.message),t}this.market.triggerCallbacks(),this.resolveAfterPhase(x.a.Logic),this.engineGenerators.processGenerators(E.a.Phase,x.a.Logic);try{this.renderComponents(r)}catch(t){throw D.error(t.message),t}try{N=x.a.Render,this.resolveAfterPhase(x.a.Render),this.engineGenerators.processGenerators(E.a.Phase,x.a.Render),N=x.a.End,this.resolveAfterPhase(x.a.End),this.engineGenerators.processGenerators(E.a.None),this.engineGenerators.processGenerators(E.a.Promise),this.engineGenerators.processGenerators(E.a.Duration)}catch(t){throw D.error(t.message),t}}},t.prototype.subscribe=function(t,e,n){return void 0===n&&(n=b.b.PERMANENT),this.messageBus.subscribe(t,e,n)},t.prototype.unsubscribe=function(t,e){this.messageBus.unsubscribe(t,e)},t.prototype.broadcast=function(t){this.messageBus.broadcast(t)},t.prototype.claimRenderLayer=function(t){return this.layers.claimLayer(t)},t.prototype.getRenderLayer=function(t){return this.layers.getLayer(t)},t.prototype.disposeRenderLayer=function(t){this.layers.disposeLayer(t)},t.prototype.startGenerator=function(t){this.engineGenerators.startGenerator(t)},t.prototype.stopGenerator=function(t){this.engineGenerators.stopGenerator(t)},t.prototype.after=function(t){return this.afterPhaseListenerCount[t]++,this.afterPhasePromises[t].nativePromise()},t.prototype.getModuleIndex=function(t){for(var e=0;e<this.moduleLookup.length;e++)if(this.moduleLookup[e]&&this.moduleLookup[e].module===t)return e;return-1},t.prototype.getComponents=function(){var t,e,n,r,i,o,s,a,u,c;return C(this,function(l){switch(l.label){case 0:for(r in n=[],this.moduleLookup)n.push(r);i=0,l.label=1;case 1:if(!(i<n.length))return[3,10];if(o=n[i],!(s=this.componentLookup[o]))return[3,9];l.label=2;case 2:l.trys.push([2,7,8,9]),a=j(s),u=a.next(),l.label=3;case 3:return u.done?[3,6]:[4,u.value];case 4:l.sent(),l.label=5;case 5:return u=a.next(),[3,3];case 6:return[3,9];case 7:return c=l.sent(),t={error:c},[3,9];case 8:try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}return[7];case 9:return i++,[3,1];case 10:return[2]}})},t.prototype.renderComponents=function(t){var e,n,r,i;for(var o in this.moduleLookup){if(u=this.componentLookup[o])try{for(var s=j(u),a=s.next();!a.done;a=s.next()){(h=a.value).active&&h.component.beforeRender&&h.component.beforeRender(t)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}}for(var o in this.moduleLookup){var u;if(o)if(u=this.componentLookup[o])try{for(var c=j(u),l=c.next();!l.done;l=c.next()){var h;(h=l.value).active&&h.component.render(t)}}catch(t){r={error:t}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}},t.prototype.resetPromises=function(){this.resetAfterPhasePromises()},t.prototype.resetAfterPhasePromises=function(){this.resetAfterPhasePromise(x.a.Logic),this.resetAfterPhasePromise(x.a.Render),this.resetAfterPhasePromise(x.a.Begin),this.resetAfterPhasePromise(x.a.End)},t.prototype.resetAfterPhasePromise=function(t){this.afterPhasePromises[t]=new c.a,this.afterPhaseListenerCount[t]=0},t.prototype.resolveAfterPhase=function(t){this.afterPhaseListenerCount[t]>0&&(this.afterPhasePromises[t].resolve(),this.resetAfterPhasePromise(t))},t.prototype.deactivate=function(){var t,e;this.getModuleSync(R.default).clearInterface();try{for(var n=j(this.moduleLookup),r=n.next();!r.done;r=n.next()){var i=r.value;if(i&&i.initialized){var o=this.getModuleType(i.module);o&&this.unloadModule(o)}}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.deactivatedHack=!0},t.prototype.getModuleType=function(t){for(var e=0;e<this.moduleLookup.length;e++){var n=this.moduleLookup[e];if(n&&n.module===t)return this.moduleLoader.getTypeFromTypeID(e)}return null},Object.defineProperty(t.prototype,"msgBus",{get:function(){return this.messageBus},enumerable:!0,configurable:!0}),t}();e.a=z},,function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(245),o=n(244);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){o.isString(t)&&(t=_(t));return t instanceof s?t.format():s.prototype.format.call(t)},e.Url=s;var a=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(l),f=["%","/","?",";","#"].concat(h),p=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=n(243);function _(t,e,n){if(t&&o.isObject(t)&&t instanceof s)return t;var r=new s;return r.parse(t,e,n),r}s.prototype.parse=function(t,e,n){if(!o.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+r(t));var s=t.indexOf("?"),u=-1!==s&&s<t.indexOf("#")?"?":"#",l=t.split(u);l[0]=l[0].replace(/\\/g,"/");var _=t=l.join(u);if(_=_.trim(),!n&&1===t.split("#").length){var w=c.exec(_);if(w)return this.path=_,this.href=_,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var O=a.exec(_);if(O){var x=(O=O[0]).toLowerCase();this.protocol=x,_=_.substr(O.length)}if(n||O||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===_.substr(0,2);!E||O&&v[O]||(_=_.substr(2),this.slashes=!0)}if(!v[O]&&(E||O&&!b[O])){for(var S,P,R=-1,I=0;I<p.length;I++){-1!==(T=_.indexOf(p[I]))&&(-1===R||T<R)&&(R=T)}-1!==(P=-1===R?_.lastIndexOf("@"):_.lastIndexOf("@",R))&&(S=_.slice(0,P),_=_.slice(P+1),this.auth=decodeURIComponent(S)),R=-1;for(I=0;I<f.length;I++){var T;-1!==(T=_.indexOf(f[I]))&&(-1===R||T<R)&&(R=T)}-1===R&&(R=_.length),this.host=_.slice(0,R),_=_.slice(R),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var A=this.hostname.split(/\./),L=(I=0,A.length);I<L;I++){var k=A[I];if(k&&!k.match(d)){for(var C="",j=0,D=k.length;j<D;j++)k.charCodeAt(j)>127?C+="x":C+=k[j];if(!C.match(d)){var N=A.slice(0,I),z=A.slice(I+1),B=k.match(y);B&&(N.push(B[1]),z.unshift(B[2])),z.length&&(_="/"+z.join(".")+_),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=i.toASCII(this.hostname));var H=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+H,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!m[x])for(I=0,L=h.length;I<L;I++){var V=h[I];if(-1!==_.indexOf(V)){var F=encodeURIComponent(V);F===V&&(F=escape(V)),_=_.split(V).join(F)}}var q=_.indexOf("#");-1!==q&&(this.hash=_.substr(q),_=_.slice(0,q));var G=_.indexOf("?");if(-1!==G?(this.search=_.substr(G),this.query=_.substr(G+1),e&&(this.query=g.parse(this.query)),_=_.slice(0,G)):e&&(this.search="",this.query={}),_&&(this.pathname=_),b[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){H=this.pathname||"";var K=this.search||"";this.path=H+K}return this.href=this.format(),this},s.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(s=g.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||b[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+i+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+r},s.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},s.prototype.resolveObject=function(t){if(o.isString(t)){var e=new s;e.parse(t,!1,!0),t=e}for(var n=new s,r=Object.keys(this),i=0;i<r.length;i++){var a=r[i];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=t[l])}return b[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!b[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var p=h[f];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||v[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var y=n.pathname||"",m=n.search||"";n.path=y+m}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=_||g||n.host&&t.pathname,O=w,x=n.pathname&&n.pathname.split("/")||[],E=(d=t.pathname&&t.pathname.split("/")||[],n.protocol&&!b[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===x[0]?x[0]=n.host:x.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(""===d[0]||""===x[0])),_)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,x=d;else if(d.length)x||(x=[]),x.pop(),x=x.concat(d),n.search=t.search,n.query=t.query;else if(!o.isNullOrUndefined(t.search)){if(E)n.hostname=n.host=x.shift(),(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift());return n.search=t.search,n.query=t.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!x.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=x.slice(-1)[0],P=(n.host||t.host||x.length>1)&&("."===S||".."===S)||""===S,R=0,I=x.length;I>=0;I--)"."===(S=x[I])?x.splice(I,1):".."===S?(x.splice(I,1),R++):R&&(x.splice(I,1),R--);if(!w&&!O)for(;R--;R)x.unshift("..");!w||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),P&&"/"!==x.join("/").substr(-1)&&x.push("");var T,M=""===x[0]||x[0]&&"/"===x[0].charAt(0);E&&(n.hostname=n.host=M?"":x.length?x.shift():"",(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift()));return(w=w||n.host&&x.length)&&!M&&x.unshift(""),x.length?n.pathname=x.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},s.prototype.parseHost=function(){var t=this.host,e=u.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},,,,,,function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e);var r,i=n(0),o=n(25),s=n(27),a=n(5),u=n(19),c=n(139),l=function(){function t(t){this.lastProgress=0,this.currentProgress=0,this.webpackChunks=[],this.meshAlloc={alloc:2e6,loaded:0},this.showingProgress=!1,this.progressElm=document.getElementById("bar"),window.addEventListener("WebpackChunkProgress",this.onWebpackChunkProgress.bind(this)),this.engine=t,this.meshProgressBinding=this.onMeshLoadProgress.bind(this),this.engine.subscribe(c.a,this.meshProgressBinding)}return t.prototype.showProgress=function(){this.showingProgress=!0,this.setProgress(this.currentProgress)},t.prototype.setDone=function(){this.currentProgress=100,this.setProgress(this.currentProgress),this.engine.unsubscribe(c.a,this.meshProgressBinding)},t.prototype.setProgress=function(t){if(this.progressElm&&!isNaN(t)){this.lastProgress=Math.max(this.lastProgress,t),t=this.lastProgress;var e=Number.parseFloat(this.progressElm.getAttribute("r")||"0"),n=Math.PI*(2*e),r=(100-(t=Math.max(Math.min(t,100),0)))/100*n;this.progressElm.style.strokeDashoffset=r.toString(10)}},t.prototype.calcProgress=function(){var t=0,e=0;this.webpackChunks.forEach(function(n){t+=n.loaded,e+=n.total}),t+=this.meshAlloc.loaded,e+=this.meshAlloc.alloc,this.currentProgress=75*Math.min(t/e,1),this.showingProgress&&this.setProgress(this.currentProgress)},t.prototype.onWebpackChunkProgress=function(t){this.webpackChunks[t.chunkID]?this.webpackChunks[t.chunkID].loaded=t.loaded:this.webpackChunks[t.chunkID]={loaded:t.loaded,total:t.total},this.calcProgress()},t.prototype.onMeshLoadProgress=function(t){this.meshAlloc.loaded=t.loaded/t.total*this.meshAlloc.alloc,this.calcProgress()},t}(),h=n(8),f=n(92),p=(n(248),n(14)),d=n(138),y=n(3),m=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},b=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},g=new y.a("loading-gui"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="loading-ui",e.playPromise=new u.a,e}return m(e,t),e.prototype.init=function(t,e){return v(this,void 0,void 0,function(){var n,r,u;return b(this,function(c){switch(c.label){case 0:return this.engine=e,n=this,[4,e.getModule(i.H)];case 1:return n.locale=c.sent(),[4,t.modelDetailsStore.read()];case 2:return r=c.sent(),[4,e.getModule(s.default)];case 3:return u=c.sent(),this.config={quickstart:!!t.quickstart,autoplay:!!t.autoplay,startNewTab:!!t.startNewTab,hideTitle:!!t.hideTitle,hideBranding:!!t.hideBranding,sid:t.sid,baseUrl:t.baseUrl},this.progressUI=new l(e),this.hideUI=this.hideUI.bind(this),this.resolvePlayPromise=this.resolvePlayPromise.bind(this),this.bindings.push(this.engine.subscribe(o.a,this.hideUI)),this.showPlayButton(r),u.updateAppPhase(a.a.WAITING),this.bindings.push(e.commandBinder.addBinding(d.a,this.resolvePlayPromise)),[2,this.playPromise.nativePromise()]}})})},e.prototype.getLoadingElements=function(){if(this.uiRoot=document.getElementById("loading-gui"),!this.uiRoot)throw Error("Loading GUI root not found");this.uiRoot.classList.remove("hidden"),this.config.quickstart&&(this.uiRoot.style.pointerEvents="none"),this.presentedBy=document.getElementById("loading-presented-by"),this.mpLogo=document.getElementById("loading-logo"),this.mpLogo.src=n(246),this.nameHeader=document.getElementById("loading-header"),this.background=document.getElementById("loading-background"),this.tint=document.getElementById("tint"),this.playIcon=document.getElementById("showcase-play")},e.prototype.addCobrand=function(t){if(t&&t.presented_by){var e=document.createElement("div");e.textContent=this.locale.t(f.a.PRESENTED_BY_CAPS),this.presentedBy.appendChild(e);var n=document.createElement("h3");n.textContent=t.presented_by,this.presentedBy.appendChild(n)}},e.prototype.hidePlayButtonUI=function(){this.background.style.backgroundImage="",this.presentedBy.style.transition="none",this.presentedBy.classList.remove("fadeIn"),this.mpLogo.style.transition="none",this.mpLogo.classList.remove("fadeIn"),this.nameHeader.classList.add("hidden"),this.tint.classList.add("hidden"),document.getElementById("circleLoader").classList.add("hidden"),this.uiRoot.classList.add("quickstart")},e.prototype.showQuickstartUI=function(){return v(this,void 0,Promise,function(){return b(this,function(t){switch(t.label){case 0:return this.getLoadingElements(),this.background.classList.add("fadeOut"),[4,Object(p.d)(500)];case 1:return t.sent(),this.presentedBy.style.transition="",this.presentedBy.classList.add("fadeIn"),this.mpLogo.style.transition="",this.mpLogo.classList.add("fadeIn"),[4,Object(p.d)(2500)];case 2:return t.sent(),this.presentedBy.classList.remove("fadeIn"),this.mpLogo.classList.remove("fadeIn"),this.uiRoot.classList.add("fadeOut"),[2]}})})},e.prototype.showLoadingUI=function(t){var e=document.createAttribute("data-status");e.value=this.locale.t(f.a.LOADING);var n=document.getElementById("loader-cont");n.attributes.setNamedItem(e),n.classList.add(this.locale.languageCode),t.classList.add("fadeOut"),this.presentedBy.classList.add("fadeIn")},e.prototype.showPlayButton=function(t){var e=this;this.getLoadingElements();var n=document.getElementById("loading-subheader");this.config.hideTitle&&this.nameHeader.classList.add("hidden"),this.config.hideBranding||this.addCobrand(t),this.nameHeader.textContent=t.name,this.uiRoot.appendChild(this.nameHeader),this.mpLogo.classList.add("fadeIn"),this.tint.classList.add("fadeIn"),this.playPromise.then(function(){e.config.quickstart?e.hidePlayButtonUI():e.showLoadingUI(n)}),this.config.autoplay?(this.progressUI.showProgress(),this.playPromise.resolve()):(n.classList.remove("hidden"),n.innerText=this.locale.t(f.a.EXPLORE_3D_SPACE),this.playIcon.classList.remove("hidden"),this.uiRoot.addEventListener("click",this.resolvePlayPromise));var r=window.devicePixelRatio||1,i=Math.max(window.innerWidth,400);this.background.style.backgroundImage="url("+this.config.baseUrl+"/api/v1/player/models/"+this.config.sid+"/thumb?width="+i+"&dpr="+r+"&disable=upscale)"},e.prototype.resolvePlayPromise=function(){return v(this,void 0,void 0,function(){return b(this,function(t){if(Object(h.k)()){if(this.config.startNewTab)return window.open(self.location.href,"_blank"),[2];try{return top.location.href=self.location.href,[2]}catch(t){g.debug("Couldn't set top window location; was Showcase sandboxed?"),g.debug(t)}}return this.playIcon.classList.add("hidden"),this.progressUI.showProgress(),this.playPromise.resolve(),[2]})})},e.prototype.hideUI=function(t){return v(this,void 0,Promise,function(){return b(this,function(e){return t.phase!==a.a.STARTING&&t.phase!==a.a.PLAYING&&t.phase!==a.a.ERROR||(this.progressUI.setDone(),this.engine.unsubscribe(o.a,this.hideUI),this.config.quickstart?this.showQuickstartUI():this.uiRoot.classList.add("fadeOut")),[2]})})},e}(i.G);e.default=_},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=function(t){switch(r(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,u){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"===r(t)?s(a(t),function(r){var a=encodeURIComponent(i(r))+n;return o(t[r])?s(t[r],function(t){return a+encodeURIComponent(i(t))}).join(e):a+encodeURIComponent(i(t[r]))}).join(e):u?encodeURIComponent(i(u))+n+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function s(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var h,f,p,d,y=t[l].replace(a,"%20"),m=y.indexOf(n);m>=0?(h=y.substr(0,m),f=y.substr(m+1)):(h=y,f=""),p=decodeURIComponent(h),d=decodeURIComponent(f),r(s,p)?i(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";e.decode=e.parse=n(242),e.encode=e.stringify=n(241)},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"===r(t)&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){(function(t,r){var i;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*! https://mths.be/punycode v1.3.2 by @mathias */!function(s){var a="object"==o(e)&&e&&!e.nodeType&&e,u="object"==o(t)&&t&&!t.nodeType&&t,c="object"==(void 0===r?"undefined":o(r))&&r;c.global!==c&&c.window!==c&&c.self!==c||(s=c);var l,h,f=2147483647,p=36,d=1,y=26,m=38,v=700,b=72,g=128,_="-",w=/^xn--/,O=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=p-d,P=Math.floor,R=String.fromCharCode;function I(t){throw RangeError(E[t])}function T(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function M(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+T((t=t.replace(x,".")).split("."),e).join(".")}function A(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function L(t){return T(t,function(t){var e="";return t>65535&&(e+=R((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=R(t)}).join("")}function k(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function C(t,e,n){var r=0;for(t=n?P(t/v):t>>1,t+=P(t/e);t>S*y>>1;r+=p)t=P(t/S);return P(r+(S+1)*t/(t+m))}function j(t){var e,n,r,i,o,s,a,u,c,l,h,m=[],v=t.length,w=0,O=g,x=b;for((n=t.lastIndexOf(_))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&I("not-basic"),m.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(o=w,s=1,a=p;i>=v&&I("invalid-input"),((u=(h=t.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:p)>=p||u>P((f-w)/s))&&I("overflow"),w+=u*s,!(u<(c=a<=x?d:a>=x+y?y:a-x));a+=p)s>P(f/(l=p-c))&&I("overflow"),s*=l;x=C(w-o,e=m.length+1,0==o),P(w/e)>f-O&&I("overflow"),O+=P(w/e),w%=e,m.splice(w++,0,O)}return L(m)}function D(t){var e,n,r,i,o,s,a,u,c,l,h,m,v,w,O,x=[];for(m=(t=A(t)).length,e=g,n=0,o=b,s=0;s<m;++s)(h=t[s])<128&&x.push(R(h));for(r=i=x.length,i&&x.push(_);r<m;){for(a=f,s=0;s<m;++s)(h=t[s])>=e&&h<a&&(a=h);for(a-e>P((f-n)/(v=r+1))&&I("overflow"),n+=(a-e)*v,e=a,s=0;s<m;++s)if((h=t[s])<e&&++n>f&&I("overflow"),h==e){for(u=n,c=p;!(u<(l=c<=o?d:c>=o+y?y:c-o));c+=p)O=u-l,w=p-l,x.push(R(k(l+O%w,0))),u=P(O/w);x.push(R(k(u,0))),o=C(n,v,r==i),n=0,++r}++n,++e}return x.join("")}if(l={version:"1.3.2",ucs2:{decode:A,encode:L},decode:j,encode:D,toASCII:function(t){return M(t,function(t){return O.test(t)?"xn--"+D(t):t})},toUnicode:function(t){return M(t,function(t){return w.test(t)?j(t.slice(4).toLowerCase()):t})}},"object"==o(n(120))&&n(120))void 0===(i=function(){return l}.call(e,n,e,t))||(t.exports=i);else if(a&&u)if(t.exports==a)u.exports=l;else for(h in l)l.hasOwnProperty(h)&&(a[h]=l[h]);else s.punycode=l}(this)}).call(this,n(239)(t),n(97))},function(t,e,n){t.exports=n.p+"images/poweredByLogo.png"},,function(t,e,n){},,function(t,e,n){},function(t,e){Math.sign||(Math.sign=function(t){return t>0?1:0===t?0:-1}),Number.parseInt||(Number.parseInt=window.parseInt),Number.parseFloat||(Number.parseFloat=window.parseFloat),Math.log2||(Math.log2=function(t){return Math.log(t)*Math.LOG2E}),String.prototype.includes||(String.prototype.includes=function(t,e){"use strict";return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)});var n=Object.keys;Object.keys=function(t){switch(typeof t){case"string":for(var e=[],r=0;r<t.length;r++)e.push(r.toString());return e;case"boolean":case"number":case"function":return[];default:return n(t)}},Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(t){if(null==this)throw new TypeError("this is null or not defined");for(var e=Object(this),n=e.length>>>0,r=arguments[1]>>0,i=r<0?Math.max(n+r,0):Math.min(r,n),o=arguments[2],s=void 0===o?n:o>>0,a=s<0?Math.max(n+s,0):Math.min(s,n);i<a;)e[i]=t,i++;return e}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=e[i];if(t.call(r,o,i,e))return o;i++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=e[i];if(t.call(r,o,i,e))return i;i++}return-1}})},function(t,e,n){"use strict";n(125)()||Object.defineProperty(n(124),"Symbol",{value:n(123),configurable:!0,enumerable:!1,writable:!0})},function(t,e,n){var r=n(65),i=n(211),o=n(99)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(254);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(255),i=n(226),o=n(210),s=n(215),a=n(253),u=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,l=4==t,h=6==t,f=5==t||h;return function(p,d,y,m){for(var v,b,g=o(p),_=i(g),w=r(d,y,3),O=s(_.length),x=0,E=m||a,S=e?E(p,O):n?E(p,0):void 0;O>x;x++)if((f||x in _)&&(b=w(v=_[x],x,g),t))if(e)S[x]=b;else if(b)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:u.call(S,v)}else if(l)return!1;return h?-1:c||l?l:S}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(t,e,n){var r=n(64).f,i=n(43),o=n(99)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(128),i=n(43),o=n(208),s=n(64).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||s(e,t,{value:o.f(t)})}},function(t,e,n){var r=n(79),i=n(127).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(217);t.exports=r("document","documentElement")},function(t,e,n){var r=n(67),i=n(64),o=n(77),s=n(209);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=s(e),a=r.length,u=0;a>u;)i.f(t,n=r[u++],e[n]);return t}},function(t,e,n){var r=n(77),i=n(261),o=n(126),s=n(100),a=n(260),u=n(222),c=n(130)("IE_PROTO"),l=function(){},h=function(){var t,e=u("iframe"),n=o.length;for(e.style.display="none",a.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),h=t.F;n--;)delete h.prototype[o[n]];return h()};t.exports=Object.create||function(t,e){var n;return null!==t?(l.prototype=r(t),n=new l,l.prototype=null,n[c]=t):n=h(),void 0===e?n:i(n,e)},s[c]=!0},function(t,e,n){var r=n(66),i=/#|\.prototype\./,o=function(t,e){var n=a[s(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},function(t,e,n){var r=n(214),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e,n){var r=n(79),i=n(215),o=n(264),s=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),l=o(s,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e,n){var r=n(217),i=n(127),o=n(213),s=n(77);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(43),i=n(266),o=n(134),s=n(64);t.exports=function(t,e){for(var n=i(e),a=s.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(t,l)||a(t,l,u(e,l))}}},function(t,e,n){var r=n(32),i=n(219),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i.call(o))},function(t,e,n){var r=n(32),i=n(134).f,o=n(78),s=n(221),a=n(131),u=n(267),c=n(263);t.exports=function(t,e){var n,l,h,f,p,d=t.target,y=t.global,m=t.stat;if(n=y?r:m?r[d]||a(d,{}):(r[d]||{}).prototype)for(l in e){if(f=e[l],h=t.noTargetGet?(p=i(n,l))&&p.value:n[l],!c(y?l:d+(m?".":"#")+l,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;u(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),s(n,l,f,t)}}},function(t,e,n){"use strict";var r=n(269),i=n(32),o=n(220),s=n(67),a=n(212),u=n(66),c=n(43),l=n(211),h=n(65),f=n(77),p=n(210),d=n(79),y=n(132),m=n(133),v=n(262),b=n(209),g=n(127),_=n(259),w=n(213),O=n(134),x=n(64),E=n(227),S=n(78),P=n(221),R=n(76),I=n(130),T=n(100),M=n(129),A=n(99),L=n(208),k=n(258),C=n(257),j=n(218),D=n(256).forEach,N=I("hidden"),z=A("toPrimitive"),B=j.set,H=j.getterFor("Symbol"),U=Object.prototype,V=i.Symbol,F=i.JSON,q=F&&F.stringify,G=O.f,K=x.f,W=_.f,Y=E.f,X=R("symbols"),Q=R("op-symbols"),Z=R("string-to-symbol-registry"),$=R("symbol-to-string-registry"),J=R("wks"),tt=i.QObject,et=!tt||!tt.prototype||!tt.prototype.findChild,nt=s&&u(function(){return 7!=v(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=G(U,e);r&&delete U[e],K(t,e,n),r&&t!==U&&K(U,e,r)}:K,rt=function(t,e){var n=X[t]=v(V.prototype);return B(n,{type:"Symbol",tag:t,description:e}),s||(n.description=e),n},it=a&&"symbol"==typeof V.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof V},ot=function(t,e,n){t===U&&ot(Q,e,n),f(t);var r=y(e,!0);return f(n),c(X,r)?(n.enumerable?(c(t,N)&&t[N][r]&&(t[N][r]=!1),n=v(n,{enumerable:m(0,!1)})):(c(t,N)||K(t,N,m(1,{})),t[N][r]=!0),nt(t,r,n)):K(t,r,n)},st=function(t,e){f(t);var n=d(e),r=b(n).concat(lt(n));return D(r,function(e){s&&!at.call(n,e)||ot(t,e,n[e])}),t},at=function(t){var e=y(t,!0),n=Y.call(this,e);return!(this===U&&c(X,e)&&!c(Q,e))&&(!(n||!c(this,e)||!c(X,e)||c(this,N)&&this[N][e])||n)},ut=function(t,e){var n=d(t),r=y(e,!0);if(n!==U||!c(X,r)||c(Q,r)){var i=G(n,r);return!i||!c(X,r)||c(n,N)&&n[N][r]||(i.enumerable=!0),i}},ct=function(t){var e=W(d(t)),n=[];return D(e,function(t){c(X,t)||c(T,t)||n.push(t)}),n},lt=function(t){var e=t===U,n=W(e?Q:d(t)),r=[];return D(n,function(t){!c(X,t)||e&&!c(U,t)||r.push(X[t])}),r};a||(P((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=M(t),n=function(t){this===U&&n.call(Q,t),c(this,N)&&c(this[N],e)&&(this[N][e]=!1),nt(this,e,m(1,t))};return s&&et&&nt(U,e,{configurable:!0,set:n}),rt(e,t)}).prototype,"toString",function(){return H(this).tag}),E.f=at,x.f=ot,O.f=ut,g.f=_.f=ct,w.f=lt,s&&(K(V.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),o||P(U,"propertyIsEnumerable",at,{unsafe:!0})),L.f=function(t){return rt(A(t),t)}),r({global:!0,wrap:!0,forced:!a,sham:!a},{Symbol:V}),D(b(J),function(t){k(t)}),r({target:"Symbol",stat:!0,forced:!a},{for:function(t){var e=String(t);if(c(Z,e))return Z[e];var n=V(e);return Z[e]=n,$[n]=e,n},keyFor:function(t){if(!it(t))throw TypeError(t+" is not a symbol");if(c($,t))return $[t]},useSetter:function(){et=!0},useSimple:function(){et=!1}}),r({target:"Object",stat:!0,forced:!a,sham:!s},{create:function(t,e){return void 0===e?v(t):st(v(t),e)},defineProperty:ot,defineProperties:st,getOwnPropertyDescriptor:ut}),r({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:ct,getOwnPropertySymbols:lt}),r({target:"Object",stat:!0,forced:u(function(){w.f(1)})},{getOwnPropertySymbols:function(t){return w.f(p(t))}}),F&&r({target:"JSON",stat:!0,forced:!a||u(function(){var t=V();return"[null]"!=q([t])||"{}"!=q({a:t})||"{}"!=q(Object(t))})},{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(h(e)||void 0!==t)&&!it(t))return l(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!it(e))return e}),r[1]=e,q.apply(F,r)}}),V.prototype[z]||S(V.prototype,z,V.prototype.valueOf),C(V,"Symbol"),T[N]=!0},function(t,e,n){n(270);var r=n(128);t.exports=r.Object.getOwnPropertySymbols},function(t,e,n){t.exports=n(271)},,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var r=n(231),i=n(104);window.addEventListener("app-start",function(){var t=new r.a,e=new i.b([i.a]);t.loadApplication(e)},!0)}]);