(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{324:function(t,e,r){"use strict";r.d(e,"a",function(){return u});var o,n=r(42),i=r(146),a=r(93),s=r(21),l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}},u=function(t){function e(e){var r=t.call(this)||this;return r.floors=e,r.floorNames=new n.a,r.currentFloor=-1,r.getHighestVisibleFloor=function(){return r.currentFloor>-1?r.currentFloor:r.totalFloors-1},r.getViewData=function(t){var e=r.floors.getFloor(t),o=r.derivedData[t];return e&&!o&&r.makeViewData&&(r.derivedData[t]=r.makeViewData(e)),r.derivedData[t]},r.raycastGroups=function(t){var e,o,n=[],i=-1===r.currentFloor,a=r.floors.getCollection();try{for(var s=c(a),l=s.next();!l.done;l=s.next()){var u=l.value,d=u.floorIndex===r.currentFloor;(t||i||d)&&n.push(u.colliderGroupName)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(e)throw e.error}}return n},r.viewdataChangeHandlers=[],r.derivedData={},r.currentFloor=-1,r.transition={from:-1,to:-1,progress:new i.a(0),promise:Promise.resolve()},r}return l(e,t),Object.defineProperty(e.prototype,"totalFloors",{get:function(){return this.floors.getFloorCount()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"highestVisibleFloor",{get:function(){return this.getHighestVisibleFloor},enumerable:!0,configurable:!0}),e.prototype.update=function(t){this.floors=t.floors,this.viewdataChangeHandlers=t.viewdataChangeHandlers,this.derivedData=t.derivedData,this.currentFloor=t.currentFloor,this.transition=t.transition,this.floorNames=t.floorNames,this.makeViewData=t.makeViewData,this.getFloorMax=t.getFloorMax,this.getFloorMin=t.getFloorMin,this.moveToFloor=t.moveToFloor},e.prototype.setViewDataFactory=function(t){this.makeViewData=t},e.prototype.getFloorNames=function(){var t=[];for(var e in this.derivedData)t.push(this.derivedData[e].name);return t},e.prototype.initialize=function(){},e.prototype.dispose=function(){},e.prototype.notifyOnChanged=function(){var t,e;try{for(var r=c(this.viewdataChangeHandlers),o=r.next();!o.done;o=r.next()){(0,o.value)()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e.prototype.onViewDataChanged=function(t,e){var r=this;void 0===e&&(e=!1);var o={renew:function(){r.viewdataChangeHandlers.push(t)},cancel:function(){Object(a.a)(r.viewdataChangeHandlers,t)}};return e&&o.renew(),o},e.prototype.getFloorsVisibility=function(){if(-1===this.currentFloor)return[];for(var t=[],e=0;e<this.totalFloors;e++)t[e]=e===this.currentFloor?1:0;return t},e}(s.a)},353:function(t,e,r){"use strict";r.d(e,"a",function(){return u});var o,n=r(21),i=r(156),a=r(114),s=r(47),l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}},u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tags=Object(a.a)(),e}return l(e,t),e.prototype.update=function(t){this.copy(t)},e.prototype.clear=function(){var t,e;try{for(var r=c(this.tags),o=r.next();!o.done;o=r.next()){var n=o.value;this.removeTag(n.sid)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e.prototype.clone=function(){return(new e).copy(this)},e.prototype.copy=function(t){return e.copyTagCollection(this,t),this},e.copyTagCollection=function(t,e){var r,o,n,i,a=t.tags,s=e.tags;try{for(var l=c(a.keys),u=l.next();!u.done;u=l.next()){var d=u.value;s.has(d)||t.removeTag(d)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}try{for(var p=c(s),f=p.next();!f.done;f=p.next()){var g=f.value;t.addTag(g)}}catch(t){n={error:t}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}},e.copyTag=function(t,e){var r,o;t.anchorNormal.copy(e.anchorNormal),t.anchorPosition.copy(e.anchorPosition),t.color.copy(e.color),t.created.setTime(e.created.getTime()),t.description=e.description.slice(),t.enabled=e.enabled,t.floorIndex=e.floorIndex,t.isActive=e.isActive,t.label=e.label.slice(),t.mediaSrc=e.mediaSrc.slice(),t.mediaType=e.mediaType.slice(),t.modified.setTime(e.modified.getTime()),t.sid=e.sid.slice(),t.stemVector.copy(e.stemVector),t.stemVisible=e.stemVisible,t.parsedDescription=[];try{for(var n=c(e.parsedDescription),i=n.next();!i.done;i=n.next()){var a=i.value;t.parsedDescription.push({link:a.link&&{label:a.link.label.slice(),url:a.link.url.slice(),type:a.link.type,navigationData:a.link.navigationData&&{floorVisibility:a.link.navigationData.floorVisibility,mode:a.link.navigationData.mode,panoId:a.link.navigationData.panoId&&a.link.navigationData.panoId.slice(),position:a.link.navigationData.position.clone(),quaternion:a.link.navigationData.quaternion.clone(),zoom:a.link.navigationData.zoom}},text:a.text&&a.text.slice(),type:a.type})}}catch(t){r={error:t}}finally{try{i&&!i.done&&(o=n.return)&&o.call(n)}finally{if(r)throw r.error}}return t},e.cloneTag=function(t){var r=e.copyTag(new i.a,t);return r.anchorNormal=Object(s.a)(r.anchorNormal),r.anchorPosition=Object(s.a)(r.anchorPosition),r.color=Object(s.a)(r.color),r.stemVector=Object(s.a)(r.stemVector),Object(s.a)(r)},Object.defineProperty(e.prototype,"collection",{get:function(){return this.tags},enumerable:!0,configurable:!0}),e.prototype.addTag=function(t){this.tags.has(t.sid)?e.copyTag(this.tags.get(t.sid),t):this.tags.set(t.sid,e.cloneTag(t))},e.prototype.removeTag=function(t){return this.tags.delete(t)},e.prototype.getTag=function(t){return this.tags.get(t)},e.prototype.getTagList=function(){return this.tags.keys},e.prototype.getTagCount=function(){return this.tags.length},e.prototype.iterate=function(t){var e,r;try{for(var o=c(this.tags),n=o.next();!n.done;n=o.next()){t(n.value)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},e}(n.a)},373:function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"b",function(){return u});var o,n,i=r(21),a=r(42),s=r(60),l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),c=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}};!function(t){t[t.DISABLED=0]="DISABLED",t[t.ENABLED=1]="ENABLED",t[t.PLACING=2]="PLACING",t[t.OPENING=3]="OPENING",t[t.OPEN=4]="OPEN"}(n||(n={}));var u=function(t){function e(e){var r=t.call(this)||this;return r.tags=e,r.openBillboards=new a.a,r.visitedTags=new a.a,r.persistentBillboards={},r.observables={selectedTag:Object(s.b)(null),uncommittedEdit:Object(s.b)(null),editingTag:Object(s.b)(null),navigatingTag:Object(s.b)(null)},r.addStateObservable=Object(s.b)(n.ENABLED),r.navigationPitch=0,r.viewedTags=0,r}return l(e,t),e.prototype.update=function(t){this.openBillboards=t.openBillboards,this.visitedTags=t.visitedTags,this.persistentBillboards=t.persistentBillboards,this.observables.selectedTag=t.observables.selectedTag,this.observables.editingTag=t.observables.editingTag,this.observables.navigatingTag=t.observables.navigatingTag,this.navigationPitch=t.navigationPitch,this.viewedTags=t.viewedTags,this.tags=t.tags},e.prototype.togglePersistentBillboards=function(t,e){var r,o;try{for(var n=c(t),i=n.next();!i.done;i=n.next()){var a=i.value;this.tags.has(a)&&(this.persistentBillboards[a]=e)}}catch(t){r={error:t}}finally{try{i&&!i.done&&(o=n.return)&&o.call(n)}finally{if(r)throw r.error}}},e.prototype.addBillboards=function(t){var e=this;t.length&&(t=t.filter(function(t){return e.tags.has(t)&&-1===e.openBillboards.indexOf(t)}),this.openBillboards.concat(t),t.forEach(function(t){e.tags.get(t).isActive=!0}))},e.prototype.removeBillboards=function(t,e){var r=this,o=this.openBillboards.values().filter(function(o){return!e&&r.persistentBillboards[o]||r.tags.has(o)&&-1===t.indexOf(o)});t.forEach(function(t){r.tags.has(t)&&r.tags.get(t).isActive&&(!e&&r.persistentBillboards[t]||(r.tags.get(t).isActive=!1))}),this.openBillboards.replace(o)},e.prototype.removeAllBillboards=function(){this.removeBillboards(this.openBillboards.values())},e.prototype.resetBillboardData=function(){this.removeAllBillboards(),this.selectTag(null),this.setEditing(null)},e.prototype.getTagCount=function(){return this.tags.length},e.prototype.removeAllBillboardsExcept=function(t){var e=this.tags.keys.filter(function(e){return e!==t});this.removeBillboards(e)},e.prototype.selectTag=function(t){this.observables.selectedTag.value!==t&&(this.observables.selectedTag.value=t)},Object.defineProperty(e.prototype,"selected",{get:function(){return this.observables.selectedTag.value},enumerable:!0,configurable:!0}),e.prototype.onSelectedChanged=function(t,e){return void 0===e&&(e=!1),this.makePropertySubscription("selectedTag",t,e)},e.prototype.setEditing=function(t){this.observables.editingTag.value!==t&&(this.observables.editingTag.value=t)},Object.defineProperty(e.prototype,"editing",{get:function(){return this.observables.editingTag.value},enumerable:!0,configurable:!0}),e.prototype.onEditingTagChanged=function(t,e){return void 0===e&&(e=!1),this.makePropertySubscription("editingTag",t,e)},e.prototype.setNavigatingTag=function(t){this.observables.navigatingTag.value!==t&&(this.observables.navigatingTag.value=t)},Object.defineProperty(e.prototype,"navigating",{get:function(){return this.observables.navigatingTag.value},enumerable:!0,configurable:!0}),e.prototype.onNavigatingChanged=function(t,e){return void 0===e&&(e=!1),this.makePropertySubscription("navigatingTag",t,e)},e.prototype.setUncommittedTag=function(t){this.observables.uncommittedEdit.value=t},Object.defineProperty(e.prototype,"uncommittedTag",{get:function(){return this.observables.uncommittedEdit.value},enumerable:!0,configurable:!0}),e.prototype.onUncommittedChanged=function(t,e){return void 0===e&&(e=!1),this.makePropertySubscription("uncommittedEdit",t,e)},e.prototype.makePropertySubscription=function(t,e,r){var o=this.observables[t].onChanged(e);return r&&o.renew(),o},e.prototype.setAddState=function(t){this.addStateObservable.value=t},Object.defineProperty(e.prototype,"addState",{get:function(){return this.addStateObservable.value},enumerable:!0,configurable:!0}),e.prototype.onAddStateChanged=function(t,e){void 0===e&&(e=!1);var r=this.addStateObservable.onChanged(t);return e&&r.renew(),r},e.prototype.isAddingTag=function(){var t=this.addStateObservable.value;return t===n.PLACING||t===n.OPENING||t===n.OPEN},e.prototype.visitTag=function(t){this.viewedTags++,-1===this.visitedTags.indexOf(t)&&this.visitedTags.push(t)},e.prototype.getViewedTagCount=function(){return this.viewedTags},e.prototype.getVisitedTags=function(){return this.visitedTags.values()},e.prototype.getBillboards=function(){return this.openBillboards.values()},e.prototype.setNavigationPitch=function(t){this.navigationPitch=t},e.prototype.iterate=function(t){var e,r;try{for(var o=c(this.tags),n=o.next();!n.done;n=o.next()){t(n.value)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}},e}(i.a)},381:function(t,e,r){"use strict";r.d(e,"c",function(){return a}),r.d(e,"d",function(){return s}),r.d(e,"a",function(){return l}),r.d(e,"b",function(){return c}),r.d(e,"e",function(){return u});var o,n=r(34),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=function(t){function e(e,r){var o=t.call(this)||this;return o.sid=e,o.hovering=r,o}return i(e,t),e}(n.a),s=function(t){function e(e){var r=t.call(this)||this;return r.sid=e,r}return i(e,t),e}(n.a),l=function(t){function e(e){var r=t.call(this)||this;return r.sid=e,r}return i(e,t),e}(n.a),c=function(t){function e(e){var r=t.call(this)||this;return r.extUrl=e,r}return i(e,t),e}(n.a),u=function(t){function e(e,r){var o=t.call(this)||this;return o.sid=e,o.view=r,o}return i(e,t),e}(n.a)},487:function(t,e,r){"use strict";r.d(e,"b",function(){return o}),r.d(e,"a",function(){return l});var o,n=r(353),i=r(373),a=r(381),s=r(40);!function(t){t.OVERLAY="overlay",t.HOVER="hover",t.OPEN="open"}(o||(o={}));var l=function(){return function(){this.handlers=[{msgType:a.d,func:function(t,e,r){var o=r.tryGetData(n.a),a=r.tryGetData(i.b);if(o&&a){var l=o.getTagCount(),c=a.getVisitedTags().length,u=a.getViewedTagCount(),d=o.getTag(e.sid);d&&t.track("tag_opened",{tag_count:l,tag_id:e.sid,tags_visited:c,tag_view_count:u,has_media:d.mediaType!==s.a.none})}}},{msgType:a.e,func:function(t,e,r){var o=r.tryGetData(n.a),a=r.tryGetData(i.b);if(o&&a){var s=o.getTagCount(),l=a.getVisitedTags().length,c=a.getViewedTagCount(),u=o.getTag(e.sid);if(u){var d={mattertag_sid:e.sid,mattertag_view:e.view,mattertag_media:u.mediaType,mattertags_count:s,mattertags_total_views:c,mattertags_visited:l};t.track("mattertag_view",d)}}}}]}}()}}]);